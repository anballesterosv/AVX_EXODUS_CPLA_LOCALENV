!function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l,d=[],f=!1,p=-1;function h(){if(!f||!l)return;f=!1,l.length?d=l.concat(d):p=-1,d.length&&g()}function g(){if(f)return;var e=u(h);f=!0;for(var t=d.length;t;){for(l=d,d=[];++p<t;)l&&l[p].run();p=-1,t=d.length}l=null,f=!1,c(e)}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new v(e,t)),1!==d.length||f||u(g)};function v(e,t){this.fun=e,this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function m(){}o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(e,t,n){!function(){function e(e,t){this._object=void 0,this._name=e,this._ctx=t,this.properties={strategy:a.defaults.strategy,factory:a.defaults.factory,injector:a.defaults.injector,load:a.defaults.load,wasReady:!1,initialize:!0}}e.prototype.name=function(){return this._name},e.prototype.asFactory=function(e,t){return void 0!=t&&this.type(t),this.factory(e),this},e.prototype.loadDependencies=function(e,t){return void 0!=t&&this.dependencies(t),this.load(e),this},e.prototype.asFunction=function(e){return this.asFactory(a.factory.func,e)},e.prototype.asInstance=function(e){return this.asFactory(a.factory.instance,e)},e.prototype.asCtor=function(e){return this.asFactory(a.factory.constructor,e)},e.prototype.asSingleton=function(){return this.strategy(a.strategy.singleton)},e.prototype.asProto=function(){return this.strategy(a.strategy.proto)},e.prototype.injectToCtor=function(){return this.injector(a.injector.ctor)},e.prototype.injectToReady=function(){return this.injector(a.injector.ready)},e.prototype.injectToProperty=function(){return this.injector(a.injector.property)},e.prototype.flatDependencies=function(e){return this.loadDependencies(a.load.flat,e)},e.prototype.recursiveDependencies=function(e){return this.loadDependencies(a.load.recursive,e)},e.prototype.useOnce=function(){var e=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,e.apply(this,arguments)},this},e.prototype.depsDictionary=function(e){if(!arguments.length)return this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary;return this.properties.depsDictionary=e,this},e.prototype.create=function(e,t,n){n=n||a.load.recursive;var r=this.properties.strategy.test(this._object,n);if(t)return r;r&&(e=this.properties.injector.create(e?e:this.properties.args,this,this._ctx,n));var i=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,e,this._ctx,this,n);return this._ctx.ready(i,this)},e.prototype.getObject=function(e){return this.create(void 0,void 0,e)},e.prototype.object=function(e){return arguments.length?(this._object=e,this):this.create()};for(var n=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],r=0;r<n.length;r++){var i=n[r];o(i)}function o(t){e.prototype[t]=function(e){if(!arguments.length)return this.properties[t];return this.properties[t]=e,this}}var a=function(t){t=t||{},t.version="0.3.3";t.logger=function(e,t){},t.log=function(e,n,r){n&&(e="[class="+n.name()+"] "+e),t.logger("DI - "+e,r||4)},t.error=function(e,n,r){t.log(e,n,r)},t.createContext=function(){var e={map:{},decorators:{}};e.decorate=function(t,n){e.decorators[t]||(e.decorators[t]=[]),e.decorators[t].push(n)},e.entry=function(t){return e.map[t]},e.register=function(n,r,i){var o=t.entry(n,e).type(r).args(i);return e.map[n]=o,o},e.has=function(t){return null!=e.entry(t)},e.remove=function(t){if(e.has(t))return e.map[t]=null,!0;return!1},e.isEntryRemoved=function(t){return null===e.entry(t)},e.get=function(n,r){return e.isEntryRemoved(n)&&t.error("Object["+n+"] was removed"),e.has(n)||t.error("Object["+n+"] is not registered"),e.entry(n).getObject(r)},e.create=function(n,r){if(e.entry(n).strategy()==t.strategy.singleton&&t.error("Attempt to create singleton object ["+n+"]"),e.has(n))return e.entry(n).create(r);t.error("Object["+n+"] is not registered")},e.initialize=function(){function n(n){var r=e.entry(n);r?r.initialize()&&r.strategy().initialize()&&e.get(n):t.error("Object["+n+"] is not registered")}return function(t){if(t)n(t);else for(var t in e.map)n(t)}}(),e.clear=function(){this.map={},this.decorators={}};function n(e){for(;e.indexOf(" ")>=0;)e=e.replace(" ","");return e}return e.resolve=function(n){var r=n.load(),i={};return e.eachDependency(n.dependencies(),function(o,a){var s=e.get(o,r);e.ready(s,e.entry(o)),null==s&&t.error("Dependency ["+n.name()+"."+a+"]->["+o+"] can not be satisfied",n),i[a]=s}),i},e.eachDependency=function(e,r){if(e)for(var i=n(e).split(","),o=0;o<i.length;o++){var a=i[o];if(a){var s=t.dependencyExpression(a);try{r(s.name,s.property,o)}catch(u){t.error("An exception was thrown while the DI tried to resolve class '"+s.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+u.message)}}}},e.ready=function(t,n){if(null===n&&t)return t;var r=n.wasReady();if(n.wasReady(!0),!r){var i=e.createCallback();i&&i(n.name(),t),t&&"function"==typeof t.ready&&t!=window&&t!=window.document&&t!=window.document.body&&(n.wasReady(!0),t.ready.apply(t,n.injector().ready(t,n)||[]))}return t},e.createCallback=function(){var t;return function(n){if(0==arguments.length)return t;return t=n,e}}(),e},t.dependencyExpression=function(e){var t={},n=e,r=e;if(e.indexOf("=")>0){var i=e.split("=");n=i[0],r=i[1]}return t.name=r,t.property=n,t},t.entry=function(t,n){return new e(t,n)},t.strategy={proto:{test:function(e,t){return!t||t()},initialize:function(){return!1},create:function(e,t,r,i,o,a,s){return e=n(t,r,i,o,a),s()&&a.injector().ready(e,a),a.depsDictionary(void 0),a.wasReady(!1),e}},singleton:{test:function(e,t){return!e&&(!t||t())},initialize:function(){return!0},create:function(e,t,r,i,o,a,s){return e||(e=n(t,r,i,o,a),a.object(e),a.wasReady(!0),s()&&a.injector().ready(e,a),a.wasReady(!1)),e}}};function n(e,t,n,r,i){var o=e(t,n,i),a=r.decorators[i.name()];if(a)for(var s=0;s<a.length;s++)o=a[s](o);return o}return t.factory={constructor:function(e,n,r){if(!(n instanceof Array))return new e(n);if(n.length<=10)return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]);if(n.length<=30)return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]);t.error("trying to create a class with too many args!",r)},func:function(e,t,n){return t instanceof Array?e.apply(e,t):e(t)},instance:function(e,t,n){return e}},t.injector={property:{create:function(e,t,n){return e},ready:function(e,t){var n=t.depsDictionary();for(var r in n)e[r]=n[r];var i=t.args();void 0==i||n.hasOwnProperty("args")||(e.args=i)}},ready:{create:function(e,t,n){return e},ready:function(e,t){var n=t.args(),r=[],i=t.depsDictionary();if(s.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),n){n=n instanceof Array?n:[n];for(var o=0;o<n.length;o++)r.push(n[o])}return r}},ctor:{create:function(e,t,n){var r=[],i=t.depsDictionary();if(n.eachDependency(t.dependencies(),function(e,t,n){r[n]=i[t]}),e){e=e instanceof Array?e:[e];for(var o=0;o<e.length;o++)r.push(e[o])}return r},ready:function(e,t){}}},t.load={flat:function(e,t,n){return!1},recursive:function(e,t,n){return!0}},t.defaults={strategy:t.strategy.singleton,factory:t.factory.constructor,injector:t.injector.ctor,load:t.load.recursive},t}(),s=a.createContext();t.exports=function(e){e.di=a,e.ctx=s}}()},{}],3:[function(e,t,n){"use strict";var r,i,o="walkme_prelib_log_enabled",a=1e4,s=[],u={write:c,getCookieName:p,setCookieName:f,enableLog:h,disableLog:g,isLogEnabled:v,readCookie:_,writeCookie:y,getLogHistoryRecords:d};function c(){if(v()){var e=arguments;try{e.stack=(new Error).stack}catch(t){}l(e);var n=Array().slice.call(e);console.log.apply(console,n)}}function l(e){var t=new Date;e.timeElapsed=t-(i||t),i=t,s.unshift(e),s=s.splice(0,a)}function d(){return s}function f(e){o=e}function p(){return o}function h(){r=!0,y(o,!0)}function g(){r=!1,y(o,"",-1)}function v(){if("undefined"!=typeof r)return r;return m(),r}function m(){var e=window.console&&(_(o)||!1);r=e&&"true"==e.toString().toLowerCase()}function _(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():void 0}function y(e,t,n){var r,i="";n&&(r=new Date,r.setTime(r.getTime()+864e5*n),i="; expires="+r.toUTCString()),document.cookie=e+"="+t+i+"; path=/"}t.exports=u},{}],4:[function(e,t,n){(function(t,n){!function(){var r,i=e("wm-prelib-logger");function o(){return r}window._walkmeInternals=window._walkmeInternals||{},e("wm-di")(window._walkmeInternals);var a=window._walkmeInternals.ctx;!function(){var o={},s=function(){function e(e){this.promiseManager=e,this._plugins=[]}return e.prototype.register=function(e){this._plugins.push(e)},e.prototype.run=function(e){for(var t,n=this._plugins,r=[],i=0;i<n.length;i++)t=n[i].run(e),t&&r.push(t);return this.promiseManager.all(r)},e}();o.PluginsManager=s;/*!
 * @overview RSVP - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
 * @version   3.1.0
 */
var u=o.promiseManager=function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}var a;a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var s=a,u=Date.now||function(){return(new Date).getTime()};function c(){}var l=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return c.prototype=e,new c};function d(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function f(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}var p={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,t){if("function"!=typeof t)throw new TypeError("Callback must be a function");var n,r=f(this);n=r[e],n||(n=r[e]=[]),d(n,t)===-1&&n.push(t)},off:function(e,t){var n,r,i=f(this);if(!t)return void(i[e]=[]);n=i[e],r=d(n,t),r!==-1&&n.splice(r,1)},trigger:function(e,t,n){var r,i,o=f(this);if(r=o[e])for(var a=0;a<r.length;a++)(i=r[a])(t,n)}},h={instrument:!1};p.mixin(h);function g(e,t){if("onerror"===e)return void h.on("error",t);if(2!==arguments.length)return h[e];h[e]=t}var v=[];function m(){setTimeout(function(){for(var e,t=0;t<v.length;t++){e=v[t];var n=e.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),h.trigger(e.name,e.payload)}v.length=0},50)}function _(e,t,n){1===v.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:n&&n._id,label:t._label,timeStamp:u(),error:h["instrument-with-stack"]?new Error(t._label):null}})&&m()}var y=_;function b(){return new TypeError("A promises callback cannot return that same promise.")}function w(){}var E=void 0,S=1,O=2,C=new V;function N(e){try{return e.then}catch(t){return C.error=t,C}}function T(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function D(e,t,n){h.async(function(e){var r=!1,i=T(n,t,function(n){if(r)return;r=!0,t!==n?R(e,n):L(e,n)},function(t){if(r)return;r=!0,M(e,t)},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,M(e,i))},e)}function A(e,t){t._state===S?L(e,t._result):t._state===O?(t._onError=null,M(e,t._result)):P(t,void 0,function(n){t!==n?R(e,n):L(e,n)},function(t){M(e,t)})}function I(e,t){if(t.constructor===e.constructor)A(e,t);else{var n=N(t);n===C?M(e,C.error):void 0===n?L(e,t):i(n)?D(e,t,n):L(e,t)}}function R(e,t){e===t?L(e,t):r(t)?I(e,t):L(e,t)}function x(e){e._onError&&e._onError(e._result),U(e)}function L(e,t){if(e._state!==E)return;e._result=t,e._state=S,0===e._subscribers.length?h.instrument&&y("fulfilled",e):h.async(U,e)}function M(e,t){if(e._state!==E)return;e._state=O,e._result=t,h.async(x,e)}function P(e,t,n,r){var i=e._subscribers,o=i.length;e._onError=null,i[o]=t,i[o+S]=n,i[o+O]=r,0===o&&e._state&&h.async(U,e)}function U(e){var t=e._subscribers,n=e._state;if(h.instrument&&y(n===S?"fulfilled":"rejected",e),0===t.length)return;for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?F(n,r,i,o):i(o);e._subscribers.length=0}function V(){this.error=null}var k=new V;function j(e,t){try{return e(t)}catch(n){return k.error=n,k}}function F(e,t,n,r){var o,a,s,u,c=i(n);if(c){if(o=j(n,r),o===k?(u=!0,a=o.error,o=null):s=!0,t===o)return void M(t,b())}else o=r,s=!0;t._state!==E||(c&&s?R(t,o):u?M(t,a):e===S?L(t,o):e===O&&M(t,o))}function B(e,t){var n=!1;try{t(function(t){if(n)return;n=!0,R(e,t)},function(t){if(n)return;n=!0,M(e,t)})}catch(r){M(e,r)}}function W(e,t,n){return e===S?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function X(e,t,n,r){var i=this;i._instanceConstructor=e,i.promise=new e(w,r),i._abortOnReject=n,i._validateInput(t)?(i._input=t,i.length=t.length,i._remaining=t.length,i._init(),0===i.length?L(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&L(i.promise,i._result))):M(i.promise,i._validationError())}var z=X;X.prototype._validateInput=function(e){return s(e)},X.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},X.prototype._init=function(){this._result=new Array(this.length)},X.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===E&&i<t;i++)e._eachEntry(r[i],i)},X.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;o(e)?e.constructor===r&&e._state!==E?(e._onError=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=n._makeResult(S,t,e))},X.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===E&&(r._remaining--,r._abortOnReject&&e===O?M(i,n):r._result[t]=r._makeResult(e,t,n)),0===r._remaining&&L(i,r._result)},X.prototype._makeResult=function(e,t,n){return n},X.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){n._settledAt(S,t,e)},function(e){n._settledAt(O,t,e)})};function H(e,t){return new z(this,e,(!0),t).promise}var q=H;function G(e,t){var n=this,r=new n(w,t);if(!s(e))return M(r,new TypeError("You must pass an array to race.")),r;var i=e.length;function o(e){R(r,e)}function a(e){M(r,e)}for(var u=0;r._state===E&&u<i;u++)P(n.resolve(e[u]),void 0,o,a);return r}var Y=G;function Q(e,t){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var r=new n(w,t);return R(r,e),r}var J=Q;function K(e,t){var n=this,r=new n(w,t);return M(r,e),r}var $=K,Z="rsvp_"+u()+"-",ee=0;function te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ne(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function re(e,t){var n=this;n._id=ee++,n._label=t,n._state=void 0,n._result=void 0,n._subscribers=[],h.instrument&&y("created",n),w!==e&&(i(e)||te(),n instanceof re||ne(),B(n,e))}var ie=re;re.cast=J,re.all=q,re.race=Y,re.resolve=J,re.reject=$,re.prototype={constructor:re,_guidKey:Z,_onError:function(e){var t=this;h.after(function(){t._onError&&h.trigger("error",e,t._label)})},then:function(e,t,n){var r=this,i=r._state;if(i===S&&!e||i===O&&!t)return h.instrument&&y("chained",r,r),r;r._onError=null;var o=new r.constructor(w,n),a=r._result;if(h.instrument&&y("chained",r,o),i){var s=arguments[i-1];h.async(function(){F(i,o,s,a)})}else P(r,o,e,t);return o},"catch":function(e,t){return this.then(void 0,e,t)},"finally":function(e,t){var n=this,r=n.constructor;return n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)}};function oe(e,t,n){this._superConstructor(e,t,!1,n)}oe.prototype=l(z.prototype),oe.prototype._superConstructor=z,oe.prototype._makeResult=W,oe.prototype._validationError=function(){return new Error("allSettled must be called with an array")};function ae(e,t){return new oe(ie,e,t).promise}var se=ae;function ue(e,t){return ie.all(e,t)}var ce,le=ue,de=0;({}).toString;function fe(e,t){Oe[de]=e,Oe[de+1]=t,de+=2,2===de&&Te()}var pe=fe,he="undefined"!=typeof window?window:void 0,ge=he||{},ve=ge.MutationObserver||ge.WebKitMutationObserver,me="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),_e="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function ye(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=setImmediate),function(){e(Ce)}}function be(){return function(){ce(Ce)}}function we(){var e=0,t=new ve(Ce),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function Ee(){var e=new MessageChannel;return e.port1.onmessage=Ce,function(){e.port2.postMessage(0)}}function Se(){return function(){setTimeout(Ce,1)}}var Oe=new Array(1e3);function Ce(){for(var e=0;e<de;e+=2){var t=Oe[e],n=Oe[e+1];t(n),Oe[e]=void 0,Oe[e+1]=void 0}de=0}function Ne(){try{var t=e,n=t("vertx");return ce=n.runOnLoop||n.runOnContext,be()}catch(r){return Se()}}var Te;Te=me?ye():ve?we():_e?Ee():void 0===he&&"function"==typeof e?Ne():Se();function De(e){var t={};return t.promise=new ie(function(e,n){t.resolve=e,t.reject=n},e),t}var Ae=De;function Ie(e,t,n){return ie.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as filter's second argument.");for(var r=e.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a]);return ie.all(o,n).then(function(t){for(var n=new Array(r),i=0,o=0;o<r;o++)t[o]&&(n[i]=e[o],i++);return n.length=i,n})})}var Re=Ie;function xe(e,t,n){this._superConstructor(e,t,!0,n)}var Le=xe;xe.prototype=l(z.prototype),xe.prototype._superConstructor=z,xe.prototype._init=function(){this._result={}},xe.prototype._validateInput=function(e){return e&&"object"==typeof e},xe.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},xe.prototype._enumerate=function(){var e=this,t=e.promise,n=e._input,r=[];for(var i in n)t._state===E&&Object.prototype.hasOwnProperty.call(n,i)&&r.push({position:i,entry:n[i]});var o=r.length;e._remaining=o;for(var a,s=0;t._state===E&&s<o;s++)a=r[s],e._eachEntry(a.entry,a.position)};function Me(e,t,n){this._superConstructor(e,t,!1,n)}Me.prototype=l(Le.prototype),Me.prototype._superConstructor=z,Me.prototype._makeResult=W,Me.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};function Pe(e,t){return new Me(ie,e,t).promise}var Ue=Pe;function Ve(e,t){return new Le(ie,e,t).promise}var ke=Ve;function je(e,t,n){return ie.all(e,n).then(function(e){if(!i(t))throw new TypeError("You must pass a function as map's second argument.");for(var r=e.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a]);return ie.all(o,n)})}var Fe=je;function Be(){this.value=void 0}var We=new Be,Xe=new Be;function ze(e){try{return e.then}catch(t){return We.value=t,We}}function He(e,t,n){try{e.apply(t,n)}catch(r){return We.value=r,We}}function qe(e,t){for(var n,r,i={},o=e.length,a=new Array(o),s=0;s<o;s++)a[s]=e[s];for(r=0;r<t.length;r++)n=t[r],i[n]=a[r+1];return i}function Ge(e){for(var t=e.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=e[r];return n}function Ye(e,t){return{then:function(n,r){return e.call(t,n,r)}}}function Qe(e,t){var n=function(){for(var n,r=this,i=arguments.length,o=new Array(i+1),a=!1,u=0;u<i;++u){if(n=arguments[u],!a){if(a=Ze(n),a===Xe){var c=new ie(w);return M(c,Xe.value),c}a&&a!==!0&&(n=Ye(a,n))}o[u]=n}var l=new ie(w);return o[i]=function(e,n){e?M(l,e):void 0===t?R(l,n):t===!0?R(l,Ge(arguments)):s(t)?R(l,qe(arguments,t)):R(l,n)},a?$e(l,o,e,r):Ke(l,o,e,r)};return n.__proto__=e,n}var Je=Qe;function Ke(e,t,n,r){var i=He(n,r,t);return i===We&&M(e,i.value),e}function $e(e,t,n,r){return ie.all(t).then(function(t){var i=He(n,r,t);return i===We&&M(e,i.value),e})}function Ze(e){return!(!e||"object"!=typeof e)&&(e.constructor===ie||ze(e))}var et;if("object"==typeof self)et=self;else{if("object"!=typeof n)throw new Error("no global: `self` or `global` found");et=n}function tt(e,t){return ie.race(e,t)}var nt=tt;function rt(e,t){return ie.reject(e,t)}var it=rt;function ot(e,t){return ie.resolve(e,t)}var at=ot;function st(e){throw setTimeout(function(){throw e}),e}var ut=st;h.async=pe,h.after=function(e){setTimeout(e,0)};function ct(e,t){h.async(e,t)}function lt(){h.on.apply(h,arguments)}function dt(){h.off.apply(h,arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var ft=window.__PROMISE_INSTRUMENTATION__;g("instrument",!0);for(var pt in ft)ft.hasOwnProperty(pt)&&lt(pt,ft[pt])}var ht={race:nt,Promise:ie,allSettled:se,hash:ke,hashSettled:Ue,denodeify:Je,on:lt,off:dt,map:Fe,filter:Re,resolve:at,reject:it,all:le,rethrow:ut,defer:Ae,EventTarget:p,configure:g,async:ct};return ht}(),c=function(){function e(e,t){this._eventsBase=e,this._promiseManager=t}return e.prototype.async=function(e,t,n,r){var i;try{i=this._eventsBase.triggerHandler(e,t)}catch(o){r&&r()}this._promiseManager.Promise.resolve(i).then(n,r)},e.prototype.sync=function(e,t,n){var r=t&&t.asyncCallback;r&&(t.__asyncResults=[]);var i=this._eventsBase.triggerHandler(e,t);if(r&&(i=this._promiseManager.all(t.__asyncResults).then(function(e){return e[e.length-1]})),void 0==i)return n;return i},e}();o.EventsTrigger=c;var l=function(){function e(e){this._eventsBase=e}return e.prototype.on=function(e,t){var n=d(t);this._eventsBase.on(e,n)},e.prototype.once=function(e,t){var n=d(t);this._eventsBase.one(e,n)},e.prototype.off=function(e,t){var n=p(t);this._eventsBase.off(e,n)},e}();o.EventsListener=l;function d(e){return e.__wmEventWrapped||(e.__wmEventWrapped=f(e)),e.__wmEventWrapped}function f(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=e.apply(this,t),i=(t[0],t[1]);return i&&i.__asyncResults&&i.__asyncResults.push(r),r}}function p(e){return e&&e.__wmEventWrapped||e}var h=function(){function e(e,t,n){this.PluginsManager=t,this._configs=new this.PluginsManager(n),this._plugins=new this.PluginsManager(n),this.ctx=e.ctx,this.di=e.di}return e.prototype.config=function(e){this._configs.register(e)},e.prototype.plugin=function(e){this._plugins.register(e)},e.prototype.start=function(e){var t=this._configs,n=this._plugins,r=t.run(e);return r.then(function(){return n.run(e)}).then(this.callWalkmePreLibLoaded)["catch"](this.logError),r},e.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},e.prototype.logError=function(e){r.ctx.has("PrelibLogger")&&r.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+e+"\nDetails:\n"+e.stack)},e}();o.LegoDI=h,a.register("PromiseManager").asInstance(u),a.register("Promise").asCtor(u.Promise).asProto(),r=new h(window._walkmeInternals,s,u);var g=wmjQuery({}),v=new c(g,u),m=new l(g);window._walkmeInternals.events={listener:m,trigger:v,_eventsBase:g},r.ctx.register("EventsTrigger").asInstance(v),r.ctx.register("EventsListener").asInstance(m),r.ctx.register("PrelibLogger").asInstance(i)}(),e("wm-plugin-lightning-spa")(o),e("wm-plugin-salesforce-find-element-adapter")(o),e("wm-plugin-salesforce-iframe-remover")(o),e("wm-plugin-sf-lightning-init-user-context")(o),e("wm-plugin-sf-vars")(o),e("wm-plugin-visions-recorder")(o);var s=function(){var e,t=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return t&&(e=t.getSettingsFile()),e||(e={}),e}();r.start(s)}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1,"wm-di":2,"wm-plugin-lightning-spa":10,"wm-plugin-salesforce-find-element-adapter":13,"wm-plugin-salesforce-iframe-remover":31,"wm-plugin-sf-lightning-init-user-context":33,"wm-plugin-sf-vars":39,"wm-plugin-visions-recorder":57,"wm-prelib-logger":3}],5:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.loggerFilter=n}(this,function(t){var n=this,r=864e5,i=365*r*10,o=7*r,a={ALWAYS:1,DAILY:2,WEEKLY:3,ONCE:4},s={};s.sendLog=f,s.ConstsLogLevel=a,s._logsIoSender=e("wm-logzio-sender"),s._emptyQueue=p,s._messageQueue=[],s._waitForEndUserGuid=l,s._configureFilterMapper=d,s._shouldSendLog=h,s._hasLogBeenSent=g,s._getUniqueLogMessage=v,s._filterMapper={};function u(){n._ctx=t,s._logsIoSender=s._logsIoSender(n._ctx),n._eventsListener=n._ctx.get("EventsListener"),n._eventsListener.on("DataLoadedEvent",c),n._eventsListener.on("BeforeStorageLoadedCallback",l),d()}function c(){s._storageManager||(s._prelibLogger=n._ctx.get("PrelibLogger"),s._storageManager=n._ctx.get("ClientStorageManager"))}function l(){s._emptyQueue()}function d(){s._filterMapper[a.ALWAYS]=function(){return!0},s._filterMapper[a.ONCE]=g(i),s._filterMapper[a.WEEKLY]=g(o),s._filterMapper[a.DAILY]=g(r)}function f(e){if(!s._storageManager)return void s._messageQueue.push(e);s._prelibLogger.write(e.message),s._shouldSendLog(e)&&s._logsIoSender.sendLog(e.message,e.extraData)}function p(){s._messageQueue.forEach(function(e){s.sendLog(e)}),s._messageQueue=[]}function h(e){var t=!!s._filterMapper[e.extraData.logLevel]&&s._filterMapper[e.extraData.logLevel](e.message);return t}function g(e){return function(t){var n=s._getUniqueLogMessage(window._walkMe.getUserGuid(),window._walkMe.getEndUserGuid(),t),r=s._storageManager.getData(n)||-1,i=(new Date).getTime();if(i-e>r)return s._storageManager.saveData(n,i,e),!0;return!1}}function v(e,t,n){var r=e+t+n.split(" ").join("");return m(r)}function m(e){var t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return""+r}return u(),s})},{"wm-logzio-sender":7}],6:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(){function e(){}return e.prototype.getEnvironmentByPlayerServer=function(){var e=window.wmSnippet&&window.wmSnippet.getSettingsFile(),t=e&&e.PlayerServer,n=/https\:\/\/(staging.|.*)playerserver\.walkme(.*)\.com/,r=n.exec(t);if(!r)return;if(this.checkIfStaging(r))return"staging";switch(r[2].toLowerCase()){case"dev":return"dev";case"qa":return"qa";case"":return"production"}},e.prototype.checkIfStaging=function(e){return"staging."==e[1]},e}();n["default"]=r},{}],7:[function(e,t,n){var r,i=function(){function e(e){var t=this;this._ctx=e,this._messageQueue=[],this._eventsListener=e.get("EventsListener"),this._eventsListener.on("DataLoadedEvent",function(){t._eventSenderErrorLogger||(t._eventSenderErrorLogger=t._ctx.get("EventSenderErrorLogger"),t.emptyQueue())})}return e.prototype.sendLog=function(e,t){if(!e)return;if(!this._eventSenderErrorLogger)return void this.pushToQueue(e,t);this._eventSenderErrorLogger.logError(e,t)},e.prototype.pushToQueue=function(e,t){this._messageQueue.push({message:e,extraData:t})},e.prototype.emptyQueue=function(){for(var e=0;e<this._messageQueue.length;e++)this._eventSenderErrorLogger.logError(this._messageQueue[e].message,this._messageQueue[e].extraData);this._messageQueue=null},e}();t.exports=function(e){return r?r:r=new i(e)}},{}],8:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger").log;function o(){var e=this;e.run=u;var t,n,o,a="aura:doneRendering";function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),o=r().get("EventsTrigger")}function u(){return i("Initializing Lightning SPA"),n.on("WalkMeReady",c),null}function c(){var e=r().get("ObjectJpath").getValue(window,"$A.root.addEventHandler");if(!e)return void i('Error: Evaluating "window.$A.root.addEventHandler" returned empty. Lightning SPA stopped.');e.apply(window.$A.root,[a,l]),n.on("removeWalkMe",function(){window.$A.root.removeEventHandler(a,l)}),i("Lightning SPA initialized and listening to rendering events")}function l(e){try{i("Rendering ended. Trying to trigger a throttled UIChange.",e),r().get("UIChangeTracker").triggerThrottledUIChange()}catch(t){i("An error happened when triggring a UIChange",t)}}s()}n.LightningSPA=o},{"./logger":9,"wm-prelib-plugin-entry-manager":59}],9:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r().get("PrelibLogger");function o(){var e=Array().slice.call(arguments);e.unshift("[ LightningSPA ]"),i.write.apply(i,e)}n.log=o},{"wm-prelib-plugin-entry-manager":59}],10:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./lightningSPA.js").LightningSPA;t(new n)})},{"./lightningSPA.js":8,"wm-prelib-plugin-entry-manager":59}],11:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n){var i,o,a,s,u,c="NavBarConverter ";function l(){u=r().get("PrelibLogger")}this.match=function(e){var n=e.ElementDescription.elementXpath;return null!=n.match(t.NAV_BAR_XPATH)},this.process=function(r){var u=r.ElementDescription.elementXpath;g(u);var l=f(u),p=n.isNewNavBar();!l&&p?(e.writeToLog(c,"Detected a capture from an old version in a new version, converting..."),d(r,i,o,t.NEW_NAV_BAR_APP_SELECTOR)):l&&!p&&(e.writeToLog(c,"Detected a capture from a new version in an old version, converting..."),d(r,a,s,t.HEADER_SELECTOR))};function d(e,t,r,i){var o=p(e,t);o&&(n.convertAllSelectors(e,i,c),h(e,r))}function f(e){return null!=e.match(t.NEW_NAV_BAR_XPATH)}function p(t,n){var r=t.ElementDescription.elementXpath;e.writeToLog(c,"Original xpath: "+r);for(var i=!1,o=0;o<n.length;o++){var a=n[o],s=a.originalXpath.exec(r);s&&(i=!0,r=r.slice(0,s.index)+r.substring(s.index).replace(s[1],a.convertedXpath))}return t.ElementDescription.elementXpath=r,e.writeToLog(c,"Converted xpath: "+r),i}function h(t,n){if(e.writeToLog(c,"Converting classes..."),t.ElementDescription.elementClass)for(var r=0;r<n.length;r++){var i=n[r];null!=t.ElementDescription.elementClass.match(i.originalClass)&&(t.ElementDescription.elementClass=t.ElementDescription.elementClass.replace(i.originalClass,i.convertedClass),e.writeToLog(c,"converted "+i.originalClass+" class to "+i.convertedClass+" class"))}}function g(e){_(e),m(),v()}function v(){if(!a){var e="li["+y(t.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[2]/div[1]/ul[1]",n="li["+y(t.OLD_NAV_BAR_LIST_SELECTOR)+"]/div[1]/div[1]/div[1]/div[1]/a[1]";a=[{originalXpath:t.NEW_NAV_BAR_APP_REGEX,convertedXpath:t.OLD_NAV_BAR_APP},{originalXpath:t.NEW_NAV_BAR_REGEX,convertedXpath:t.OLD_NAV_BAR},{originalXpath:t.NEW_NAV_BAR_ITEM_REGEX,convertedXpath:t.OLD_NAV_BAR_ITEM},{originalXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW},{originalXpath:t.NEW_MORE_BUTTON_MENU_REGEX,convertedXpath:e},{originalXpath:t.NEW_MORE_BUTTON_REGEX,convertedXpath:n},{originalXpath:t.NEW_MORE_BUTTON_MENU_ITEM_REGEX,convertedXpath:t.OLD_MORE_BUTTON_MENU_ITEM},{originalXpath:t.NEW_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:t.OLD_NAV_BAR_DROPDOWN_ITEM},{originalXpath:t.NEW_APP_LAUNCHER_REGEX,convertedXpath:t.OLD_APP_LAUNCHER},{originalXpath:t.NEW_LAST_TAG_SPAN_REGEX,convertedXpath:t.OLD_REMOVE_LAST_TAG_SPAN}]}}function m(){var e="(one\\-app\\-nav\\-bar\\-item\\-root\\["+y(t.NEW_NAV_BAR_LIST_SELECTOR)+"\\]\\/one\\-app\\-nav\\-bar\\-item\\-dropdown\\[1\\]\\/)",n=new RegExp(e);i||(i=[{originalXpath:t.OLD_NAV_BAR_APP_REGEX,convertedXpath:t.NEW_NAV_BAR_APP},{originalXpath:t.OLD_NAV_BAR_REGEX,convertedXpath:t.NEW_NAV_BAR},{originalXpath:t.OLD_NAV_BAR_ITEM_REGEX,convertedXpath:t.NEW_NAV_BAR_ITEM},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ARROW_ICON},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_MENU_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_MENU},{originalXpath:t.OLD_NAV_BAR_DROPDOWN_ITEM_REGEX,convertedXpath:t.NEW_NAV_BAR_DROPDOWN_ITEM},{originalXpath:n,convertedXpath:t.NEW_MORE_BUTTON},{originalXpath:t.OLD_APP_LAUNCHER_REGEX,convertedXpath:t.NEW_APP_LAUNCHER},{originalXpath:t.OLD_APP_NAME_REGEX,convertedXpath:t.NEW_APP_NAME}])}function _(e){var n;n=e.indexOf("nav[1]/ul[1]/li["+y(t.NEW_NAV_BAR_LIST_SELECTOR)+"]")>-1?"slds-button slds-button_reset slds-context-bar__label-action":"slds-button slds-button_reset",o=[{originalClass:t.OLD_ARROW_ICON_CLASSES_SVG,convertedClass:n},{originalClass:t.OLD_ARROW_ICON_CLASSES_A,convertedClass:n},{originalClass:t.OLD_APP_NAME_CLASSES,convertedClass:t.NEW_APP_NAME_CLASSES}],s||(s=[{originalClass:t.NEW_ARROW_ICON_CLASSES,convertedClass:t.OLD_ARROW_ICON_CLASSES_A},{originalClass:t.NEW_APP_NAME_CLASSES,convertedClass:t.OLD_APP_NAME_CLASSES}])}function y(e){var t=wmjQuery(e);if(t.length>0)return t[0].children.length;return 0}l()}r().register("NavBarConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts, NavBarConvertersUtils")},{"wm-prelib-plugin-entry-manager":59}],12:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i){var o,a;function s(){o=r().get("PrelibLogger"),a=[e,t]}this.extendDescription=function(e,t){t.sfLightningVersion=i.getSfLightningVersion()},this.extendOriginalSettings=function(e){var t=e.ElementDescription.elementXpath;if(u(t)&&c(e),a)for(var n=0;n<a.length;n++){var r=a[n];try{r.match(e)&&r.process(e)}catch(i){o.write("Exception while trying to use a converter, skipping it"),o.write(i)}}};function u(e){return null!=e.match(n.HEADER_XPATH)}function c(e){e.IsIgnoreId=!0}s()}r().register("FindElementAdapter").asCtor(i).dependencies("SpringSummerConverter, SummerWinterConverter, sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],13:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry,i=e("wm-prelib-plugin-entry-manager").getCtx;t.exports=r(function(t){e("./salesforceFindElementAdapter.js").SalesforceFindElementAdapter,e("./findElementAdapter.js"),e("./crossVersionConverters/navBarConverter.js"),e("./springSummerConverters/calendarHomeConverter.js"),e("./springSummerConverters/leftMenuConverter.js"),e("./springSummerConverters/iconWithArrowButtonConverter.js"),e("./springSummerConverters/leadsConverter.js"),e("./springSummerConverters/modalConverter.js"),e("./springSummerConverters/chatterMenuConverter.js"),e("./springSummerConverters/detailsFormConverter.js"),e("./sfAdapterUtils.js"),e("./sfAdapterConsts.js"),e("./summerWinterConverters/contentSectionConverter.js"),e("./springSummerConverter.js"),e("./summerWinterConverter.js"),e("./summerWinterConverters/headerButtonsConverter.js"),e("./summerWinterConverters/summerWinterNavBarConverter.js"),e("./navBarConvertersUtils.js");t(i().get("SalesforceFindElementAdapter"))})},{"./crossVersionConverters/navBarConverter.js":11,"./findElementAdapter.js":12,"./navBarConvertersUtils.js":14,"./salesforceFindElementAdapter.js":15,"./sfAdapterConsts.js":16,"./sfAdapterUtils.js":17,"./springSummerConverter.js":18,"./springSummerConverters/calendarHomeConverter.js":19,"./springSummerConverters/chatterMenuConverter.js":20,"./springSummerConverters/detailsFormConverter.js":21,"./springSummerConverters/iconWithArrowButtonConverter.js":22,"./springSummerConverters/leadsConverter.js":23,"./springSummerConverters/leftMenuConverter.js":24,"./springSummerConverters/modalConverter.js":25,"./summerWinterConverter.js":26,"./summerWinterConverters/contentSectionConverter.js":27,"./summerWinterConverters/headerButtonsConverter.js":28,"./summerWinterConverters/summerWinterNavBarConverter.js":29,"wm-prelib-plugin-entry-manager":59}],14:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){this.isNewNavBar=function(){return wmjQuery("one-appnav").length>0},this.convertAllSelectors=function(e,r,i){var o=e.ElementDescription.elementXpath,a=n(o,r,i);e.ElementDescription.autoQuery&&(t.writeToLog(i,"autoQuery detected, updating with the new selector"),e.ElementDescription.autoQuery=a)};function n(e,n,i){var o=n+" "+r(e);return t.writeToLog(i,"New selector created: "+o),o}function r(e){var t=e.split("/"),n=t[t.length-1],r=n.split("[")[0];return r.toUpperCase()}}r().register("NavBarConvertersUtils").asCtor(i).dependencies("sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],15:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t=this;t.run=u;var n,i,o,a;function s(){n=r().get("PromiseManager"),i=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function u(){if(!l())return null;return c(),null}function c(){r().get("EventsListener").on("wm_walkmeLibLoaded",function(){_walkMe.registerFindElementPlugin(e),window._walkmeInternals.extendElementDescription=function(e,t){return window._makeTutorial.getFindElementPluginManager().extendDescription(e,t)}})}function l(){var e=new RegExp("/one/one\\.app.*"),t=new RegExp("/lightning/");return e.test(window.location.pathname)||t.test(window.location.pathname)}s()}r().register("SalesforceFindElementAdapter").asCtor(i).dependencies("FindElementAdapter")},{"wm-prelib-plugin-entry-manager":59}],16:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i={PLUGIN_NAME:"[SalesforceFindElementAdapter] ",SUMMER17:"Summer '17",WINTER18:"Winter '18",NEW_NAV_BAR_APP_SELECTOR:'HEADER[id="oneHeader"] ONE-APPNAV',HEADER_SELECTOR:'HEADER[id="oneHeader"]',OLD_MAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] nav ul.slds-grid.slds-has-flexi-truncate',NEW_NAV_BAR_LIST_SELECTOR:'HEADER[id="oneHeader"] one-appnav one-app-nav-bar',HEADER_XPATH:/\/html\[1\]\/body\[1\]\/div\[[5-6]\]\/div\[1\]\/header\[1\]/,NAV_BAR_XPATH:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]/,NEW_NAV_BAR_XPATH:/one\-appnav/,OLD_NAV_BAR_APP_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[2\])/,NEW_NAV_BAR_APP:"one-appnav[1]/div[1]/div[2]",OLD_NAV_BAR_REGEX:/one\-appnav.+(nav\[1\]\/ul\[1\])/,NEW_NAV_BAR:"one-app-nav-bar[1]",OLD_NAV_BAR_ITEM_REGEX:/one\-app\-nav\-bar\[1\]\/(li)\[\d+\]/,NEW_NAV_BAR_ITEM:"one-app-nav-bar-item-root",OLD_NAV_BAR_DROPDOWN_REGEX:/one\-app\-nav\-bar\-item\-root\[\d+\]\/(div\[1\])/,NEW_NAV_BAR_DROPDOWN:"one-app-nav-bar-item-dropdown[1]/div[1]/one-tmp-button-menu[1]",OLD_NAV_BAR_DROPDOWN_ARROW_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[1\]\/div\[1\]\/div\[1\]\/a\[1\])/,NEW_NAV_BAR_DROPDOWN_ARROW:"button[1]",OLD_NAV_BAR_DROPDOWN_ARROW_ICON_REGEX:/button\[1\](.*)/,NEW_NAV_BAR_DROPDOWN_ARROW_ICON:"",OLD_NAV_BAR_DROPDOWN_MENU_REGEX:/one\-tmp\-button\-menu\[1\]\/(div\[2\]\/div\[1\]\/ul\[1\])/,NEW_NAV_BAR_DROPDOWN_MENU:"div[1]",OLD_NAV_BAR_DROPDOWN_ITEM_REGEX:/one\-tmp\-button\-menu\[1\]\/div\[1\]\/(li)/,NEW_NAV_BAR_DROPDOWN_ITEM:"one-tmp-menu-item",NEW_MORE_BUTTON:"",OLD_APP_LAUNCHER_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/nav\[1\])/,NEW_APP_LAUNCHER:"one-appnav[1]/div[1]/div[1]/div[1]/nav[1]/one-app-launcher-header[1]",OLD_APP_NAME_REGEX:/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[3\]\/(div\[1\]\/div\[1\]\/div\[1\]\/div\[1\])/,NEW_APP_NAME:"one-appnav[1]/div[1]/div[1]/div[1]/div[1]",NEW_NAV_BAR_APP_REGEX:/(one\-appnav\[1\]\/)/,OLD_NAV_BAR_APP:"",NEW_NAV_BAR_REGEX:/(one\-app\-nav\-bar\[1\])/,OLD_NAV_BAR:"nav[1]/ul[1]",NEW_NAV_BAR_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-root)/,OLD_NAV_BAR_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ARROW_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,OLD_NAV_BAR_DROPDOWN_ARROW:"div[1]/div[1]/div[1]/a[1]",NEW_MORE_BUTTON_MENU_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\])/,NEW_MORE_BUTTON_REGEX:/nav\[1\]\/ul\[1\]\/(div\[1\]\/one\-tmp\-button\-menu\[1\]\/button\[1\])/,NEW_MORE_BUTTON_MENU_ITEM_REGEX:/li\[\d+\]\/div\[1\]\/div\[2\]\/div\[1\]\/ul\[1\]\/(one\-tmp\-menu\-item)/,OLD_MORE_BUTTON_MENU_ITEM:"li",NEW_NAV_BAR_DROPDOWN_ITEM_REGEX:/(one\-app\-nav\-bar\-item\-dropdown\[1\]\/div\[1\]\/one\-tmp\-button\-menu\[1\]\/div\[1\]\/one\-tmp\-menu\-item)/,OLD_NAV_BAR_DROPDOWN_ITEM:"div[1]/div[2]/div[1]/ul[1]/li",NEW_LAST_TAG_SPAN_REGEX:/(span\[\d*\])$/,OLD_REMOVE_LAST_TAG_SPAN:"",NEW_APP_LAUNCHER_REGEX:/(\/one\-app\-launcher\-header\[1\])/,OLD_APP_LAUNCHER:"",OLD_ARROW_ICON_CLASSES_SVG:"slds-icon--xx-small slds-icon",OLD_ARROW_ICON_CLASSES_A:"slds-button slds-button--icon",NEW_ARROW_ICON_CLASSES:"slds-button slds-button_reset",OLD_APP_NAME_CLASSES:"slds-button slds-truncate uiButton",NEW_APP_NAME_CLASSES:"slds-button slds-truncate"};r().register("sfAdapterConsts").asInstance(i)},{"wm-prelib-plugin-entry-manager":59}],17:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n=this;function i(){t=r().get("PrelibLogger")}this.isNewVersion=function(){return!0},this.writeToLog=function(n,r){t.write(e.PLUGIN_NAME+n+r)},this.getSfLightningVersion=function(){return aura.get("$Label.SFXReleaseNotes.CurrentReleaseName"),aura.get("$Label.SFXReleaseNotes.CurrentReleaseName")},this.isWinter18=function(){var t=n.getSfLightningVersion();return t==e.WINTER18},i()}r().register("SfAdapterUtils").asCtor(i).dependencies("sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":59
}],18:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i,o,a,s,u,c,l){var d,f;function p(){d=r().get("PrelibLogger"),f=[e,t,n,i,o,a,s,u]}this.match=function(e){var t=e.ElementDescription.sfLightningVersion;if(t==c.WINTER18)return!1;return!0},this.process=function(e){if(f)for(var t=0;t<f.length;t++){var n=f[t];try{if(n.match(e)){n.process(e);break}}catch(r){d.write("Exception while trying to use a converter, skipping it"),d.write(r)}}},p()}r().register("SpringSummerConverter").asCtor(i).dependencies("NavBarConverter, CalendarHomeConverter, LeftMenuConverter, IconWithArrowButtonConverter, LeadsConverter, ModalConverter, ChatterMenuConverter, DetailsFormConverter, sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],19:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t="CalendarHomeConverter ",n=/^(DIV\[id=\"calendarHome\"\]\s)UL\sLI\sA$/,r="";function i(){}this.match=function(e){if(o()&&a(e))return!0;return!1},this.process=function(i){if(!e.isNewVersion())return;var o=i.ElementDescription.autoQuery;e.writeToLog(t,"Original selector: "+o);var a=n.exec(o);i.ElementDescription.autoQuery=o.replace(a[1],r),e.writeToLog(t,"Converted selector: "+i.ElementDescription.autoQuery)};function o(){return wmjQuery('DIV[id="calendarHome"]:mt_visible').length>0}function a(e){var t=e.ElementDescription.autoQuery;if(t){var r=n.exec(t);if(r)return!0}return!1}i()}r().register("CalendarHomeConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],20:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n="ChatterMenuConverter ",i=/\sSPAN$/,o="";function a(){t=r().get("PrelibLogger")}this.match=function(e){var t=e.ElementDescription.elementClass;if(t&&"anchorUnderline"==t&&s())return!0;return!1},this.process=function(t){if(!e.isNewVersion())return;var r=t.ElementDescription.autoQuery;e.writeToLog(n,"Original selector: "+r),r&&(r=r.replace(i,o),e.writeToLog(n,"Converted selector: "+r),t.ElementDescription.autoQuery=r)};function s(){var e=wmjQuery(".desktopChatterPage.forceChatterDesktopChatter:mt_visible");if(e.length>0)return!0;return!1}a()}r().register("ChatterMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],21:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,i,o,a="DetailsFormConverter ",s=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(?:(?:div\[1\]\/div\[1\])|(?:div\[2\]))\/div\[\d*\]\/div\[1\]\/div\[1\]\/div\[\d*\]\/div\[1\]\/div\[1\]\/div\[1\]\/section\[\d*\]\/div\[1\]\/form\[1\]/,u="SECTION SECTION FORM ",c="",l="H2",d="H3",f="A svg",p="BUTTON",h="slds-button slds-button--neutral inlineEditTrigger uiButton hover",g="slds-button test-id__inline-edit-trigger slds-button_icon slds-button_icon-small slds-shrink-none inline-edit-trigger slds-button--icon-container",v="itemLabel truncate",m="test-id__field-label slds-form-element__label",_="slds-icon--xx-small slds-icon",y=/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(div\[1\]\/div\[1\])/,b="div[2]",w=/(form\[1\]\/section\[1\]\/div\[1\]\/div\[1\]\/section\[\d*\]\/div\[\d*\])/,E=/(form\[1\]\/section\[1\]\/div\[2\]\/div\[1\]\/div\[1\]\/div\[2\]\/section\[1\]\/div\[\d*\])/,S="div[1]/div[4]/div[1]/div[1]/div[1]/div[1]/div[1]/div[1]",O=/form\[1\]\/section\[1\]\/div\[2\].*?\/(fieldset|[^\/]+$)/,C=/(div\[1\]\/div\[1\]\/a\[1\]\/span\[2\]\/span\[1\]\/svg\[1\])/,N="span[1]/div[1]/button[1]",T=/(div\[1\]\/div\[1\]\/div\[1\]\/div\[2\]\/a\[1\]\/span\[1\]\/span\[1\]\/svg\[1\])/,D="span[1]/div[1]/button[1]",A=/form\[1\]\/section\[1\]\/div\[1\]\/div\[1\]\/section\[(\d*)\]/;function I(){t=r().get("PrelibLogger"),n=[{from:u,to:c},{from:l,to:d},{from:f,to:p}],o=[{from:h,to:g},{from:v,to:m}],i=[{originalXpath:y,convertedXpath:b},{originalXpath:E,convertedXpath:S},{originalXpath:C,convertedXpath:N},{originalXpath:T,convertedXpath:D}]}this.match=function(e){if(M()&&P(e))return!0;return!1},this.process=function(t){if(!e.isNewVersion())return;x(t),L(t),R(t)};function R(t){var n=U(t),r=n.concat(i),o=t.ElementDescription.elementXpath;e.writeToLog(a,"Original xpath: "+o);for(var s=0;s<r.length;s++){var u=r[s],c=u.originalXpath.exec(o);c&&(o=o.slice(0,c.index)+o.substring(c.index).replace(c[1],u.convertedXpath))}e.writeToLog(a,"Converted xpath: "+o),t.ElementDescription.elementXpath=o}function x(t){var r=t.ElementDescription.autoQuery;if(r){e.writeToLog(a,"Original selector: "+r);for(var i=0;i<n.length;i++){var o=n[i];r=r.replace(o.from,o.to)}t.ElementDescription.autoQuery=r,e.writeToLog(a,"Converted selector: "+r)}}function L(t){var n=V(t),r=o.concat(n),i=t.ElementDescription.elementClass;if(i){e.writeToLog(a,"Original class: "+i);for(var s=0;s<r.length;s++){var u=r[s];i=i.replace(u.from,u.to)}e.writeToLog(a,"Converted class: "+i),t.ElementDescription.elementClass=i}}function M(){var e=wmjQuery("li.active a.tabHeader span.title:mt_visible").filter(function(){return"Details"==this.textContent});return e.length>0}function P(e){var t=e.ElementDescription.elementXpath;return null!=t.match(s)}function U(e){var t=e.ElementDescription.elementXpath,n="div[1]/div[3]/div[1]/div["+k(t)+"]/div[1]/div[1]",r=O.exec(t),i="";return r&&(i="div[1]/div[1]/"+r[1]),dynamicXpathConversionMap=[{originalXpath:O,convertedXpath:i},{originalXpath:w,convertedXpath:n}],dynamicXpathConversionMap}function V(e){var t=e.ElementDescription.elementXpath,n=_,r=C.exec(t),i=T.exec(t);return r?n="slds-button slds-button_icon slds-button_icon-small changeOwnerLink":i&&(n="slds-button testid__change-record-type-link slds-button_icon slds-button_icon-small slds-shrink-none changeRecordTypeLink slds-button--icon-container"),dynamicClassConversionMap=[{from:_,to:n}],dynamicClassConversionMap}function k(e){var t=A.exec(e);if(t)return t[1];return 0}I()}r().register("DetailsFormConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],22:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,r=["slds-button","slds-button--icon-more"],i=["slds-button","slds-button--icon","slds-button--icon-more"],o="."+r.join("."),a=o,s="/div$1/div[1]/div[1]/div[1]/div[1]/a[1]",u="/div$1/div[1]/button[1]",c=/\sa$|^a$/i,l=/\sbutton$|^button$/i;function d(){f()}function f(){var e=p("div"),r=p("div",!0),i=p("a"),o=p("button"),a=e+r+"(?:/div[1])?"+e+e+e+i;t=new RegExp(a+"$","i");var s=r+e+o;n=new RegExp(s+"$","i")}this.match=function(e){if(v(e)&&!h())return!0;if(m(e)&&!g())return!0;return!1},this.process=function(e){var t=h();t?(T("Converting from Summer to Spring"),E(e)):(T("Converting from Spring to Summer"),w(e))};function p(e,t){return t?"\\/"+e+"(\\[?[0-9]*\\]?)":"\\/"+e+"\\[?[0-9]*\\]?"}function h(){return!e.isNewVersion()}function g(){return e.isNewVersion()}function v(e){return _(e,t,r)}function m(e){return _(e,n,i)}function _(e,t,n){var r=t.test(e.ElementDescription.elementXpath);if(!r)return!1;var i=y(e),o=b(n,i);if(!o)return!1;return!0}function y(e){return e.ElementDescription.elementClass.split(" ")}function b(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=mtjQuery.inArray(r,t)!=-1;if(!i)return!1}return!0}function w(e){O(e),C(e,t,u),N(e,c,a),S(e,i)}function E(e){C(e,n,s),N(e,l,o),S(e,r)}function S(e,t){var n=t.join(" ");e.ElementDescription.elementClass=n,e.ElementDescription["class"]=n}function O(e){e.ElementDescription.textArray&&1==e.ElementDescription.textArray.length&&"display:grid"==e.ElementDescription.textArray[0]&&(e.ElementDescription.textArray[0]="displayastable")}function C(e,t,n){var r=e.ElementDescription.elementXpath,n=r.replace(t,n);T("oldXPath : "+r),T("newXPath : "+n),e.ElementDescription.elementXpath=n}function N(e,t,n){var r=e.ElementDescription.autoQuery,i=r.replace(t," "+n);T("oldAutoQuery : "+r),T("newAutoQuery : "+i),e.ElementDescription.autoQuery=i}function T(t){e.writeToLog("IconWithArrowButtonConverter",t)}d()}r().register("IconWithArrowButtonConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],23:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t="LeadsConverter ",n="pa-card  full runtime_sales_pathassistantPathAssistantCard runtime_sales_pathassistantPathAssistantCardDesktop",r=".pa-card.large.runtime_sales_pathassistantPathAssistantCard.runtime_sales_pathassistantPathAssistantCardDesktop";function i(){}this.match=function(e){var t=e.ElementDescription.elementClass;if(t&&t==n&&o())return!0;return!1},this.process=function(n){if(!e.isNewVersion())return;var r=n.ElementDescription.elementClass;e.writeToLog(t,"Original class: "+r),n.ElementDescription.elementClass=r.replace("full","large"),e.writeToLog(t,"Converted class: "+n.ElementDescription.elementClass)};function o(){return wmjQuery(r+":mt_visible").length>0}i()}r().register("LeadsConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],24:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t,n,i="LeftMenuConverter ",o="navItemsReport",a="navItemsDashboard",s="navItemsFolder",u="folderHeader",c="folder-header",l="entityHeader",d="entity-header";function f(){t=r().get("PrelibLogger"),n=[{from:o,to:s},{from:a,to:s},{from:u,to:c},{from:l,to:d}]}this.match=function(e){var t=e.ElementDescription.autoQuery;if(t)for(var r=0;r<n.length;r++){var i=n[r];if(t.indexOf(i.from)>-1)return!0}return!1},this.process=function(t){var r=!1;if(e.isNewVersion()){e.writeToLog(i,"Detected a capture from an old version in a new version, converting...");for(var o=t.ElementDescription.autoQuery,a=t.ElementDescription.elementId,s=0;s<n.length;s++){var u=n[s];if(o.indexOf(u.from)>-1){var c=p(o,u.from,u.to,"selector");t.ElementDescription.autoQuery=c,r=!0}if(a&&a.indexOf(u.from)>-1){var c=p(a,u.from,u.to,"ID");t.ElementDescription.elementId=c,r=!0}if(r)return}}};function p(t,n,r,o){e.writeToLog(i,"Original "+o+":"+t);var a=t.replace(n,r);return e.writeToLog(i,"Converted "+o+":"+a),a}f()}r().register("LeftMenuConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],25:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e){var t=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[2\]\/div\[[0-9]*\]\/div\[2\]\/div\[1\]\/div\[2\]\/form\[1\]\/section\[1\]/;function n(){}this.match=function(e){if(i(e)&&!r())return!0;return!1},this.process=function(e){var t=r();t||(l("Converting from Spring to Summer"),a(e))};function r(){return!e.isNewVersion()}function i(e){return o(e,t)}function o(e,t){var n=t.test(e.ElementDescription.elementXpath);if(!n)return!1;return!0}function a(e){e.IsIgnoreId=!0;var t=e.ElementDescription.elementClass&&e.ElementDescription.elementClass.indexOf("sectionHeader")>-1;c(e,t),u(e,t),s(e,t)}function s(e,t){var n=e.ElementDescription.autoQuery,r="div.uiModal "+n.replace(/section ?/gi,"").replace(/form ?/gi,"");t&&(r=NaN),l("oldAutoQuery : "+n),l("newAutoQuery : "+r),e.ElementDescription.autoQuery=r}function u(e,t){t&&(e.ElementDescription.elementClass=e.ElementDescription.elementClass.replace("sectionHeader","section-header-title"))}function c(e,t){var n=e.ElementDescription.elementXpath,r=n.replace(/\/form\[([0-9]*)\]\/section\[1\]\/div\[1\]/gi,"/div[$1]/div[4]").replace(/\/section\[([0-9]*)\]\/div\[2\]\/div\[([0-9]*)\]\/div\[([0-9]*)\]/gi,"/div[$1]/div[1]/div[1]/div[$2]/div[$3]/div[1]").replace(/\/fieldset\[([0-9]*)\]/gi,"/div[1]/fieldset[1]").replace(/\/section\[([0-9]*)\]/gi,"/div[$1]");t&&(r=r.replace(/\/div\[([0-9]*)\]$/i,"/h3[$1]")),l("oldXPath : "+n),l("newXPath : "+r),e.ElementDescription.elementXpath=r}function l(t){e.writeToLog("ModalConverter",t)}n()}r().register("ModalConverter").asCtor(i).dependencies("SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],26:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,i,o){var a,s;function u(){a=r().get("PrelibLogger"),s=[e,t,n]}this.match=function(e){var t=o.isWinter18(),n=e.ElementDescription.sfLightningVersion,r=t&&n!=i.WINTER18,a=!t&&n==i.WINTER18;return r||a},this.process=function(e){if(s)for(var t=0;t<s.length;t++){var n=s[t];try{if(n.match(e)){n.process(e);break}}catch(r){a.write("Exception while trying to use a converter, skipping it"),a.write(r)}}},u()}r().register("SummerWinterConverter").asCtor(i).dependencies("SummerWinterNavBarConverter, ContentSectionConverter, HeaderButtonsConverter, sfAdapterConsts, SfAdapterUtils")},{"wm-prelib-plugin-entry-manager":59}],27:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){var n="ContentSectionConverter ",r=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/(?:(?:div\[1\]\/div\[1\])|(?:div\[2\]))/,i="/html[1]/body[1]/div[5]/div[1]/section[1]/div[2]/div[1]/div[1]",o=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/section\[1\]\/div\[2\]\/div\[1\]\/div\[1\]/,a="/html[1]/body[1]/div[5]/div[1]/section[1]/div[2]/";this.match=function(e){var t=e.ElementDescription.elementXpath;if(null!=t.match(r))return!0;return!1},this.process=function(e){var n=e.ElementDescription.alreadyConverted;if(n)return;var r=e.ElementDescription.sfLightningVersion;r==t.WINTER18?s(e):u(e)};function s(e){c(e,o,a)}function u(e){c(e,r,i)}function c(t,r,i){var o=t.ElementDescription.elementXpath;e.writeToLog(n,"Original xpath: "+o),o=o.replace(r,i),t.ElementDescription.elementXpath=o,e.writeToLog(n,"Converted xpath: "+o),t.ElementDescription.alreadyConverted=!0}}r().register("ContentSectionConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":59}],28:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t){var n="HeaderButtonsConverter ",r=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[2\]\/ul\[1\]/,i="/html[1]/body[1]/div[5]/div[1]/header[1]/div[2]/span[1]/ul[1]",o=/\/html\[1\]\/body\[1\]\/div\[5\]\/div\[1\]\/header\[1\]\/div\[2\]\/span\[1\]\/ul\[1\]\/li\[6\]\/div\[1\]\/div\[1\]/,a="/html[1]/body[1]/div[5]/div[1]/header[1]/div[2]/span[1]/ul[1]/li[6]";this.match=function(e){var t=e.ElementDescription.elementXpath;if(t.match(r))return!0;return!1},this.process=function(t){if(!e.isWinter18())return;var s=t.ElementDescription.elementXpath;e.writeToLog(n,"Original xpath: "+s),s=s.replace(r,i),s=s.replace(o,a),e.writeToLog(n,"Converted xpath: "+s),t.ElementDescription.elementXpath=s}}r().register("HeaderButtonsConverter").asCtor(i).dependencies("SfAdapterUtils, sfAdapterConsts")},{"wm-prelib-plugin-entry-manager":59}],29:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n,r){var i,o,a="SummerWinterNavBarConverter ",s=/div\[2\]\/one\-app\-nav\-bar\[1\]/,u="one-app-nav-bar[1]/nav[1]/ul[1]",c=/one\-app\-nav\-bar\-item\-root/,l="li",d=/one\-app\-nav\-bar\[1\]\/nav\[1\]\/ul\[1\]/,f="div[2]/one-app-nav-bar[1]",p=/(one\-app\-nav\-bar\[1\]\/)li\[\d+\](\/one\-tmp\-button\-menu\[1\])/,h="$1div[1]$2",g=/(one\-app\-nav\-bar\[1\]\/)li/,v="$1one-app-nav-bar-item-root";function m(){i=[{originalXpath:s,convertedXpath:u},{originalXpath:c,convertedXpath:l}],o=[{originalXpath:d,convertedXpath:f},{originalXpath:p,convertedXpath:h},{originalXpath:g,convertedXpath:v}]}this.match=function(t){var n=t.ElementDescription.elementXpath;if(n.match(e.NAV_BAR_XPATH))return!0;return!1},this.process=function(s){t.isWinter18()?(_(s,i),r.convertAllSelectors(s,e.NEW_NAV_BAR_APP_SELECTOR,a)):(_(s,o),r.convertAllSelectors(s,e.HEADER_SELECTOR,a));var u=r.isNewNavBar();u||n.process(s)};function _(e,n){var r=e.ElementDescription.elementXpath;t.writeToLog(a,"Original xpath: "+r);for(var i=0;i<n.length;i++){var o=n[i];r=r.replace(o.originalXpath,o.convertedXpath)}e.ElementDescription.elementXpath=r,t.writeToLog(a,"Converted xpath: "+r)}m()}r().register("SummerWinterNavBarConverter").asCtor(i).dependencies("sfAdapterConsts, SfAdapterUtils, NavBarConverter, NavBarConvertersUtils")},{"wm-prelib-plugin-entry-manager":59}],30:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;r().get("PrelibLogger");function i(){var e=Array().slice.call(arguments);e.unshift("[ SalesforceIframeRemover ]")}n.log=i},{"wm-prelib-plugin-entry-manager":59}],31:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./salesforceIframeRemover.js").SalesforceIframeRemover;t(new n)})},{"./salesforceIframeRemover.js":32,"wm-prelib-plugin-entry-manager":59}],32:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger").log,o=e("wm-logzio-sender")(r()),a=new Date;function s(){var e=this;e.run=l;var t,n,s,u;function c(){u=0,s=0,t=r().get("EventsListener")}function l(){return t.on("DICreated",function(){if(v()){if(y())return i("Inside the iframe "+window.self.location.href),null;i("Salesforce Classic detected, using legacy iframe remover"),g()}else window.MutationObserver?(i("Using MutationObserver"),d(),f()):(i("No mutation observer, going old school"),g())}),null}function d(){n=new MutationObserver(function(){p()}),n.observe(document.body,{childList:!0,subtree:!0}),i("Listening to document children changes")}function f(){t.on("removeWalkMe",function(){n&&n.disconnect(),i("Observer disconnected")}),i("Registred to WM removal")}function p(){i("Document changed"),s&&window.clearTimeout(s),s=window.setTimeout(function(){h()},500),i("Idle timer set, waiting for the page to go idle")}function h(){i("Trying to remove WM CurlyHairGuy frame");var e=wmjQuery("#WM_EXT_IFRAME, iframe[title*='WM_EXT_IFRAME'], a[title^='WM_EXT_IFRAME'], .sidebarModule:has(img[alt=WalkMe_Call_To_Action])"),t=e.length;return t&&(e.remove(),b()),t}function g(){var e=h();if(e)return void(u&&o.sendLog("WM_EXT_IFRAME removed on the: "+u+" try"));if(u<15){u++;var t=u<10?100:300;return window.setTimeout(function(){g()},t)}i("error: could not remove iframe from salesforce")}function v(){return m()}function m(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!_()}function _(){var e=new RegExp("/one/one\\.app.*"),t=new RegExp("/lightning/");return e.test(window.location.pathname)||t.test(window.location.pathname)}function y(){return window.self!==window.top}function b(){var e=new Date-a;i("Time that took to remove the iframe "+e+"ms")}c()}n.SalesforceIframeRemover=s},{"./logger":30,"wm-logzio-sender":7,"wm-prelib-plugin-entry-manager":59}],33:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./sfLightningInitUserContext.js").SfLightningInitUserContext;t(new n)})},{"./sfLightningInitUserContext.js":34,"wm-prelib-plugin-entry-manager":59}],34:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("wm-sf-lightning-init-user-context");function o(){var e=this;e.run=t;function t(){return i(window,r())}}n.SfLightningInitUserContext=o},{"wm-prelib-plugin-entry-manager":59,"wm-sf-lightning-init-user-context":60}],35:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t){var n,i=this;function o(){n=e.wrapCustomerLog(r)}i.getType=function(){return"BasicSfVarsRetriever"},i.getUserData=function(){var e={},r=wmjQuery.Deferred();return window.UserContext&&window.UserContext.userId&&window.UserContext.userName&&window.UserContext.language?(e.userId=t.to18CharId(window.UserContext.userId),e.userName=window.UserContext.userName,e.userLanguage=window.UserContext.language,r.resolve(e),n("Gets basic SfVar with basicSfVars feature",1)):r.reject('Can not get sfVars from "basicSfVars" feature'),r.promise()},o.apply(null,arguments)}n.BasicSfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":59}],36:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i,o;function a(){i=e.wrapCustomerLog(r),o=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n=window.location.hostname,r=o.Custom.sfVarsCommunityBaseUrl,a=o.Custom.sfVarsCommunityBaseUrlDictionary;return r?(t="https://"+r+e,i("buildRequestUrl - with custom community base url "+t,1)):a&&a[n]?(t="https://"+a[n]+e,i("buildRequestUrl - with custom community base url dictionary "+t,1)):window.UserContext&&window.UserContext.siteUrlPrefix?(t="https://"+n+window.UserContext.siteUrlPrefix+e,i("buildRequestUrl - with regular community url plus siteUrlPrefix "+t,1)):(t="https://"+n+e,i("buildRequestUrl - with regular community url "+t,1)),i("Community sfVars endpoint - "+t,1),t},a.apply(null,arguments)}n.CommunitySfVarsUrlBuilder=i},{"wm-prelib-plugin-entry-manager":59}],37:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a,s=this;s.getType=function(){return"LegacySfVarsRetriever"},s.getUserData=function(e){return a=wmjQuery.Deferred(),t.injectSFConnection(function(){u(e)},function(){a.reject()}),a.promise()};function u(t){var n,i,s,u=null;try{var d=r().get("SalesForceConnection");n=d.getSforce().connection.getUserInfo()}catch(p){o(p,5),u=p.message||p}try{i=f(e.get()),s=c(n.userId,i),s=s&&s[0]||[]}catch(p){o(p,5),u||(u=p.message||p)}try{var h=l(n,t,s,i||[]);a.resolve(h)}catch(p){o(p,5),u||(u=p.message||p),a.reject(u)}}function c(e,t){if(t&&t.length>0){var n="Select "+t.join(",")+" From User Where Id = '"+e+"'",i=r().get("SalesForceConnection"),o=i.getSforce().connection.query(n);return o.getArray("records")}}function l(e,t,n,r){for(var i={},o=0;o<t.length;o++){var a=t[o];i[a]=e[a]}for(var o=0;o<r.length;o++)d(r[o],n,i);return i}function d(e,t,n){for(var r=t,i=e.split("."),o=0;o<i.length;o++){if(""===i[o])return;if(r=r&&r[i[o]],null===r&&o==i.length-1)return void(n[i[o]]=null);"object"==typeof r?(n[i[o]]={},n=n[i[o]]):n[i[o]]=r}}function f(e){var t=e.Settings.sfCustomVars;return t||[]}function p(){o=n.wrapCustomerLog(i)}p.apply(null,arguments)}n.LegacySfVarsRetriever=o},{"wm-prelib-plugin-entry-manager":59}],38:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o){var a,s;function u(){a=e.wrapCustomerLog(r),s=n.get()}this.buildRequestUrl=function(e){if(!e)return;var t,n,r=window.location.hostname,i=s.Custom.sfVarsLightningBaseUrl,o=s.Custom.sfVarsLightningBaseUrlDictionary;return window.UserContext&&window.UserContext.vfDomainPattern&&(a("buildRequestUrl - window.UserContext.vfDomainPattern = ",window.UserContext.vfDomainPattern),n=window.UserContext.vfDomainPattern.replace("(?:[^.]+)*","wm4sf3").replace("(?:[^.]+)","wm4sf3")),i?(t="https://"+i+e,a("buildRequestUrl - with custom lightning base url "+t,1)):o&&o[r]?(t="https://"+o[r]+e,a("buildRequestUrl - with custom lightning base url dictionary "+t,1)):n&&(t="https://"+n+e,a("buildRequestUrl - base vfDomainPattern, the url is "+t,1)),a("Lightning sfVars endpoint - "+t,1),t},u.apply(null,arguments)}n.LightningSfVarsUrlBuilder=i},{"wm-prelib-plugin-entry-manager":59}],39:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./sfVars.js").SfVars;t(new n)})},{"./sfVars.js":46,"wm-prelib-plugin-entry-manager":59}],40:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a){var s,u,c,l,d,f=this,p={},h=!1,g=14400,v=1e4,m=500,_="walkme-sf-vars-last-fail",y="walkme-sf-vars-iframe",b={SKIP_AFTER_FAILURE:"skip loading due to a failure in the last 4 hours",VARS_LIST_EMPTY:"list to extract was empty",DATA_HAS_NO_VAL:"nonLegacy sfVars postback data was ",IFRAME_CREATED_TIMEOUT:"10 seconds passed since iframe was created",IFRAME_LOADED_TIMEOUT:"0.5 seconds passed since iframe was loaded",FAIL_FIND_SALESFORCE_NAME:"Couldn't determine endpoint for more than 7 seconds"};function w(){u=e.wrapCustomerLog(r)}f.getType=function(){return"NonLegacySfVarsRetriever"},f.getUserData=function(e){return s=wmjQuery.Deferred(),E()?s.reject(b.SKIP_AFTER_FAILURE):(e=a.extractUserContextVars(e,p),e=a.mapLegacyToNonLegacyVars(e),e.length?S(e.join(",")):s.reject(b.VARS_LIST_EMPTY)),s.promise()};function E(){var e=i.getData(_);return!!e}function S(e){var n=o.getCurrentSfEnvironment();"legacy"==n&&(n="lightning");var r=o.getAppEndpointByEnvironment(n),i=o.getUrlBuilderByEnvironment(n),a=r+"?sfVars="+e,l=i.buildRequestUrl(a);l?(u("SfVars endpoint - "+l),C(),c=t.createIframe(l,y,!1,O,N)):(T(),s.reject(b.FAIL_FIND_SALESFORCE_NAME))}function O(){u("sfVars Non-Legacy iframe loaded",3),l&&l.clear&&l.clear();var e=A(b.IFRAME_LOADED_TIMEOUT);d=n.libSetTimeout(e,m)}function C(){u("Finished creating iframe",3);var e=A(b.IFRAME_CREATED_TIMEOUT);l=n.libSetTimeout(e,v)}function N(e){if(h)return;var n;try{n=t.secureEvalJSON(e.data)}catch(r){return void u("sfVars reciver unknown message: error="+r.message,5)}if(!n||!n.attributes||"User"!==n.attributes.type)return;t.removeIframeListeners(c,"message",N),h=!0,d&&d.clear&&d.clear(),n=a.mapNonLegacyDataToLegacy(n),wmjQuery.extend(!0,p,n),s.resolve(p)}function T(){D()||i.saveData(_,(new Date).getTime(),g)}function D(){return"pending"!==s.state()}function A(e){return function(){t.removeIframeListeners(c,"message",N),T(),s.reject(e)}}w.apply(null,arguments)}n.NonLegacySfVarsRetriever=i},{"wm-prelib-plugin-entry-manager":59}],41:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i=window,o={},a=n.wrapCustomerLog(r),s=!1,u="undefined"!=typeof i.UserContext?i.UserContext:{siteUrlPrefix:"",getUrl:function(e){if("undefined"==typeof e||"undefined"==typeof u.siteUrlPrefix||!u.siteUrlPrefix)return e;if(0!=e.indexOf("/"))return e;if(0==e.indexOf(u.siteUrlPrefix))return e;return u.siteUrlPrefix+e}};this.getSforce=function(){if(s)return o;return null},o.internal={},o.StringBuffer=function(){this.buffer=[],this.append=function(e){return this.buffer.push(e),this},this.toString=function(){return this.buffer.join("")}},o.Base64Binary=function(e){this.input=e},o.Base64Binary.prototype.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o.Base64Binary.prototype.toString=function(){var e,t,n,r,i,o=[],a="",s="",u=0;do e=this.input.charCodeAt(u++),t=this.input.charCodeAt(u++),a=this.input.charCodeAt(u++),n=e>>2,r=(3&e)<<4|t>>4,i=(15&t)<<2|a>>6,s=63&a,isNaN(t)?i=s=64:isNaN(a)&&(s=64),o.push(this.keyStr.charAt(n)+this.keyStr.charAt(r)+this.keyStr.charAt(i)+this.keyStr.charAt(s)),e=t=a="",n=r=i=s="";while(u<this.input.length);return o.join("")},o.Base64Binary.prototype.decode=function(e){var t,n,r,i,o,s=[],u="",c="",l=0,d=/[^A-Za-z0-9\+\/\=]/g;d.exec(e)&&a("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/', and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.keyStr.indexOf(e.charAt(l++)),i=this.keyStr.indexOf(e.charAt(l++)),o=this.keyStr.indexOf(e.charAt(l++)),c=this.keyStr.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,u=(3&o)<<6|c,s.push(String.fromCharCode(t)),64!=o&&s.push(String.fromCharCode(n)),64!=c&&s.push(String.fromCharCode(u)),t=n=u="",r=i=o=c="";while(l<e.length);return s.join("")},o.internal.dateToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return n+"-"+r+"-"+i},o.internal.dateTimeToString=function(e){var t=e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getTimezoneOffset(),c=u<0?"+":"-";u=Math.abs(u);var l=u/60,d=u%60;s<=9&&(s="0"+s);var f=t.getMilliseconds();0!==f&&(f="."+f,f.length>4&&(f=f.substring(0,4)),s+=f);var p;return 0===u?p="Z":(d<10&&(d="0"+d),l<10&&(l="0"+l),p=c+l+":"+d),r<=9&&(r="0"+r),i<=9&&(i="0"+i),o<=9&&(o="0"+o),a<=9&&(a="0"+a),n+"-"+r+"-"+i+"T"+o+":"+a+":"+s+p},o.internal.stringToDate=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),10!=e.length)throw"Unable to parse date, "+e+" length != 10";if("-"!=e.charAt(4)||"-"!=e.charAt(7))throw"Unable to parse date";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),o=new Date(n,r-1,i,0,0,0);return o.setMilliseconds(0),o},o.internal.stringToDateTime=function(e){var t=!1;if(null===e||0===e.length)throw"Unable to parse dateTime";if("+"==e.charAt(0)&&(e=e.substring(1)),"-"==e.charAt(0)&&(e=e.substring(1),t=!0),e.length<19)throw"Unable to parse dateTime";if("-"!=e.charAt(4)||"-"!=e.charAt(7)||"T"!=e.charAt(10))throw"Unable to parse dateTime";if(":"!=e.charAt(13)||":"!=e.charAt(16))throw"Unable to parse dateTime";var n=e.substring(0,4),r=e.substring(5,7),i=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),u=e.substring(17,19),c=new Date(n,r-1,i,a,s,u),l=19;if(l<e.length&&"."==e.charAt(l)){for(var d=0,f=++l;l<e.length&&o.internal.isDigit(e.charAt(l));)l++;var p=e.substring(f,l);3==p.length?d=p:p.length<3?d=(p+"000").substring(0,3):(d=p.substring(0,3),p.charAt(3)>="5"&&++d),c.setMilliseconds(d)}var h=6e4*c.getTimezoneOffset();if(l+5<e.length&&("+"==e.charAt(l)||"-"==e.charAt(l))){if(!(o.internal.isDigit(e.charAt(l+1))&&o.internal.isDigit(e.charAt(l+2))&&":"==e.charAt(l+3)&&o.internal.isDigit(e.charAt(l+4))&&o.internal.isDigit(e.charAt(l+5))))throw"Unable to parse dateTime";var g=10*(e.charAt(l+1)-"0")+e.charAt(l+2)-"0",v=10*(e.charAt(l+4)-"0")+e.charAt(l+5)-"0",m=60*(60*g+v)*1e3;"+"==e.charAt(l)&&(m=-m),c=new Date(c.getTime()-h+m),l+=6}if(l<e.length&&"Z"==e.charAt(l)&&(l++,c=new Date(c.getTime()-h)),l<e.length)throw"Unable to parse dateTime";return c},o.internal.isDigit=function(e){return"0"==e||"1"==e||"2"==e||"3"==e||"4"==e||"5"==e||"6"==e||"7"==e||"8"==e||"9"==e},o.Xml=function(e){},o.Xml.prototype.toXml=function(e,t,n){n.writeStartElement(t,e),this._xsiType&&n.writeXsiType(this._xsiType);for(var r in this)if("_name"==r||"_xsiType"==r);else{var i=this[r];if("function"!=typeof i)if("array"==typeof i)for(var o=0;o<i.length;o++)this.writeValue(e,n,r,i[o]);else this.writeValue(e,n,r,i)}n.writeEndElement(t,e)},o.Xml.prototype.writeValue=function(e,t,n,r){if(null===r)return void t.writeNameValueNode("fieldsToNull",n);if("undefined"==typeof r)return;r.toXml?r.toXml(e,n,t):t.writeNameValueNode(n,r)},o.Xml.prototype.get=function(e){return this[e]?this[e]:null},o.Xml.prototype.set=function(e,t){this[e]=t},o.Xml.prototype.getArray=function(e){var t=this[e];return t?t.join?t:[t]:[]},o.Xml.prototype.getBoolean=function(e){return"true"==this[e]},o.Xml.prototype.getDate=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDate(this[e]):null},o.Xml.prototype.getDateTime=function(e){return this[e]?this[e].getFullYear?this[e]:o.internal.stringToDateTime(this[e]):null},o.Xml.prototype.getInt=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseInt(this[e],10);throw"Unable to parse int field: "+e},o.Xml.prototype.getFloat=function(e){if(this[e])return"number"==typeof this[e]?this[e]:parseFloat(this[e]);throw"Unable to parse float field: "+e},o.Xml.prototype.getBase64Binary=function(e){if(this[e])return o.Base64Binary.prototype.decode(this[e]);throw"Unable to parse base64Binary field: "+e},o.Xml.prototype.toString=function(){var e=new o.StringBuffer;e.append("{");for(var t in this){var n=this[t];if(n)if("object"==typeof n)e.append(t).append(":").append(n.toString());else if(n.join){e.append(t).append(":").append("[");for(var r=0;r<n.length;r++)e.append(n[r]),r<n.length-1&&e.append(", ");e.append("]")}else{if("function"==typeof n)continue;e.append(t).append(":").append("'"+n+"'")}else e.append(t).append(":").append(""+n);e.append(", ")}return e.append("}"),e.toString()},o.internal.Debug=function(){this.output=null,this.trace=!1,this.apexTrace=!1,this.win=null,this.traceQueue=[],this.quiet=!1,this.open=function(){this.println("","print")},this.println=function(e,t){if(this.quiet)return;if("function"==typeof println)return void println(e,t);null!==this.win&&this.win.document||(this.output=null,this.win=i.open("undefined"!=typeof i.UserContext?u.getUrl("/soap/ajax/29.0/debugshell.html"):"/soap/ajax/29.0/debugshell.html","","width=800,height=400,toolbar=no,location=no,directories=no,alwaysRaised=yes,status=no,menubar=no,scrollbars=yes,copyhistory=yes,resizable=yes")),
null===this.output&&this.findOutput(),null!==this.output?(o.debug.traceQueue.length>0&&this.traceCallback(),this.win.println(e,t)):(o.debug.traceQueue.push({message:e,type:t}),setTimeout(o.debug.traceCallback,1e3))},this.traceCallback=function(){if(o.debug.findOutput(),null===o.debug.output)return void setTimeout(o.debug.traceCallback,1e3);for(var e=0;e<o.debug.traceQueue.length;e++){var t=o.debug.traceQueue[e];o.debug.win.println(t.message,t.type)}o.debug.traceQueue=[]},this.findOutput=function(){return null===this.output&&(this.output=this.win.document.getElementById("output")),this.output},this.logXml=function(e){e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e="<textarea cols=80 rows=5 wrap=hard>"+e+"</textarea>",this.println(e,"printxml")},this.log=function(e){this.println(e,"print")},this.logApex=function(e){var t=e.indexOf("<debugLog>"),n=e.indexOf("</debugLog>");t===-1?t=0:t+="<debugLog>".length,n===-1&&(n=e.length);var r=e.substring(t,n);this.println(r,"printxml")}},o.debug=new o.internal.Debug,o.internal._connections=[],o.internal.ConnectionHolder=function(e,t){this.connection=e,this.callback=t,this.timedout=!1},o.Transport=function(e){this.url=e,this.connection=null,this.newConnection=function(){try{this.connection=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{this.connection=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){this.connection=new XMLHttpRequest}}return this.connection},this.send=function(e,t,n,r){this.newConnection(),n&&(this.connection.onreadystatechange=this.httpConnectionCallback);var i=new o.internal.ConnectionHolder(this.connection,t);o.internal._connections.push(i),this.connection.open("POST",this.url,n),this.connection.setRequestHeader("Content-Type","text/xml; charset=UTF-8"),this.connection.setRequestHeader("SOAPAction",'""'),this.connection.setRequestHeader("Accept","text/xml"),this.connection.send(e),n&&"undefined"!=typeof r&&this.setTimeoutOn(i,r),n||this.httpConnectionCallback()},this.setTimeoutOn=function(e,t){function n(){4!==e.connection.readyState&&(e.timedout=!0,e.connection.abort())}setTimeout(n,t)},this.httpConnectionCallback=function(){for(var e=0;e<o.internal._connections.length;e++){var t=o.internal._connections[e];if(null!==t)if(t.timedout)o.internal._connections[e]=null,o.internal._connections.slice(e,1),t.callback.httpCallback("Remote invocation timed out",!1);else if(4==t.connection.readyState){o.internal._connections[e]=null,o.internal._connections.slice(e,1);var n=200==t.connection.status;o.debug.trace&&(o.debug.log("Response : status - "+t.connection.status),o.debug.logXml(t.connection.responseText)),o.debug.apexTrace&&o.debug.logApex(t.connection.responseText),t.connection.responseXML&&t.connection.responseXML.documentElement?t.callback.httpCallback(t.connection.responseXML.documentElement,n):t.callback.httpCallback("Remote invocation failed, due to: "+t.connection.responseText+" status code: ",t.connection.status)}}}},o.XmlWriter=function(){this.buffer=new o.StringBuffer,this.namespaces={},this.prefixCount=0,this.writingStartElement=!1},o.XmlWriter.prototype.writeStartElement=function(e,t,n){this.writingStartElement&&this.buffer.append(">"),this.buffer.append("<");var r=!1;t&&(this.namespaces[t]||""===this.namespaces[t]||(r=!0),n||(n=this.getPrefix(t)),null!==n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))),this.buffer.append(e),r===!0&&this.writeNamespace(t,n),this.writingStartElement=!0},o.XmlWriter.prototype.writeEndElement=function(e,t){if(this.writingStartElement)this.buffer.append("/>");else{if(this.buffer.append("</"),t){var n=this.getPrefix(t);n&&""!==n&&(this.buffer.append(n),this.buffer.append(":"))}this.buffer.append(e),this.buffer.append(">")}this.writingStartElement=!1},o.XmlWriter.prototype.writeNamespace=function(e,t){t&&""!==t?(this.namespaces[e]=t,this.buffer.append(" "),this.buffer.append("xmlns:"),this.buffer.append(t)):(this.namespaces[e]="",this.buffer.append(" "),this.buffer.append("xmlns")),this.buffer.append('="'),this.buffer.append(e),this.buffer.append('"')},o.XmlWriter.prototype.writeText=function(e){if(!this.writingStartElement)throw"Can only write text after a start element";this.buffer.append(">"),this.writingStartElement=!1,"string"==typeof e&&(e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")),this.buffer.append(e)},o.XmlWriter.prototype.writeXsiType=function(e){this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:type",e)},o.XmlWriter.prototype.writeAttribute=function(e,t){this.buffer.append(" "+e+'="'+t+'"')},o.XmlWriter.prototype.getPrefix=function(e){var t=this.namespaces[e];if(!t&&""!==t)return t="ns"+this.prefixCount,this.prefixCount++,this.namespaces[e]=t,t;return t},o.XmlWriter.prototype.toString=function(){return this.buffer.toString()},o.XmlWriter.prototype.soapNS="http://schemas.xmlsoap.org/soap/envelope/",o.XmlWriter.prototype.startEnvelope=function(){this.writeStartElement("Envelope",this.soapNS,"se")},o.XmlWriter.prototype.endEnvelope=function(){this.writeEndElement("Envelope",this.soapNS)},o.XmlWriter.prototype.startHeader=function(){this.writeStartElement("Header",this.soapNS,"se")},o.XmlWriter.prototype.endHeader=function(){this.writeEndElement("Header",this.soapNS)},o.XmlWriter.prototype.startBody=function(){this.writeStartElement("Body",this.soapNS,"se")},o.XmlWriter.prototype.endBody=function(){this.writeEndElement("Body",this.soapNS)},o.XmlWriter.prototype.writeNameValueNode=function(e,t){if(null===t)return this.writeStartElement(e),this.writeNamespace("http://www.w3.org/2001/XMLSchema-instance","xsi"),this.writeAttribute("xsi:nill","true"),void this.writeEndElement(e);if(t.toUTCString&&(t=o.internal.dateTimeToString(t)),"boolean"==typeof t&&(t=t?"true":"false"),t&&t.join)for(var n=0;n<t.length;n++)this.writeStartElement(e),this.writeText(t[n]),this.writeEndElement(e);else this.writeStartElement(e),this.writeText(t),this.writeEndElement(e)},o.XmlReader=function(e){this.envelope=e},o.XmlReader.prototype.getEnvelope=function(){if(this.isTag("Envelope",this.envelope))return this.envelope;throw"Unable to find soap envelope, but found "+this.envelope.nodeName},o.XmlReader.prototype.getBody=function(){return this.getChild("Body",this.envelope)},o.XmlReader.prototype.getHeader=function(){return this.getChild("Header",this.envelope)},o.XmlReader.prototype.getChild=function(e,t){for(var n=t.childNodes,r=0;r<n.length;r++)if(1==n[r].nodeType&&this.isTag(e,n[r]))return n[r];return null},o.XmlReader.prototype.getFirstElement=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType)return t[n];return null},o.XmlReader.prototype.isTag=function(e,t){var n=t.nodeName.split(":");if(2==n.length&&n[1]==e)return!0;if(1==n.length&&n[0]==e)return!0;return!1},o.XmlReader.prototype.isNameValueNode=function(e){for(var t=e.childNodes,n=0;n<t.length;n++)if(3!=t[n].nodeType)return!1;return!0},o.XmlReader.prototype.getTextValue=function(e){if(3==e.nodeType)return e.nodeValue;var t=e.getAttribute("xsi:nil");if("true"==t)return null;for(var n="",r=e.childNodes,i=0;i<r.length;i++){if(3!=r[i].nodeType)throw"Not a simple name value node";n+=r[i].nodeValue}return n},o.XmlReader.prototype.toXmlObject=function(e){var t=e.getAttribute("xsi:nil");if("true"==t)return null;var n=new o.Xml,r=[];for(r.push({node:e,obj:n});r.length>0;)for(var i=r.shift(),a=i.node.firstChild;null!==a;a=a.nextSibling){if(1!=a.nodeType)continue;var s=a.nodeName,u=s.indexOf(":");s=u==-1?s:s.substring(u+1);for(var c,l=!0,d="",f=a.firstChild;null!==f;f=f.nextSibling){if(3!=f.nodeType){l=!1;break}d+=f.nodeValue}if(l?c="true"==a.getAttribute("xsi:nil")?null:d:(c=new o.Xml,r.push({node:a,obj:c})),i.obj[s])if(i.obj[s].push)i.obj[s].push(c);else{var p=i.obj[s];"Id"===s&&p===c||(i.obj[s]=[],i.obj[s].push(p),i.obj[s].push(c))}else i.obj[s]=c}return n},o.SoapTransport=function(){this.connectionCallback=null,this.result=null,this.fault=null,this.isAsync=!0,this.isArray=!1},o.SoapTransport.prototype.onFailure=function(e,t){var n="ERROR: ........... ";a(n+e),this.result=null},o.SoapTransport.prototype.send=function(e,t,n,r){this.isArray=n;var i=new o.Transport(e);if(this.isAsync=!!r,!this.isAsync){if(i.send(t.toString(),this,this.isAsync),null!==this.fault)throw this.fault;return this.result}this.connectionCallback=r,i.send(t.toString(),this,this.isAsync,r.timeout)},o.SoapTransport.prototype.httpCallback=function(e,t){try{if(t===!0){var n=new o.XmlReader(e),r=(n.getEnvelope(),n.getBody()),i=n.getFirstElement(r);if(null===i)throw"Unable to find operation response element";for(var a=[],s=i.childNodes,u=0;u<s.length;u++){if(1!=s[u].nodeType)continue;n.isNameValueNode(s[u])?a.push(n.getTextValue(s[u])):a.push(n.toXmlObject(s[u]))}if(this.isArray)this.result=a;else{if(a.length>1)throw"Found more than one response: "+a;this.result=a[0]}if(this.isAsync)try{if(this.beforeCallback(),"function"==typeof this.connectionCallback)this.connectionCallback(this.result);else{if(!this.connectionCallback.onSuccess)throw"Unable to find onSuccess method in the callback object";this.connectionCallback.onSuccess(this.result,this.connectionCallback.source)}}finally{this.afterCallback()}}else if("undefined"!=typeof e.nodeName){var c=new o.XmlReader(e),l=(c.getEnvelope(),c.getBody()),d=c.getFirstElement(l),f=c.toXmlObject(d);this.sendFault(f)}else this.sendFault(e)}catch(p){this.sendFault(p)}},o.SoapTransport.prototype.sendFault=function(e){if(this.isAsync)if(this.connectionCallback.onFailure)try{this.beforeCallback(),this.connectionCallback.onFailure(e,this.connectionCallback.source)}finally{this.afterCallback()}else this.onFailure(e);else this.fault=e},o.SoapTransport.prototype.beforeCallback=function(){},o.SoapTransport.prototype.afterCallback=function(){},o.SObject=function(e){this.type=e},o.SObject.prototype=new o.Xml("sObjects"),o.LeadConvert=function(){},o.LeadConvert.prototype=new o.Xml("leadConverts"),o.MergeRequest=function(){},o.MergeRequest.prototype=new o.Xml("request"),o.QuickAction=function(){},o.QuickAction.prototype=new o.Xml("quickActions"),o.Connection=function(){this.sessionId=null,this.updateMru=null,this.allowFieldTruncation=null,this.disableFeedTracking=null,this.streamingEnabled=null,this.allOrNone=null,this.client=null,this.defaultNamespace=null,this.batchSize=null,this.loginScopeHeader=null,this.emailHeader=null,this.assignmentRuleHeader=null,this.transferToUserId=null,this.debuggingHeader=null,this.serverUrl="undefined"!=typeof i.UserContext?u.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0"},o.internal.Parameter=function(e,t,n){this.name=e,this.value=t,this.isArray=n},o.Connection.prototype.sforceNs="urn:partner.soap.sforce.com",o.Connection.prototype.sobjectNs="sobject.partner.soap.sforce.com",o.Connection.prototype.writeOne=function(e,t,n,r){null===n?e.writeNameValueNode(t,null):n.toXml?n.toXml(r,t,e):e.writeNameValueNode(t,n)},o.Connection.prototype.init=function(e,t){this.sessionId=e,this.serverUrl=t},o.Connection.prototype.login=function(e,t){var n=new o.internal.Parameter("username",e,(!1)),r=new o.internal.Parameter("password",t,(!1)),i=this.invoke("login",[n,r],!1,null);return this.sessionId=i.sessionId,i},o.Connection.prototype.describeSObject=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!1));return this.invoke("describeSObject",[n],!1,t)},o.Connection.prototype.describeSObjects=function(e,t){var n=new o.internal.Parameter("sObjectType",e,(!0));return this.invoke("describeSObjects",[n],!0,t)},o.Connection.prototype.describeGlobal=function(e){return this.invoke("describeGlobal",[],!1,e)},o.Connection.prototype.describeLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeLayout",[r,i],!1,n)},o.Connection.prototype.describeAvailableQuickActions=function(e,t){var n=new o.internal.Parameter("parentType",e,(!1));return this.invoke("describeAvailableQuickActions",[n],!0,t)},o.Connection.prototype.describeQuickActions=function(e,t){var n=new o.internal.Parameter("quickActionNames",e,(!0));return this.invoke("describeQuickActions",[n],!0,t)},o.Connection.prototype.performQuickActions=function(e,t){var n=new o.internal.Parameter("quickActions",e,(!0));return this.invoke("performQuickActions",[n],!0,t)},o.Connection.prototype.describeCompactLayouts=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1));t||(t=[]);var i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeCompactLayouts",[r,i],!1,n)},o.Connection.prototype.describeTabs=function(e){return this.invoke("describeTabs",[],!0,e)},o.Connection.prototype.describeFlexiPages=function(e,t){var n=new o.internal.Parameter("FlexiPage",e,(!1));return this.invoke("describeFlexiPages",[n],!0,t)},o.Connection.prototype.describeTheme=function(e,t){var n=new o.internal.Parameter("themeNames",e,(!0));return this.invoke("describeTheme",[n],!0,t)},o.Connection.prototype.describeGlobalTheme=function(e){return this.invoke("describeGlobalTheme",[],!0,e)},o.Connection.prototype.describeSoftphoneLayout=function(e){return this.invoke("describeSoftphoneLayout",[],!1,e)},o.Connection.prototype.describeMiniLayout=function(e,t,n){var r=new o.internal.Parameter("sObjectType",e,(!1)),i=new o.internal.Parameter("recordTypeIds",t,(!0));return this.invoke("describeMiniLayout",[r,i],!1,n)},o.Connection.prototype.describeSearchScopeOrder=function(e){return this.invoke("describeSearchScopeOrder",[],!0,e)},o.Connection.prototype.create=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("create",[n],!0,t)},o.Connection.prototype.update=function(e,t){var n=new o.internal.Parameter("sObjects",e,(!0));return this.invoke("update",[n],!0,t)},o.Connection.prototype.upsert=function(e,t,n){var r=new o.internal.Parameter("externalIDFieldName",e,(!1)),i=new o.internal.Parameter("sObjects",t,(!0));return this.invoke("upsert",[r,i],!0,n)},o.Connection.prototype.deleteIds=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("delete",[n],!0,t)},o.Connection.prototype.impersonateUser=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("impersonateUser",[n],!0,t)},o.Connection.prototype.query=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("query",[n],!1,t)},o.Connection.prototype.queryAll=function(e,t){var n=new o.internal.Parameter("queryString",e,(!1));return this.invoke("queryAll",[n],!1,t)},o.Connection.prototype.queryMore=function(e,t){var n=new o.internal.Parameter("queryLocator",e,(!1));return this.invoke("queryMore",[n],!1,t)},o.Connection.prototype.retrieve=function(e,t,n,r){var i=new o.internal.Parameter("fieldList",e,(!1)),a=new o.internal.Parameter("sObjectType",t,(!1)),s=new o.internal.Parameter("ids",n,(!0));return this.invoke("retrieve",[i,a,s],!0,r)},o.Connection.prototype.getUserInfo=function(e){return this.invoke("getUserInfo",[],!1,e)},o.Connection.prototype.resetPassword=function(e,t){var n=new o.internal.Parameter("userId",e,(!1));return this.invoke("resetPassword",[n],!1,t)},o.Connection.prototype.setPassword=function(e,t,n){var r=new o.internal.Parameter("userId",e,(!1)),i=new o.internal.Parameter("password",t,(!1));return this.invoke("setPassword",[r,i],!1,n)},o.Connection.prototype.search=function(e,t){var n=new o.internal.Parameter("searchString",e,(!1));return this.invoke("search",[n],!1,t)},o.Connection.prototype.getDeleted=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getDeleted",[i,a,s],!1,r)},o.Connection.prototype.getUpdated=function(e,t,n,r){var i=new o.internal.Parameter("sObjectType",e,(!1)),a=new o.internal.Parameter("startDate",t,(!1)),s=new o.internal.Parameter("endDate",n,(!1));return this.invoke("getUpdated",[i,a,s],!1,r)},o.Connection.prototype.getServerTimestamp=function(e){return this.invoke("getServerTimestamp",[],!1,e)},o.Connection.prototype.convertLead=function(e,t){var n=new o.internal.Parameter("leadConverts",e,(!0));return this.invoke("convertLead",[n],!0,t)},o.Connection.prototype.merge=function(e,t){var n=new o.internal.Parameter("request",e,(!0));return this.invoke("merge",[n],!0,t)},o.Connection.prototype.undelete=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("undelete",[n],!0,t)},o.Connection.prototype.process=function(e,t){var n=new o.internal.Parameter("actions",e,(!0));return this.invoke("process",[n],!0,t)},o.Connection.prototype.sendEmail=function(e,t){var n=new o.internal.Parameter("messages",e,(!0));return this.invoke("sendEmail",[n],!0,t)},o.Connection.prototype.emptyRecycleBin=function(e,t){var n=new o.internal.Parameter("ids",e,(!0));return this.invoke("emptyRecycleBin",[n],!0,t)},o.Connection.prototype.invalidateSessions=function(e,t){var n=new o.internal.Parameter("sessionIds",e,(!0));return this.invoke("invalidateSessions",[n],!0,t)},o.Connection.prototype.logout=function(e){return this.invoke("logout",[],!0,e)},o.Connection.prototype.remoteFunction=function(e){if(!e.url)throw"url not defined";if(!e.onSuccess)throw"onSuccess method not defined";if(e.method||(e.method="GET"),e.mimeType||(e.mimeType="text/plain"),"undefined"==typeof e.async&&(e.async=!0),"undefined"==typeof e.cache&&(e.cache=!1),"text/plain"!=e.mimeType&&"text/xml"!=e.mimeType)throw"Unknown mime type "+e.mimeType;o.debug.trace&&o.debug.log("Open connection to ... "+e.url);var t=(new o.Transport).newConnection(),n="undefined"!=typeof i.UserContext?u.getUrl("/services/proxy"):"/services/proxy";if(n=e.cache?n+"?end-point-url="+e.url:n+"?no-cache="+(new Date).getTime(),t.open(e.method,n,e.async),e.requestHeaders)for(var r in e.requestHeaders)"function"!=typeof e.requestHeaders[r]&&t.setRequestHeader(r,e.requestHeaders[r]);t.setRequestHeader("SalesforceProxy-Endpoint",e.url),t.setRequestHeader("SalesforceProxy-SID",this.sessionId),e.async&&(t.onreadystatechange=a),o.debug.trace&&o.debug.log("Sending ..."),e.requestData?t.send(e.requestData):t.send(null),o.debug.trace&&o.debug.log("Done Sending ..."),e.async||a();function a(){if(o.debug.trace&&o.debug.log("callback called ..."),4==t.readyState)if(200==t.status)if("text/plain"==e.mimeType)e.onSuccess(t.responseText,t);else{if("text/xml"!=e.mimeType)throw"unsupported mime type: "+e.mimeType;if(!t.responseXML||!t.responseXML.documentElement)throw"Response not text/xml mime type: "+t.responseText;e.onSuccess(t.responseXML.documentElement,t)}else e.onFailure?e.onFailure(t.responseText,t):o.debug.log(t.responseText)}},o.Connection.prototype.writeHeader=function(e,t){if(e.startHeader(),e.writeNamespace(t,"sfns"),null!==this.sessionId&&(e.writeStartElement("SessionHeader",t),e.writeNameValueNode("sessionId",this.sessionId),e.writeEndElement("SessionHeader",t)),"undefined"!=typeof this.organizationId)throw"Use sforce.connection.loginScopeHeader.organizationId instead of sforce.connection.organizationId";if(null!==this.loginScopeHeader&&(e.writeStartElement("LoginScopeHeader",t),null!==this.loginScopeHeader.organizationId&&e.writeNameValueNode("organizationId",this.loginScopeHeader.organizationId),null!==this.loginScopeHeader.portalId&&e.writeNameValueNode("portalId",this.loginScopeHeader.portalId),e.writeEndElement("LoginScopeHeader",t)),null===this.client&&null===this.defaultNamespace||(e.writeStartElement("CallOptions",t),null!==this.client&&e.writeNameValueNode("client",this.client),null!==this.defaultNamespace&&e.writeNameValueNode("defaultNamespace",this.defaultNamespace),e.writeEndElement("CallOptions",t)),null!==this.batchSize&&(e.writeStartElement("QueryOptions",t),e.writeNameValueNode("batchSize",this.batchSize),e.writeEndElement("QueryOptions",t)),null!==this.allowFieldTruncation&&(e.writeStartElement("AllowFieldTruncationHeader",t),e.writeNameValueNode("allowFieldTruncation",this.allowFieldTruncation),e.writeEndElement("AllowFieldTruncationHeader",t)),null!==this.disableFeedTracking&&(e.writeStartElement("DisableFeedTrackingHeader",t),e.writeNameValueNode("disableFeedTracking",this.disableFeedTracking),e.writeEndElement("DisableFeedTrackingHeader",t)),null!==this.streamingEnabled&&(e.writeStartElement("StreamingEnabledHeader",t),e.writeNameValueNode("StreamingEnabled",this.streamingEnabled),e.writeEndElement("StreamingEnabledHeader",t)),null!==this.allOrNone&&(e.writeStartElement("AllOrNoneHeader",t),e.writeNameValueNode("allOrNone",this.allOrNone),e.writeEndElement("AllOrNoneHeader",t)),null!==this.updateMru&&(e.writeStartElement("MruHeader",t),e.writeNameValueNode("updateMru",this.updateMru),e.writeEndElement("MruHeader",t)),null!==this.emailHeader&&(e.writeStartElement("EmailHeader",t),this.emailHeader.triggerAutoResponseEmail&&e.writeNameValueNode("triggerAutoResponseEmail",this.emailHeader.triggerAutoResponseEmail),this.emailHeader.triggerOtherEmail&&e.writeNameValueNode("triggerOtherEmail",this.emailHeader.triggerOtherEmail),this.emailHeader.triggerUserEmail&&e.writeNameValueNode("triggerUserEmail",this.emailHeader.triggerUserEmail),e.writeEndElement("EmailHeader",t)),null!==this.assignmentRuleHeader&&(e.writeStartElement("AssignmentRuleHeader",t),this.assignmentRuleHeader.assignmentRuleId&&e.writeNameValueNode("assignmentRuleId",this.assignmentRuleHeader.assignmentRuleId),this.assignmentRuleHeader.useDefaultRule&&e.writeNameValueNode("useDefaultRule",this.assignmentRuleHeader.useDefaultRule),e.writeEndElement("AssignmentRuleHeader",t)),null!==this.transferToUserId&&(e.writeStartElement("UserTerritoryDeleteHeader",t),e.writeNameValueNode("transferToUserId",this.transferToUserId),e.writeEndElement("UserTerritoryDeleteHeader",t)),null!==this.debuggingHeader){if(e.writeStartElement("DebuggingHeader",t),this.debuggingHeader.debugLevel&&e.writeNameValueNode("debugLevel",this.debuggingHeader.debugLevel),this.debuggingHeader.debugCategories)for(var n=this.debuggingHeader.debugCategories,r=0;r<n.length;r++){var i=n[r].split(",");2==i.length&&(e.writeStartElement("categories"),e.writeNameValueNode("category",i[0]),e.writeNameValueNode("level",i[1]),e.writeEndElement("categories"))}e.writeEndElement("DebuggingHeader",t)}e.endHeader()},o.Connection.prototype.namespaceMap=[{ns:o.Connection.prototype.sforceNs,prefix:null},{ns:o.Connection.prototype.sobjectNs,prefix:"ns1"}],o.Connection.prototype.invoke=function(e,t,n,r){return this._invoke(e,t,n,r,this.namespaceMap,this.serverUrl,this.sforceNs,this.sobjectNs)},o.Connection.prototype._invoke=function(e,t,n,r,i,a,s,u){if(r)if("function"==typeof r);else{if(!r.onSuccess)throw"onSuccess not defined in the callback";if(!r.onFailure)throw"onFailure not defined in the callback"}var c=new o.XmlWriter;c.startEnvelope(),this.writeHeader(c,s),c.startBody(),c.writeStartElement(e);for(var l=0;l<i.length;l++)c.writeNamespace(i[l].ns,i[l].prefix);for(var l=0;l<t.length;l++){var d=t[l];if("undefined"==typeof d.value)throw"arg "+l+" '"+d.name+"' not specified";if(null!==d.value){if(d.isArray&&!d.value.push)throw"arg "+l+" '"+d.name+"' is an array. But passed in value is not an array";if(!d.isArray&&d.value.push)throw"arg "+l+" '"+d.name+"' is not an array. But passed in value is an array"}if(null===d.value)this.writeOne(c,d.name,null,u);else if(d.value.push)for(var f=0;f<d.value.length;f++){var p=d.value[f];if(!p)throw"Array element at "+f+" is null.";this.writeOne(c,d.name,p,u)}else this.writeOne(c,d.name,d.value,u)}c.writeEndElement(e),c.endBody(),c.endEnvelope(),o.debug.trace&&(o.debug.log("Request: server- "+a),o.debug.logXml(c.toString()));var h=new o.SoapTransport;return h.send(a,c,n,r)},o.QueryResultIterator=function(e){this.queryResult=e,this.index=0,this.records=this.queryResult.getArray("records")},o.QueryResultIterator.prototype.hasNext=function(){if(this.records.length>this.index)return!0;return null!==this.queryResult.queryLocator&&(this.queryResult=o.connection.queryMore(this.queryResult.queryLocator),this.records=this.queryResult.getArray("records"),this.index=0),this.records.length>this.index},o.QueryResultIterator.prototype.next=function(){if(this.records.length>this.index){var e=this.records[this.index];return this.index++,e}throw"Index out of bound : "+this.index},o.Email=function(){},o.Email.prototype=new o.Xml("messages"),o.MassEmailMessage=function(){},o.MassEmailMessage.prototype=new o.Xml("messages"),o.MassEmailMessage.prototype._xsiType="MassEmailMessage",o.SingleEmailMessage=function(){},o.SingleEmailMessage.prototype=new o.Xml("messages"),o.SingleEmailMessage.prototype._xsiType="SingleEmailMessage",o.ProcessRequest=function(){},o.ProcessRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest=function(){},o.ProcessSubmitRequest.prototype=new o.Xml("actions"),o.ProcessSubmitRequest.prototype._xsiType="ProcessSubmitRequest",o.ProcessWorkitemRequest=function(){},o.ProcessWorkitemRequest.prototype=new o.Xml("actions"),o.ProcessWorkitemRequest.prototype._xsiType="ProcessWorkitemRequest",o.connection=new o.Connection,"undefined"!=typeof __sfdcSiteUrlPrefix&&(u.siteUrlPrefix=__sfdcSiteUrlPrefix),o.connection.serverUrl="undefined"!=typeof i.UserContext?u.getUrl("/services/Soap/u/29.0"):"/services/Soap/u/29.0","undefined"!=typeof __sfdcSessionId&&(o.connection.sessionId=__sfdcSessionId);function c(){var e="salesforce",t=new RegExp(e+".+com");return t.test(i.document.domain)}function l(){var n;if(n=c()?e.getCookie("sid"):i.__sfdcSessionId,!n)return void a("there is no session id in this page.");if(t.isFeatureEnabled("sfCommunity"))o.connection.sessionId=n;else{var r="https://"+i.location.host+"/services/Soap/u/29.0";o.connection.init(n,r)}s=!0}l.apply(null,arguments)}n.SalesForceConnection=i},{"wm-prelib-plugin-entry-manager":59}],42:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;function i(e,t,n){var i=this;i.injectSFConnection=function(e,t){var n=r().get("SalesForceConnection"),i=n.getSforce();i?e&&e(i):t()}}n.SalesForceConnectionUtils=i},{"wm-prelib-plugin-entry-manager":59}],43:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a,s,u,c,l){var d,f,p=".oneHomeCardListDesktop",h="sfVarsBlacklist",g="#WM_EXT_IFRAME {display:none !important}",v="walkme-extention-tile-hide",m=200,_=this,y=s.wrapCustomerLog(r),b=!1;function w(){C()}_.init=function(e){d=x(),d&&!E()?(y("Start to extract sfVars",2),D(e)):e&&e()};function E(){var e=S();if(e instanceof Array)for(var t=0;t<e.length;t++)if(location.href.indexOf(e[t])>-1)return!0}function S(){return _walkMe.getSiteConfig().Custom[h]}function O(){return"lightning"==a.getCurrentSfEnvironment()}function C(){if(!window.WalkMe_Extension)return;var e=window.location.href;e.indexOf("lightning.force")>-1&&(f=0,T())}_.removeIFrame=function(){i.isFeatureEnabled("keepSFFrame")||(O()?N():wmjQuery("iframe[title*='WM_EXT_IFRAME']").remove())};function N(){l.injectCss(g,v)}function T(){if(f<m){var e=wmjQuery('li:has(div:contains("WalkMe"))',p);0==e.length?(f++,u.libSetTimeout(T,300)):(e.remove(),b=!0,y("walkme SF action bar removed due to exsiting extension",2))}}function D(e){if(A()){y("Find window.UserContext",2);var n=o.getSfVarsRetriever(d);if(!n)return void a.handleNoSfVars("Can't get any right sfRetriever",e,{errType:"sfVarsFailure"});y("Got the right sfRetriever",2),t.extractSalesForceVars(e,n)}else a.handleNoSfVars("There is no UserContext on the page",e,{errType:"sfVarsFailure"})}_.search=function(e,t){n.search(e,t)};function A(){var e=a.getCurrentSfEnvironment();if(!e)return!1;var t="lightning"==e;if(t)return R();return I()}function I(){return!(!window.UserContext||"undefined"==typeof window.UserContext.userId)}function R(){var e=c.get().Custom.sfVarsLightningBaseUrl;if(e)return!0;return I()&&window.UserContext.vfDomainPattern}function x(){if(i.isFeatureEnabled(a.BASIC_SF_VARS_FEATURE)&&!i.isFeatureEnabled(a.GENERAL_SF_VARS_FEATURE))return a.BASIC_SF_VARS_FEATURE;return a.GENERAL_SF_VARS_FEATURE}w.apply(null)}n.SalesForceManager=i},{"wm-prelib-plugin-entry-manager":59}],44:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n){var i,o=this,a="Account (Id, Name), Contact (Id, Name), Opportunity (Id, Name), Lead (Id, Name)",s="";o.search=function(e,t){n.injectSFConnection(function(n){u(n,e,t)},function(){t(s)})};function u(e,n,r){var o=s;try{var u=t.get().Settings.sfSearch||a;o=e.connection.search("find {"+n+"*} RETURNING "+u)}catch(c){i("unknown error getting search results: "+c.message)}r(o)}function c(){i=e.wrapCustomerLog(r)}c.apply(null,arguments)}n.SalesForceSearcher=i},{"wm-prelib-plugin-entry-manager":59}],45:[function(e,t,n){var r=(e("wm-prelib-plugin-entry-manager").getCtx,"salesforce");function i(e,t,n,i,o,a,s,u){var c,l,d=this,f="wm-sf-users-data_"+s.get(),p="wm-sf-lst-usr",h=31536e5,g=864e5,v=86400,m=["userId","organizationId","organizationName","profileId","roleId","userName","userLanguage"];d.extractSalesForceVars=function(n,r){l=n;try{var i=_("wm-expirationCookie");i&&(g=parseInt(i));var o=y(),a=E();S(a,o,r).then(function(e){C(e.userData,e.isPrev),e.isPrev||u.logEvent("OK",{retrieverType:r.getType()})}).fail(function(e){t.handleNoSfVars("Failed getting user data. Message: "+e,l,{errType:"sfVarsFailure"}),u.logEvent("FAIL",{errorMsg:e,retrieverType:r.getType()})})}catch(s){e.error(s,"unknown error getting walkmeSfVars: "+s.message,{errType:"sfVarsFailure"}),u.logEvent("FAIL",{errorMsg:s.message||s,retrieverType:r.getType()}),l&&l()}};function _(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=wmjQuery.trim(n[r]);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function y(){if(window.UserContext&&window.UserContext.userId){var e=t.to18CharId(window.UserContext.userId);if(b(e),e)return e}var n=w();if(n)return n;c("No UserContext on window. Can't get userId")}function b(e){e&&n.saveData(p,e,v)}function w(){return n.getData(p)}function E(){var e=n.getData(f);if(e)return i.secureEvalJSON(e)}function S(e,t,n){var r=wmjQuery.Deferred(),i=e&&e[t];return!i||O(i)?n.getUserData(m).then(function(e){c("Get sfVars from server"),r.resolve({userData:e,isPrev:!1})}).fail(function(e){i?(c("reuse sfVars that already expired"),r.resolve({userData:i,isPrev:!0})):(c("no sfVars"),r.reject(e))}):(c("sfVars is already exist"),r.resolve({userData:i,isPrev:!0})),r.promise()}function O(e){if(e.lastModified){var t=(new Date).getTime();if(t-g<e.lastModified)return!1}return!0}function C(t,n){t?(n||N(y(),t),window.walkme_sf_vars=t,delete window.walkme_sf_vars.lastModified,o.raiseEvent(a.EVENTS.SalesForceVarsExposed),c("sales force var were exposed",5)):c("no user data for user: "+y(),5);try{l&&l()}catch(r){e.error(r,"error during callback in extract sf vars: exposeData")}}function N(e,t){if(!e)return;var r=E();r||(r={}),r[e]=t,r[e].lastModified=(new Date).getTime();var o=i.toJSON(r);o&&n.saveData(f,o,h)}function T(){c=e.wrapCustomerLog(r)}T.apply(null,arguments)}n.SalesForceVarsExtractor=i},{"wm-prelib-plugin-entry-manager":59}],46:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("wm-sf-lightning-init-user-context");e("./sfVarsEventLogger.js"),e("./salesForceManager.js"),e("./sfVarsUtils.js"),e("./salesForceVarsExtractor.js"),e("./salesForceSearcher.js"),e("./salesForceConnectionUtils.js"),e("./salesForceConnection.js"),e("./sfVarsRetrieverFactory.js"),e("./legacySfVarsRetriever.js"),e("./nonLegacySfVarsRetriever.js"),e("./basicSfVarsRetriever.js"),e("./communitySfVarsUrlBuilder.js"),e("./lightningSfVarsUrlBuilder.js"),e("./sfVarsMapper.js"),e("./sfVarsFeatureLoader.js");function o(){var e=this;e.run=u;var t,n,o,a;function s(){t=r().get("PromiseManager"),n=r().get("EventsListener"),o=r().get("EventsTrigger"),a=r().get("PrelibLogger")}function u(){a.write("sf-vars plugin was deployed."),n.on("BeforeStorageLoadedCallback",function(){var e=r().get("SfVarsEventLogger");if(r().has("sfVarsRemovedFromLib")){a.write("sf-vars plugin detected Lib 152+ - initializing");var t=r().get("SfVarsFeatureLoader");
return t.load(),r().create("Promise",function(t,n){try{r().get("SalesForceManager").init(function(){t()})}catch(i){t(),e.logEvent("FAIL",{errorMsg:i.message||i})}})}a.write("sf-vars plugin did not detect Lib 152+ - do nothing"),e.logEvent("OFF")});var e=i(window,r());return e}s()}n.SfVars=o},{"./basicSfVarsRetriever.js":35,"./communitySfVarsUrlBuilder.js":36,"./legacySfVarsRetriever.js":37,"./lightningSfVarsUrlBuilder.js":38,"./nonLegacySfVarsRetriever.js":40,"./salesForceConnection.js":41,"./salesForceConnectionUtils.js":42,"./salesForceManager.js":43,"./salesForceSearcher.js":44,"./salesForceVarsExtractor.js":45,"./sfVarsEventLogger.js":47,"./sfVarsFeatureLoader.js":48,"./sfVarsMapper.js":49,"./sfVarsRetrieverFactory.js":50,"./sfVarsUtils.js":51,"wm-prelib-plugin-entry-manager":59,"wm-sf-lightning-init-user-context":60}],47:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx;r().register("SfVarsEventLogger").asCtor(i).dependencies("PrelibLogger, EventSenderErrorLogger");function i(e,t){var n=this;n.logEvent=function(n,r){e.write("sfVars plugin event: "+n);var o=i();r||(r={plugin:null,uId:null,sfVarsResult:null}),r.plugin="sf-vars",r.sfVarsResult=n,o&&(r.uId=o),t.logError(n,r)};function i(){var e=o();return e&&e.UserGuids&&e.UserGuids[0]}function o(){return a("wmSnippet")||a("wmPlaySnippet")||a("wmPreviewSnippet")}function a(e){var t=r().get("win");if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}}},{"wm-prelib-plugin-entry-manager":59}],48:[function(e,t,n){var r=e("./salesForceManager.js").SalesForceManager,i=e("./sfVarsUtils.js").SfVarsUtils,o=e("./salesForceVarsExtractor.js").SalesForceVarsExtractor,a=e("./salesForceSearcher.js").SalesForceSearcher,s=e("./salesForceConnectionUtils.js").SalesForceConnectionUtils,u=e("./salesForceConnection.js").SalesForceConnection,c=e("./sfVarsRetrieverFactory.js").SfVarsRetrieverFactory,l=e("./legacySfVarsRetriever.js").LegacySfVarsRetriever,d=e("./nonLegacySfVarsRetriever.js").NonLegacySfVarsRetriever,f=e("./basicSfVarsRetriever.js").BasicSfVarsRetriever,p=e("./communitySfVarsUrlBuilder.js").CommunitySfVarsUrlBuilder,h=e("./lightningSfVarsUrlBuilder.js").LightningSfVarsUrlBuilder,g=e("./sfVarsMapper.js").SfVarsMapper,v=e("wm-prelib-plugin-entry-manager").getCtx;v().register("SfVarsFeatureLoader").asCtor(m);function m(){this.load=function(){v().register("BasicSfVarsRetriever").asCtor(f).dependencies("Logger, SfVarsUtils"),v().register("CommunitySfVarsUrlBuilder").asCtor(p).dependencies("Logger, CommonUtils, SiteConfigManager"),v().register("LegacySfVarsRetriever").asCtor(l).dependencies("SiteConfigManager, SalesForceConnectionUtils, Logger"),v().register("LightningSfVarsUrlBuilder").asCtor(h).dependencies("Logger, CommonUtils, SiteConfigManager, SfVarsUtils, FeaturesManager"),v().register("NonLegacySfVarsRetriever").asCtor(d).dependencies("Logger, CommonUtils, TimerManager, ClientStorageManager, SfVarsUtils, SfVarsMapper"),v().register("SalesForceConnection").asCtor(u).dependencies("CookiesManager, FeaturesManager, Logger"),v().register("SalesForceConnectionUtils").asCtor(s).dependencies("Logger, CookiesManager, FeaturesManager"),v().register("SalesForceManager").asCtor(r).dependencies("CommonUtils, SalesForceVarsExtractor,SalesForceSearcher,FeaturesManager,SfVarsRetrieverFactory,SfVarsUtils,Logger,TimerManager,SiteConfigManager,ResourceManager"),v().register("SalesForceSearcher").asCtor(a).dependencies("Logger,SiteConfigManager,SalesForceConnectionUtils"),v().register("SalesForceVarsExtractor").asCtor(o).dependencies("Logger, SfVarsUtils, ClientStorageManager, CommonUtils, CommonEvents, Consts, AuditSourceManager, SfVarsEventLogger"),v().register("SfVarsMapper").asCtor(g).dependencies("CommonUtils, SiteConfigManager"),v().register("SfVarsRetrieverFactory").asCtor(c).dependencies("Logger, SfVarsUtils, LegacySfVarsRetriever, NonLegacySfVarsRetriever, BasicSfVarsRetriever"),v().register("SfVarsUtils").asCtor(i).dependencies("LibDestroyer, Logger, TimerManager")}}n.SfVarsFeatureLoader=m},{"./basicSfVarsRetriever.js":35,"./communitySfVarsUrlBuilder.js":36,"./legacySfVarsRetriever.js":37,"./lightningSfVarsUrlBuilder.js":38,"./nonLegacySfVarsRetriever.js":40,"./salesForceConnection.js":41,"./salesForceConnectionUtils.js":42,"./salesForceManager.js":43,"./salesForceSearcher.js":44,"./salesForceVarsExtractor.js":45,"./sfVarsMapper.js":49,"./sfVarsRetrieverFactory.js":50,"./sfVarsUtils.js":51,"wm-prelib-plugin-entry-manager":59}],49:[function(e,t,n){e("wm-prelib-plugin-entry-manager").getCtx;function r(e,t){var n={userName:"Username",profileId:"ProfileId",roleId:"UserRoleId",userLanguage:"LanguageLocaleKey"};this.extractUserContextVars=function(t,n){var r,i,o=window.UserContext;if(o)for(var a=t.length-1;a>=0;a--)r=t[a],i=o[r],e.isDefined(i)&&""!==i&&(n[r]=i,t.splice(a,1));return t},this.mapLegacyToNonLegacyVars=function(e){var r=[];wmjQuery.each(e,function(e,t){var i=n[t];i&&r.push(i)});var i=t.get().Settings.sfCustomVars;return i&&i.length&&(r=r.concat(i)),r},this.mapNonLegacyDataToLegacy=function(e){var r={};wmjQuery.each(e,function(t,i){var o=wmjQuery.grep(Object.keys(n),function(e){return n[e]===t});o&&o[0]&&(r[o[0]]=e[n[o[0]]])});var i=t.get().Settings.sfCustomVars;return i&&i.length&&wmjQuery.each(i,function(t,n){r[n]=e[n]}),r}}n.SfVarsMapper=r},{"wm-prelib-plugin-entry-manager":59}],50:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n,o,a){var s=this,u=e.wrapCustomerLog(i);s.getSfVarsRetriever=function(e){var n=r().get("SiteConfigManager").get().Custom.sfVars;if(n&&n.UseProxyRegex){u("Selecting sfVars retriever by regex: "+n.UseProxyRegex);var i=new RegExp(n.UseProxyRegex,"i");if(i.test(location.href))return u("Use NonLegacySfVarsRetriever because proxy regex matched"),r().get("NonLegacySfVarsRetriever");u("Proxy regex did not match")}if(n&&n.UseProxy)return u("Use NonLegacySfVarsRetriever configured"),r().get("NonLegacySfVarsRetriever");if(n&&n.UseRestApi)return u("Use LegacySfVarsRetriever configured"),r().get("LegacySfVarsRetriever");if(u("No specific sfVars retriever configured - use default"),e==t.GENERAL_SF_VARS_FEATURE){var o=t.getCurrentSfEnvironment();return c(o)}if(e==t.BASIC_SF_VARS_FEATURE)return u("Retrieving sf vars with basicSfVars",1),a};function c(e){switch(e){case"legacy":return u("Retrieving sf vars with LegacySfVarsRetriever",1),n;case"lightning":case"community":return u("Retrieving sf vars with NonLegacySfVarsRetriever",1),o}}}n.SfVarsRetrieverFactory=o},{"wm-prelib-plugin-entry-manager":59}],51:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i="salesforce";function o(e,t,n){var o,a=this,s=(t.wrapCustomerLog(i),{legacy:{ctxUrlBuilderName:"",separatedFeatureName:"legacySfVars",appEndpoint:""},lightning:{ctxUrlBuilderName:"LightningSfVarsUrlBuilder",separatedFeatureName:"lightningSfVars",appEndpoint:"/apex/vf_WalkMeSfVars"},community:{ctxUrlBuilderName:"CommunitySfVarsUrlBuilder",separatedFeatureName:"communitiesSfVars",appEndpoint:"/apex/WM4SF3__vf_WalkMeSfVars"}});a.GENERAL_SF_VARS_FEATURE="sfVars",a.BASIC_SF_VARS_FEATURE="basicSfVars";function u(){}function c(){if(l())return"legacy";if(d())return"lightning";if(f())return"community"}a.getCurrentSfEnvironment=function(){if(o)return o;return o=c()},a.getAppEndpointByEnvironment=function(e){return s[e]&&s[e].appEndpoint},a.getUrlBuilderByEnvironment=function(e){var t=s[e]&&s[e].ctxUrlBuilderName;return r().get(t)},a.to18CharId=function(e){if(null==e||18==e.length)return e;if(e=e.replace(/\"/g,""),15!=e.length)return null;for(var t="",n=0;n<3;n++){for(var r=0,i=0;i<5;i++){var o=e.charAt(5*n+i);"A"<=o&&"Z">=o&&(r+=1<<i)}t=25>=r?t+"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(r):t+"012345".charAt(r-26)}return e+t},a.handleNoSfVars=function(r,i,o){var a=p(),s=a?"sfVars failed to load (optional) - ":"sfVars failed to load (walkme removed) - ";t.error(void 0,s+r,o),a?i&&i():n.libSetTimeout(function(){e.removeWalkMe(r)},500)};function l(){var e=new RegExp(".*\\.salesforce\\.com.*"),t=new RegExp(".*\\.visual\\.force\\.com.*");return(e.test(window.location.hostname)||t.test(window.location.hostname))&&!d()}function d(){var e=new RegExp("/one/one\\.app.*");return e.test(window.location.pathname)}function f(){return!l()&&!d()&&window.UserContext}function p(){return!0}u.apply(null,arguments)}n.SfVarsUtils=o},{"wm-prelib-plugin-entry-manager":59}],52:[function(e,t,n){(function(t){!function(){function t(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t||e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}return t}()({1:[function(e,t,n){t.exports={sessionAttributes:function(e){return"/api/4.0/sessions/"+e+"/attributes"},init:"/api/4.0/recording/init",record:"/api/4.0/r",recordJSON:"/api/4.0/r/json",recordOurError:"/api/4.0/recording/our_error",logOurError:"/api/4.0/recording/log_our_error"}},{}],2:[function(e,t,n){t.exports={development:"//backoffice.docker.localhost",test:"//backoffice.docker.localhost",staging:"//bo-staging.getjaco.com",production:"//bo.getjaco.com"}},{}],3:[function(e,t,n){t.exports={development:"http://recorder-api.docker.localhost",test:"http://recorder-api.docker.localhost",staging:"https://rapi-staging.getjaco.com",production:"https://rapi.getjaco.com"}},{}],4:[function(e,t,n){t.exports={development:"http://recorder-client.docker.localhost",test:"http://recorder-client.docker.localhost",staging:"https://recorder-assets-staging.getjaco.com",production:"https://recorder-assets.getjaco.com"}},{}],5:[function(e,t,n){var r=e(26);if(u()&&navigator&&navigator.userAgent)try{if(window.localStorage&&l()){c();var i=e(108),o=e(109),a=window.JacoRecorder?window.JacoRecorder.q||window.JacoRecorder:[];window.JacoRecorder=new i(window,document,o),window.JacoRecorder.runQueuedMethods_(a,window.JacoRecorder)}}catch(s){r.info("Error initializing JacoRecorder instance\t",s)}else window.JacoRecorder={state:{recordingDisabled:!0}};function u(){return!!window.MutationObserver||!!Array.prototype.reduce}function c(){e(65).patch(),e(64).patch()}function l(){return!d()||d()&&!f()}function d(){return window!==window.top}function f(){try{return!!window.parent.JacoRecorder||!!window.parent.parent.JacoRecorder}catch(e){return!1}}},{108:108,109:109,26:26,64:64,65:65}],6:[function(e,t,n){var r=["\f","\n","\r","\t","\x0B"," "],i="0";function o(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}function a(e){var t=s(e).split(""),n=o(t);return u(e,n)}function s(e){var t=r.join(""),n=new RegExp("["+t+"]","g");return e.replace(n,"")}function u(e,t){var n=0;return e.split("").map(function(e){return r.indexOf(e)>-1?e:t[n++]}).join("")}n.censorString=function(e){if(e)return a(e);return""},n.censorInput=function(e,t){e=e||"";var n="";return n="number"==t?new Array(e.length+1).join(i):e.split(" ").map(function(e){return new Array(e.length+1).join("?")}).join(" ")}},{}],7:[function(e,t,n){var r="***";function i(e,t,n){if(!t)return e;var i=new RegExp(t,"g");return e.replace(i,n||r)}t.exports=i},{}],8:[function(e,t,n){var r="__jaco_should_censor__";function i(e,t){e[r]=t}function o(e){return e[r]}n.mark=i,n.isCensored=o},{}],9:[function(e,t,n){var r=e(8),i=e(31).includes,o="text",a=["range","color","button","submit","date","time","checkbox","radio","select-one","select-multiple"],s="password",u=["input","textarea"];function c(e,t){if(!l(t))return!1;if(!b(e))return f(e,t);var n=d(e);if(void 0!==n)return n;return p(e,t)||h(e,t)||g(e,t)||v(e,t)||f(e,t)}function l(e){return e.enabled&&(e.classNames.length>0||e.tags.length>0||e.ids.length>0)}function d(e){return r.isCensored(e)}function f(e,t){var n=e.parentNode;if(n){var i=c(n,t);return r.mark(n,i),i}return!1}function p(e,t){return e.tagName&&i(t.tags,e.tagName.toLowerCase())}function h(e,t){if(!e.tagName||!i(u,e.tagName.toLowerCase()))return!1;var n=(m(e,"type")||o).toLowerCase(),r=i(a,n),c=i(s,n),l=t.isCensorInputContents;return!r&&(c||l)}function g(e,t){var n=e.id||"";return n.length>0&&t.ids.some(function(e){return n===e})}function v(e,t){var n=t.classNames;return n&&_(e,n)}function m(e,t){return e.getAttribute?e.getAttribute(t):void 0}function _(e,t){return e.classList?t.some(function(t){return e.classList.contains(t)}):y(e).split(" ").some(function(e){return t.indexOf(e)>-1})}function y(e){var t;return t="string"==typeof e.className?e.className:e.getAttribute("class"),t||""}function b(e){return e.getAttribute}t.exports=c},{31:31,8:8}],10:[function(e,t,n){var r="jaco-integration-script",i="data-state";n.JACO_INTEGRATION_SCRIPT_IDENTIFIER=r,n.JACO_INTEGRATION_SCRIPT_DATA_ATTRIBUTE=i},{}],11:[function(e,t,n){t.exports.assertIsFunction=function(e){if("function"!=typeof e)throw new TypeError("NOT A FUNCTION")}},{}],12:[function(e,t,n){var r=e(11).assertIsFunction,i=e(24).isObject;function o(e,t,n){var o,a,s,u,c,l,d,f=0,p=!1,h=!0;if(r(e),t=t<0?0:t,n===!0){var g=!0;h=!1}else i(n)&&(g=n.leading,p="maxWait"in n&&Math.max(+n.maxWait||0,t),h="trailing"in n?n.trailing:h);function v(){l&&clearTimeout(l),a&&clearTimeout(a),a=l=d=void 0}function m(){var n=t-(Date.now()-u);if(n<=0||n>t){a&&clearTimeout(a);var r=d;a=l=d=void 0,r&&(f=Date.now(),s=e.apply(c,o),l||a||(o=c=null))}else l=setTimeout(m,n)}function _(){l&&clearTimeout(l),a=l=d=void 0,(h||p!==t)&&(f=Date.now(),s=e.apply(c,o),l||a||(o=c=null))}function y(){if(o=arguments,u=Date.now(),c=this,d=h&&(l||!g),p===!1)var n=g&&!l;else{a||g||(f=u);var r=p-(u-f),i=r<=0||r>p;i?(a&&(a=clearTimeout(a)),f=u,s=e.apply(c,o)):a||(a=setTimeout(_,r))}return i&&l?l=clearTimeout(l):l||t===p||(l=setTimeout(m,t)),n&&(i=!0,s=e.apply(c,o)),!i||l||a||(o=c=null),s}return y.cancel=v,y}t.exports.debounce=o},{11:11,24:24}],13:[function(e,t,n){function r(e){return!!e.MutationObserver}t.exports=r},{}],14:[function(e,t,n){var r=e(15).getElementSelector,i=e(7);function o(e){var t=e.className,n=t&&void 0!==t.baseVal;return n?t.baseVal:t}function a(e,t,n,a){var s,u=e.target,c=o(u),l="";u.childNodes.length>0&&3===u.childNodes[0].nodeType&&(l=u.childNodes[0].textContent),("INPUT"===u.tagName&&"button"===u.type||"reset"===u.type||"submit"===u.type)&&(l=u.value),l=t?"CENSORED":l;var d=r(u);return s=[e.which,e.clientX,e.clientY,e.screenX,e.screenY,e.pageX,e.pageY,n,u.id,u.tagName,u.href,l,c,d,t,i(location.href,a.urlRegex,a.urlReplaceText)]}t.exports.getClickEventData=a},{15:15,7:7}],15:[function(e,t,n){var r=e(25);function i(e){if(null===o(e))return"";var t="";e.id&&(t="#"+e.id);var n=e.getAttribute("class");return n&&(t+="."+n.split(" ").join(".")),i(o(e))+" "+e.tagName.toLowerCase()+t}function o(e){var t=e.parentElement;return!t&&r(e)&&(t=e.parentNode),t}t.exports.getElementSelector=i},{25:25}],16:[function(e,t,n){function r(e){return[e.clientX,e.clientY,e.screenX,e.screenY,e.pageX,e.pageY]}t.exports.getMousePositionData=r},{}],17:[function(e,t,n){var r=e(123).Serializer,i=[r.Action.ERROR_OUR],o=0;function a(e){return i.indexOf(e)>-1?o:o++}t.exports=function(e){return a(e)}},{123:123}],18:[function(e,t,n){var r=0;function i(){var e=window.performance,t=Math.round(1e3*(e.timing.navigationStart+e.now()));return t<=r&&(t=r+1),r=t,t}t.exports.getTimestamp=i},{}],19:[function(e,t,n){var r=e(15).getElementSelector,i=e(7);function o(e){var t=e.className,n=t&&void 0!==t.baseVal;return n?t.baseVal:t}function a(e){var t=o(e),n=r(e),i="";return e.childNodes.length>0&&3===e.childNodes[0].nodeType&&(i=e.childNodes[0].textContent),{targetId:e.id,targetClassName:t,targetTagName:e.tagName,targetText:i,elementSelector:n}}function s(e){var t=a(e.target);return{clientX:e.clientX,clientY:e.clientY,force:e.force,identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,radiusX:e.radiusX,radiusY:e.radiusY,rotationAngle:e.rotationAngle,screenX:e.screenX,screenY:e.screenY,targetId:t.targetId,targetClassName:t.targetClassName,targetTagName:t.targetTagName,targetText:t.targetText,elementSelector:t.elementSelector}}function u(e,t,n,r){var o,u=e.target,c=a(u),l=e.touches[0]||e.changedTouches[0],d=Array.prototype.slice.call(e.touches).map(s),f=Array.prototype.slice.call(e.changedTouches).map(s),p=t&&c.targetText?"CENSORED":c.targetText;return o=[e.which,d,f,l.clientX,l.clientY,l.screenX,l.screenY,l.pageX,l.pageY,n,c.targetId,c.targetTagName,e.target.href,p,c.targetClassName,c.elementSelector,t,i(location.href,r.urlRegex,r.urlReplaceText)]}t.exports.getTouchEventData=u},{15:15,7:7}],20:[function(e,t,n){var r=e(31),i=e(123).Serializer.Action,o=[i.MOUSE_CLICK,i.INPUT,i.URL_CHANGED,i.CUSTOM_EVENT,i.ERROR,i.ERROR_OUR];function a(){return r.values(i).filter(function(e){return!r.includes(o,e)})}t.exports=a},{123:123,31:31}],21:[function(e,t,n){t.exports.getGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}},{}],22:[function(e,t,n){var r={}.hasOwnProperty;function i(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e}t.exports.extend=i},{}],23:[function(e,t,n){function r(e){return"[object Array]"===Object.prototype.toString.call(e)}t.exports=r},{}],24:[function(e,t,n){function r(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}t.exports.isObject=r},{}],25:[function(e,t,n){function r(e){return null!==e.ownerSVGElement&&void 0!==e.ownerSVGElement||e.nodeName&&"svg"===e.nodeName.toLowerCase()}t.exports=r},{}],26:[function(e,t,n){var r={log:function(){i("log",arguments)},info:function(){i("info",arguments)},error:function(){i("error",arguments)}};function i(e,t){var n=Array().slice.call(t),r=Function.prototype.bind.call(console[e],console);r.apply(console,n)}t.exports=r},{}],27:[function(e,t,n){function r(e){return function(){return e}}t.exports=r},{}],28:[function(e,t,n){function r(e){return 0===e.length}t.exports=r},{}],29:[function(e,t,n){function r(e){return Array.prototype.concat.apply([],e)}t.exports=r},{}],30:[function(e,t,n){function r(e,t){return e.indexOf(t)>-1}t.exports=r},{}],31:[function(e,t,n){t.exports={empty:e(28),flatten:e(29),includes:e(30),keys:e(33),random:e(34),uniq:e(35),values:e(36),intersection:e(32),constant:e(27)}},{27:27,28:28,29:29,30:30,32:32,33:33,34:34,35:35,36:36}],32:[function(e,t,n){var r=e(30);function i(e,t){return e.filter(function(e){return r(t,e)})}t.exports=i},{30:30}],33:[function(e,t,n){var r=e(24).isObject;function i(e){return r(e)?Object.keys(e):[]}t.exports=i},{24:24}],34:[function(e,t,n){function r(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}t.exports=r},{}],35:[function(e,t,n){function r(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}t.exports=r},{}],36:[function(e,t,n){var r=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable);function i(e){for(var t=Object.keys(e).filter(function(t){return r(e,t)}),n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=e[t[o]];return i}t.exports=i},{}],37:[function(e,t,n){function r(e,t){var n,r="NOT A FUNCTION";if("function"!=typeof t){if("function"!=typeof e)throw new TypeError(r);var i=e;e=t,t=i}return function(){return--e>0?n=t.apply(this,arguments):t=null,n}}function i(e){return r(e,2)}t.exports.once=i},{}],38:[function(e,t,n){function r(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat.apply(t,arguments))}}t.exports=r},{}],39:[function(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:window;t.exports=r},{}],40:[function(e,t,n){var r=e(2).production;function i(e){var t="https";return t+":"+r+"/backoffice/sessions/"+e}n.get=i},{2:2}],41:[function(e,t,n){var r=e(11).assertIsFunction,i=e(24).isObject,o=e(12).debounce,a={leading:!1,maxWait:0,trailing:!1};function s(e,t,n){var s=!0,u=!0;return r(e),n===!1?s=!1:i(n)&&(s="leading"in n?!!n.leading:s,u="trailing"in n?!!n.trailing:u),a.leading=s,a.maxWait=+t,a.trailing=u,o(e,t,a)}t.exports.throttle=s},{11:11,12:12,24:24}],42:[function(e,t,n){var r=e(3).production,i=e(39),o="";function a(e){return(new Date).getTime()-e}function s(e,t,n){var r=a(t),i=new Error(e);return i.timeElapsed=r,i.requestBody=n,i}function u(e,t,n){var r,i=new XMLHttpRequest,o=(new Date).getTime();return i.open(e,t,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.onload=function(){d(i,n)},i.onerror=function(e){var i="network error for path: "+t,a=s(i,o,r);f(t,e,a,n)},i.sendRequest=function(e){r=e,this.send(e)},i}function c(e,t,n){var r=new XDomainRequest,i=(new Date).getTime();return t=t.replace("http:","").replace("https:",""),r.open(e,t),r.onprogress=function(){},r.onload=function(){r.status=200,d(r,n)},r.onerror=function(e){var r="network error for path: "+t,o=s(r,i);f(t,e,o,n)},r.sendRequest=function(e){setTimeout(function(){r.send(e)},0)},r}function l(e,t,n){return i.XDomainRequest?c(e,t,n):u(e,t,n)}function d(e,t){var n=e.status;return 200===e.status?"Unauthorized request"===e.responseText?t({status:403}):t(null,e.responseText):t(429===n?{status:429}:e)}function f(e,t,n,r){return t.preventDefault(),r(n)}function p(e,t,n,i){i=i||_;var a=o?o:r,s=l(e,a+t,i);return s.sendRequest(n)}function h(e,t){return p("GET",e,null,t)}function g(e,t,n){p("POST",e,t,n)}function v(e,t){if(navigator&&navigator.sendBeacon){var n=o?o:r;navigator.sendBeacon(n+e,t)}}function m(e){e&&(o=e)}function _(){}t.exports={getRequest:h,postRequest:g,beaconRequest:v,updateRapiUrl:m}},{3:3,39:39}],43:[function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(o),u=0,c=s.length;u<c;u++){var l=s[u],d=o[l].exports;if(d===e){n=l;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var f={},u=0,c=s.length;u<c;u++){var l=s[u];f[l]=l}i[n]=["function(require,module,exports){"+e+"(self); }",f]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),h={};h[n]=n,i[p]=["function(require,module,exports){var f = require("+a(n)+");(f.default ? f.default : f)(self);}",h];var g={};v(p);function v(e){g[e]=!0;for(var t in i[e][1]){var n=i[e][1][t];g[n]||v(n)}}var m="("+r+")({"+Object.keys(g).map(function(e){return a(e)+":["+i[e][0]+","+a(i[e][1])+"]"}).join(",")+"},{},["+a(p)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([m],{type:"text/javascript"});if(t&&t.bare)return y;var b=_.createObjectURL(y),w=new Worker(b);return w.objectURL=b,w}},{}],44:[function(e,t,n){var r=e(49),i=e(50),o=e(47),a=e(61),s=e(51),u=e(60),c=e(53),l=e(55),d=e(59),f=e(62),p=e(58),h=e(52),g=e(54),v=e(48),m=e(25),_={};_[e(122).Serializer.DOMNodeType.DOCUMENT_NODE]=r,_[e(122).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE]=v,_[e(122).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE]=i,_[e(122).Serializer.DOMNodeType.COMMENT_NODE]=o,_[e(122).Serializer.DOMNodeType.TEXT_NODE]=a,t.exports=function(e){var t;return t=_[e.nodeType]?_[e.nodeType]:m(e)?u:y("img",e)?c:y("link",e)?l:y("style",e)?d:y("video",e)?f:y("source",e)?p:y("iframe",e)?h:y("input",e)||y("select",e)?g:s};function y(e,t){return t.tagName.toLowerCase()===e}},{122:122,25:25,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,58:58,59:59,60:60,61:61,62:62}],45:[function(e,t,n){var r="__jaco_node_map_id__",i=1;function o(){}o.prototype.getOrSet=function(e){return o.hasId(e)||o.set(e),o.get(e)},o.set=function(e){e[r]=i++},o.get=function(e){if(!e)return null;return e[r]},o.hasId=function(e){return void 0!=e[r]},o.unset=function(e){e[r]=void 0},t.exports=o},{}],46:[function(e,t,n){var r=e(45);function i(e){e=e||{},this.nodes={},this.values={},this.nodeId=new r,this.onNodeAdd=e.onNodeAdd,this.onNodeRemove=e.onNodeRemove}i.prototype.set=function(e,t,n){var r=this.nodeId.getOrSet(e);return this.nodes[r]=e,this.values[r]=t,n&&o(this.onNodeAdd,e),r},i.prototype.get=function(e){var t=this.nodeId.getOrSet(e);return this.values[t]},i.prototype.getById=function(e){return this.values[e]},i.prototype.has=function(e){return this.nodeId.getOrSet(e)in this.nodes},i.prototype.remove=function(e,t){t&&o(this.onNodeRemove,e);var n=this.nodeId.getOrSet(e);this.nodes[n]=void 0,this.values[n]=void 0},i.prototype.keys=function(){for(var e=[],t=this,n=Object.keys(this.nodes),r=0,i=n.length;r<i;r++){var o=n[r],a=t.nodes[o];a&&e.push(a)}return e},i.prototype.clear=function(){this.nodes=[],this.values=[],this.nodeId=new r};function o(e){var t=Array.prototype.slice.call(arguments,1);setTimeout(function(){e.apply(null,t)},0)}t.exports=i},{45:45}],47:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.COMMENT_NODE,o._getNodeData=function(e){return[""]},t.exports=o},{122:122,22:22,56:56}],48:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE,t.exports=o},{122:122,22:22,56:56}],49:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.DOCUMENT_NODE,o._getNodeData=function(e){return[e.URL,e.alinkColor,e.baseURI,e.bgColor,e.characterSet,e.charset,e.compatMode,e.contentType,"",e.dir,e.title,e.readyState]},t.exports=o},{122:122,22:22,56:56}],50:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE,o._getNodeData=function(e){return[e.publicId,e.systemId,e.name]},t.exports=o},{122:122,22:22,56:56}],51:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.ELEMENT_NODE,t.exports=o},{122:122,22:22,56:56}],52:[function(e,t,n){var r=e(56),i=e(22).extend,o=e(119).getIFrameId,a={};i(a,r),a.type=e(122).Serializer.DOMNodeType.IFRAME_NODE,a._getNodeData=function(e,t,n){var r;if(n){var i=n.get(e);if(i){var a=n.getById(i.nodeId);a&&a.__JACO_IFRAME_ID&&(r=a.__JACO_IFRAME_ID)}}else r=o(),e.__JACO_IFRAME_ID=r;return[r]},t.exports=a},{119:119,122:122,22:22,56:56}],53:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.IMG_NODE,o._filterAttribute=function(e,t,n){return!(n&&("src"===e.name||"srcset"===e.name))},t.exports=o},{122:122,22:22,56:56}],54:[function(e,t,n){var r=e(56),i=e(22).extend,o=e(6).censorInput,a={};i(a,r),a.type=e(122).Serializer.DOMNodeType.INPUT_NODE,a._getNodeData=function(e,t){var n=[],r=void 0;switch(e.type.toLowerCase()){case"checkbox":case"radio":n.push([e.checked,e.indeterminate]);break;case"select-one":case"select-multiple":n.push([e.selectedIndex]);break;case"hidden":"__viewstate"===(e.name||"").toLowerCase()&&(r="?"),n.push([]);break;default:n.push([])}return n.push(r||(t?o(e.value,e.type):e.value)),n.push(e.disabled),n.push(e.readOnly),n},t.exports=a},{122:122,22:22,56:56,6:6}],55:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.LINK_NODE,t.exports=o},{122:122,22:22,56:56}],56:[function(e,t,n){var r=e(122).Serializer,i=e(129),o=e(6).censorInput,a=1e4;function s(e,t,n){var i=e.createString(t),o=e.createString(n);return r.KeyValue.startKeyValue(e),r.KeyValue.addKey(e,i),r.KeyValue.addValue(e,o),r.KeyValue.endKeyValue(e)}var u=function(e){return"http://www.w3.org/1999/xhtml"===e.namespaceURI?"__":e.namespaceURI||""},c={};c.serialize=function(e,t,n,o,a,s,c){var l=e.createString(t.tagName||""),d=e.createString(u(t)),f=r.DOMNodeData.createAttributesVector(e,this._serializeAttributes(e,t,s)),p=i(e,this._getNodeData(t,s,c)),h=r.DOMNodeData.createExtraDataVector(e,p),g=r.Vec3.createVec3(e,t.scrollLeft||0,t.scrollTop||0,0);return r.DOMNodeData.startDOMNodeData(e),r.DOMNodeData.addScrollPosition(e,g),r.DOMNodeData.addAttributes(e,f),r.DOMNodeData.addNodeType(e,this.type||t.nodeType),r.DOMNodeData.addTagName(e,l),r.DOMNodeData.addNs(e,d),r.DOMNodeData.addExtraData(e,h),r.DOMNodeData.addIsCensored(e,s),null!==o&&r.DOMNodeData.addParentNodeId(e,o),null!==n&&r.DOMNodeData.addPreviousSiblingId(e,n),r.DOMNodeData.addNodeId(e,a),r.DOMNodeData.endDOMNodeData(e)},c._serializeAttributes=function(e,t,n){var r=t.attributes,i=[];if(!r)return i;for(var u=0,c=r.length;u<c;u++){var l=r[u];if(l&&l.specified&&this._filterAttribute(l,t,n)){var d=l.value;"src"===l.name?d=t.currentSrc||t.src:"href"===l.name&&"A"!==t.tagName?d=t.href:"value"===l.name&&n&&d?d=o(d,t.getAttribute("type")):"poster"===l.name?d=t.poster:"srcset"===l.name&&(i.push(s(e,"nodeWidth",t.width||"")),i.push(s(e,"nodeHeight",t.height||"")),i.push(s(e,"pixelRatio",window.devicePixelRatio+"")),i.push(s(e,"hasSrcset","true")),d=""),d=d||"",d.length>=a&&(d="");var f=s(e,l.name,d);i.push(f)}}return n&&(r.width||t.style.width||i.push(s(e,"width",t.clientWidth+"")),r.height||t.style.height||i.push(s(e,"height",t.clientHeight+""))),i},c._filterAttribute=function(e,t,n){return!0},c._getNodeData=function(e,t){return[]},t.exports=c},{122:122,129:129,6:6}],57:[function(e,t,n){var r=e(122).Serializer,i=e(9),o=e(8),a=e(44);function s(e,t,n,r,i,o){return u(e,t,n,r,i,o,!0)}function u(e,t,n,s,c,l,d){var f=i(t,l),p="IFRAME"===t.tagName&&!f,h=c.set(t,t,p);o.mark(t,f);var g=a(t).serialize(e,t,n,s,h,f),v=[];if(d)for(var m=t.firstChild;m;){var _=u(e,m,null,null,c,l,d);v.push(_),m=m.nextSibling}var y=r.DOMNode.createChildrenVector(e,v);return r.DOMNode.startDOMNode(e),r.DOMNode.addData(e,g),r.DOMNode.addChildren(e,y),r.DOMNode.endDOMNode(e)}function c(e,t,n,i,o,s,u){var c=a(t).serialize(e,t,i,o,n,s,u),l=r.DOMNode.createChildrenVector(e,[]);return r.DOMNode.startDOMNode(e),r.DOMNode.addData(e,c),r.DOMNode.addChildren(e,l),r.DOMNode.endDOMNode(e)}n.serializeSubTree=s,n.serializeNodeWithCensorship=u,n.serializeNode=c},{122:122,44:44,8:8,9:9}],58:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.SOURCE_NODE,t.exports=o},{122:122,22:22,56:56}],59:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.STYLE_NODE,t.exports=o},{122:122,22:22,56:56}],60:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.SVG_NODE,o._getNodeData=function(e){return[e.namespaceURI]},t.exports=o},{122:122,22:22,56:56}],61:[function(e,t,n){var r=e(56),i=e(6),o=e(22).extend,a={};o(a,r),a.type=e(122).Serializer.DOMNodeType.TEXT_NODE,a._getNodeData=function(e,t,n){var r,o="",a=e.parentNode;if(!a&&n){var u=n.get(e);u&&u.parentNodeId&&(a=n.getById(u.parentNodeId))}return a&&"script"!==a.nodeName.toLowerCase()&&(o=e.textContent),r=t?s(a)?i.censorInput(o):i.censorString(o):o,[r]};function s(e){return e&&e.tagName&&"textarea"===e.tagName.toLowerCase()}t.exports=a},{122:122,22:22,56:56,6:6}],62:[function(e,t,n){var r=e(56),i=e(22).extend,o={};i(o,r),o.type=e(122).Serializer.DOMNodeType.VIDEO_NODE,o._getNodeData=function(e){return[e.currentSrc||e.src,e.currentTime]},t.exports=o},{122:122,22:22,56:56}],63:[function(e,t,n){function r(){this.pairs=[]}r.prototype.set=function(e,t){var n=this._getIndex(e);if(n>=0)this.pairs[n][1]=t;else{var r=[e,t];this.pairs.push(r)}},r.prototype.get=function(e){var t=this._getIndex(e);return t>=0?this.pairs[t][1]:void 0},r.prototype.has=function(e){return this._getIndex(e)>-1},r.prototype._getIndex=function(e){for(var t in this.pairs){var n=this.pairs[t];if(n[0]===e)return t}return-1},t.exports=function(e){if(e&&e.Map)return e.Map;return r}},{}],64:[function(e,t,n){var r=e(39);function i(){var e=Math.pow(10,10),t=1;if("performance"in r==!1&&(r.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in r.performance==0){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),r.performance.now=function(){var r=t++%e/e;return Date.now()-n+r}}}t.exports={patch:i}},{39:39}],65:[function(e,t,n){"use strict";var r=e(39);function i(){!function(e){var t=void 0,n=1e5;function r(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===e?"null":"object";
}}function i(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function o(e){return"function"==typeof e}function a(e){if(null===e||e===t)throw TypeError();return Object(e)}function s(e){return e>>0}function u(e){return e>>>0}var c=Math.LN2,l=Math.abs,d=Math.floor,f=Math.log,p=Math.max,h=Math.min,g=Math.pow,v=Math.round;!function(){var e=Object.defineProperty,t=!function(){try{return Object.defineProperty({},"x",{})}catch(e){return!1}}();e&&!t||(Object.defineProperty=function(t,n,r){if(e)try{return e(t,n,r)}catch(i){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,n,r.set),"value"in r&&(t[n]=r.value),t})}();function m(t){if("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in e)return;if(t.length>n)throw RangeError("Array too large for polyfill");function r(e){Object.defineProperty(t,e,{get:function(){return t._getter(e)},set:function(n){t._setter(e,n)},enumerable:!0,configurable:!1})}var i;for(i=0;i<t.length;i+=1)r(i)}function _(e,t){var n=32-t;return e<<n>>n}function y(e,t){var n=32-t;return e<<n>>>n}function b(e){return[255&e]}function w(e){return _(e[0],8)}function E(e){return[255&e]}function S(e){return y(e[0],8)}function O(e){return e=v(Number(e)),[e<0?0:e>255?255:255&e]}function C(e){return[255&e,e>>8&255]}function N(e){return _(e[1]<<8|e[0],16)}function T(e){return[255&e,e>>8&255]}function D(e){return y(e[1]<<8|e[0],16)}function A(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function I(e){return _(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function R(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function x(e){return y(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function L(e,t,n){var r=(1<<t-1)-1;function i(e){var t=d(e),n=e-t;if(n<.5)return t;if(n>.5)return t+1;return t%2?t+1:t}var o,a,s;if(e!==e)a=(1<<t)-1,s=g(2,n-1),o=0;else if(e===1/0||e===-(1/0))a=(1<<t)-1,s=0,o=e<0?1:0;else if(0===e)a=0,s=0,o=1/e===-(1/0)?1:0;else if(o=e<0,e=l(e),e>=g(2,1-r)){a=h(d(f(e)/c),1023);var u=e/g(2,a);u<1&&(a-=1,u*=2),u>=2&&(a+=1,u/=2);var p=g(2,n);s=i(u*p)-p,a+=r,s/p>=1&&(a+=1,s=0),a>2*r&&(a=(1<<t)-1,s=0)}else a=0,s=i(e/g(2,1-r-n));var v,m=[];for(v=n;v;v-=1)m.push(s%2?1:0),s=d(s/2);for(v=t;v;v-=1)m.push(a%2?1:0),a=d(a/2);m.push(o?1:0),m.reverse();for(var _=m.join(""),y=[];_.length;)y.unshift(parseInt(_.substring(0,8),2)),_=_.substring(8);return y}function M(e,t,n){var r,i,o,a,s,u,c,l,d=[];for(r=0;r<e.length;++r)for(o=e[r],i=8;i;i-=1)d.push(o%2?1:0),o>>=1;return d.reverse(),a=d.join(""),s=(1<<t-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,c=parseInt(a.substring(1,1+t),2),l=parseInt(a.substring(1+t),2),c===(1<<t)-1?0!==l?NaN:u*(1/0):c>0?u*g(2,c-s)*(1+l/g(2,n)):0!==l?u*g(2,-(s-1))*(l/g(2,n)):u<0?-0:0}function P(e){return M(e,11,52)}function U(e){return L(e,11,52)}function V(e){return M(e,8,23)}function k(e){return L(e,8,23)}!function(){function n(e){if(e=s(e),e<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)}),n.prototype.slice=function(e,r){var i=new _(this);r==t&&(r=i.length);for(var o=new n(r-e),a=new _(o),s=0;s<a.length;s++)a[s]=i[s+e];return o};for(var r=0;r<e;r+=1)this._bytes[r]=0}e.ArrayBuffer=e.ArrayBuffer||n;function c(){if(!arguments.length||"object"!=typeof arguments[0])return function(e){if(e=s(e),e<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new n(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&arguments[0]instanceof c)return function(e){if(this.constructor!==e.constructor)throw TypeError();var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new n(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1)this._setter(r,e._getter(r))}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&!(arguments[0]instanceof c)&&!(arguments[0]instanceof n||"ArrayBuffer"===i(arguments[0])))return function(e){var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new n(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1){var i=e[r];this._setter(r,Number(i))}}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&(arguments[0]instanceof n||"ArrayBuffer"===i(arguments[0])))return function(e,n,r){if(n=u(n),n>e.byteLength)throw RangeError("byteOffset out of range");if(n%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===t){var i=e.byteLength-n;if(i%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=i/this.BYTES_PER_ELEMENT}else r=u(r),i=r*this.BYTES_PER_ELEMENT;if(n+i>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:i}),Object.defineProperty(this,"byteOffset",{value:n}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}Object.defineProperty(c,"from",{value:function(e){return new this(e)}}),Object.defineProperty(c,"of",{value:function(){return new this(arguments)}});var f={};c.prototype=f,Object.defineProperty(c.prototype,"_getter",{value:function(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(e=u(e),e>=this.length)return t;var n,r,i=[];for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)i.push(this.buffer._bytes[r]);return this._unpack(i)}}),Object.defineProperty(c.prototype,"get",{value:c.prototype._getter}),Object.defineProperty(c.prototype,"_setter",{value:function(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(e=u(e),e>=this.length)return;var n,r,i=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}),Object.defineProperty(c.prototype,"constructor",{value:c}),Object.defineProperty(c.prototype,"copyWithin",{value:function(e,n){var r=arguments[2],i=a(this),o=i.length,c=u(o);c=p(c,0);var l,d=s(e);l=d<0?p(c+d,0):h(d,c);var f,g=s(n);f=g<0?p(c+g,0):h(g,c);var v;v=r===t?c:s(r);var m;m=v<0?p(c+v,0):h(v,c);var _,y=h(m-f,c-l);for(f<l&&l<f+y?(_=-1,f=f+y-1,l=l+y-1):_=1;y>0;)i._setter(l,i._getter(f)),f+=_,l+=_,y-=1;return i}}),Object.defineProperty(c.prototype,"every",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();for(var i=arguments[1],a=0;a<r;a++)if(!e.call(i,n._getter(a),a,n))return!1;return!0}}),Object.defineProperty(c.prototype,"fill",{value:function(e){var n=arguments[1],r=arguments[2],i=a(this),o=i.length,c=u(o);c=p(c,0);var l,d=s(n);l=d<0?p(c+d,0):h(d,c);var f;f=r===t?c:s(r);var g;for(g=f<0?p(c+f,0):h(f,c);l<g;)i._setter(l,e),l+=1;return i}}),Object.defineProperty(c.prototype,"filter",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();for(var i=[],a=arguments[1],s=0;s<r;s++){var c=n._getter(s);e.call(a,c,s,n)&&i.push(c)}return new this.constructor(i)}}),Object.defineProperty(c.prototype,"find",{value:function(e){var n=a(this),r=n.length,i=u(r);if(!o(e))throw TypeError();for(var s=arguments.length>1?arguments[1]:t,c=0;c<i;){var l=n._getter(c),d=e.call(s,l,c,n);if(d)return l;++c}return t}}),Object.defineProperty(c.prototype,"findIndex",{value:function(e){var n=a(this),r=n.length,i=u(r);if(!o(e))throw TypeError();for(var s=arguments.length>1?arguments[1]:t,c=0;c<i;){var l=n._getter(c),d=e.call(s,l,c,n);if(d)return c;++c}return-1}}),Object.defineProperty(c.prototype,"forEach",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();for(var i=arguments[1],a=0;a<r;a++)e.call(i,n._getter(a),a,n)}}),Object.defineProperty(c.prototype,"indexOf",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(0===r)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*d(l(i)))),i>=r)return-1;for(var o=i>=0?i:p(r-l(i),0);o<r;o++)if(n._getter(o)===e)return o;return-1}}),Object.defineProperty(c.prototype,"join",{value:function(e){if(this===t||null===this)throw TypeError();for(var n=Object(this),r=u(n.length),i=Array(r),o=0;o<r;++o)i[o]=n._getter(o);return i.join(e===t?",":e)}}),Object.defineProperty(c.prototype,"lastIndexOf",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(0===r)return-1;var i=r;arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*d(l(i))));for(var o=i>=0?h(i,r-1):r-l(i);o>=0;o--)if(n._getter(o)===e)return o;return-1}}),Object.defineProperty(c.prototype,"map",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();var i=[];i.length=r;for(var a=arguments[1],s=0;s<r;s++)i[s]=e.call(a,n._getter(s),s,n);return new this.constructor(i)}}),Object.defineProperty(c.prototype,"reduce",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var i,a=0;for(i=arguments.length>=2?arguments[1]:n._getter(a++);a<r;)i=e.call(t,i,n._getter(a),a,n),a++;return i}}),Object.defineProperty(c.prototype,"reduceRight",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var i,a=r-1;for(i=arguments.length>=2?arguments[1]:n._getter(a--);a>=0;)i=e.call(t,i,n._getter(a),a,n),a--;return i}}),Object.defineProperty(c.prototype,"reverse",{value:function(){if(this===t||null===this)throw TypeError();for(var e=Object(this),n=u(e.length),r=d(n/2),i=0,o=n-1;i<r;++i,--o){var a=e._getter(i);e._setter(i,e._getter(o)),e._setter(o,a)}return e}}),Object.defineProperty(c.prototype,"set",{value:function(){if(arguments.length<1)throw SyntaxError("Not enough arguments");var e,t,n,r,i,o,a,s,c,l;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(e=arguments[0],n=u(arguments[1]),n+e.length>this.length)throw RangeError("Offset plus length of array is out of range");if(s=this.byteOffset+n*this.BYTES_PER_ELEMENT,c=e.length*this.BYTES_PER_ELEMENT,e.buffer===this.buffer){for(l=[],i=0,o=e.byteOffset;i<c;i+=1,o+=1)l[i]=e.buffer._bytes[o];for(i=0,a=s;i<c;i+=1,a+=1)this.buffer._bytes[a]=l[i]}else for(i=0,o=e.byteOffset,a=s;i<c;i+=1,o+=1,a+=1)this.buffer._bytes[a]=e.buffer._bytes[o]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(t=arguments[0],r=u(t.length),n=u(arguments[1]),n+r>this.length)throw RangeError("Offset plus length of array is out of range");for(i=0;i<r;i+=1)o=t[i],this._setter(n+i,Number(o))}}}),Object.defineProperty(c.prototype,"slice",{value:function(e,n){for(var r=a(this),i=r.length,o=u(i),c=s(e),l=c<0?p(o+c,0):h(c,o),d=n===t?o:s(n),f=d<0?p(o+d,0):h(d,o),g=f-l,v=r.constructor,m=new v(g),_=0;l<f;){var y=r._getter(l);m._setter(_,y),++l,++_}return m}}),Object.defineProperty(c.prototype,"some",{value:function(e){if(this===t||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(e))throw TypeError();for(var i=arguments[1],a=0;a<r;a++)if(e.call(i,n._getter(a),a,n))return!0;return!1}}),Object.defineProperty(c.prototype,"sort",{value:function(e){if(this===t||null===this)throw TypeError();for(var n=Object(this),r=u(n.length),i=Array(r),o=0;o<r;++o)i[o]=n._getter(o);function a(n,r){if(n!==n&&r!==r)return 0;if(n!==n)return 1;if(r!==r)return-1;if(e!==t)return e(n,r);if(n<r)return-1;if(n>r)return 1;return 0}for(i.sort(a),o=0;o<r;++o)n._setter(o,i[o]);return n}}),Object.defineProperty(c.prototype,"subarray",{value:function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=s(e),t=s(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length),t=n(t,0,this.length);var r=t-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)}});function g(e,t,n){var r=function(){Object.defineProperty(this,"constructor",{value:r}),c.apply(this,arguments),m(this)};"__proto__"in r?r.__proto__=c:(r.from=c.from,r.of=c.of),r.BYTES_PER_ELEMENT=e;var i=function(){};return i.prototype=f,r.prototype=new i,Object.defineProperty(r.prototype,"BYTES_PER_ELEMENT",{value:e}),Object.defineProperty(r.prototype,"_pack",{value:t}),Object.defineProperty(r.prototype,"_unpack",{value:n}),r}var v=g(1,b,w),_=g(1,E,S),y=g(1,O,S),L=g(2,C,N),M=g(2,T,D),j=g(4,A,I),F=g(4,R,x),B=g(4,k,V),W=g(8,U,P);e.Int8Array=e.Int8Array||v,e.Uint8Array=e.Uint8Array||_,e.Uint8ClampedArray=e.Uint8ClampedArray||y,e.Int16Array=e.Int16Array||L,e.Uint16Array=e.Uint16Array||M,e.Int32Array=e.Int32Array||j,e.Uint32Array=e.Uint32Array||F,e.Float32Array=e.Float32Array||B,e.Float64Array=e.Float64Array||W}(),function(){function n(e,t){return o(e.get)?e.get(t):e[t]}var r=function(){var e=new Uint16Array([4660]),t=new Uint8Array(e.buffer);return 18===n(t,0)}();function a(e,n,r){if(!(e instanceof ArrayBuffer||"ArrayBuffer"===i(e)))throw TypeError();if(n=u(n),n>e.byteLength)throw RangeError("byteOffset out of range");if(r=r===t?e.byteLength-n:u(r),n+r>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:n})}function s(e){return function(t,i){if(t=u(t),t+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");t+=this.byteOffset;for(var o=new Uint8Array(this.buffer,t,e.BYTES_PER_ELEMENT),a=[],s=0;s<e.BYTES_PER_ELEMENT;s+=1)a.push(n(o,s));return Boolean(i)===Boolean(r)&&a.reverse(),n(new e(new Uint8Array(a).buffer),0)}}Object.defineProperty(a.prototype,"getUint8",{value:s(Uint8Array)}),Object.defineProperty(a.prototype,"getInt8",{value:s(Int8Array)}),Object.defineProperty(a.prototype,"getUint16",{value:s(Uint16Array)}),Object.defineProperty(a.prototype,"getInt16",{value:s(Int16Array)}),Object.defineProperty(a.prototype,"getUint32",{value:s(Uint32Array)}),Object.defineProperty(a.prototype,"getInt32",{value:s(Int32Array)}),Object.defineProperty(a.prototype,"getFloat32",{value:s(Float32Array)}),Object.defineProperty(a.prototype,"getFloat64",{value:s(Float64Array)});function c(e){return function(t,i,o){if(t=u(t),t+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var a,s,c=new e([i]),l=new Uint8Array(c.buffer),d=[];for(a=0;a<e.BYTES_PER_ELEMENT;a+=1)d.push(n(l,a));Boolean(o)===Boolean(r)&&d.reverse(),s=new Uint8Array(this.buffer,t,e.BYTES_PER_ELEMENT),s.set(d)}}Object.defineProperty(a.prototype,"setUint8",{value:c(Uint8Array)}),Object.defineProperty(a.prototype,"setInt8",{value:c(Int8Array)}),Object.defineProperty(a.prototype,"setUint16",{value:c(Uint16Array)}),Object.defineProperty(a.prototype,"setInt16",{value:c(Int16Array)}),Object.defineProperty(a.prototype,"setUint32",{value:c(Uint32Array)}),Object.defineProperty(a.prototype,"setInt32",{value:c(Int32Array)}),Object.defineProperty(a.prototype,"setFloat32",{value:c(Float32Array)}),Object.defineProperty(a.prototype,"setFloat64",{value:c(Float64Array)}),e.DataView=e.DataView||a}()}(r)}t.exports={patch:i}},{39:39}],66:[function(e,t,n){"use strict";var r=e(76),i={sendMessage:r};function o(e,t){return function(n){a(n,e,t)}}function a(e,t,n){t.postMessage({error:e,messageId:n})}function s(){self.addEventListener("message",function(e){var t=e.data.messageId,n=e.data.params.concat([o(self,t)]),r=i[e.data.command];r&&r.apply(null,n)})}t.exports=s},{76:76}],67:[function(e,t,n){var r="jaco_uid",i="jaco_referer",o="jaco_provided_id",a="/",s="_pub";function u(){var e=new Date;return e.setFullYear(e.getFullYear()+1),e.toUTCString()}function c(e,t){var n=l(e,t);return n||(n=l(e,t+s)),n}function l(e,t){for(var n,r,i=0,o=1,a={},s=e.split(";"),u=0,c=s.length;u<c;u++)if(r=s[u],n=r.replace(/^\s+|\s+$/g,"").split("="),""!==n[o])try{a[n[i]]=decodeURIComponent(n[o])}catch(l){a[n[i]]=n[o]}return a[t]}function d(e,t,n,r,i){var o=e+"="+encodeURIComponent(t),a=[];if(a.push(o),null!==n){var s="domain=."+encodeURIComponent(n);a.push(s)}return a.push("expires="+r),a.push("path="+i),a.join(";")}function f(e,t){var n;if(e&&"all"!==e)n=e;else if(t){var r=document.location.hostname.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i);n=r?r[0]:null}else n=document.location.hostname;return n}function p(){}p._saveCookie=function(e,t,n){var r,i=u();return this.domain=f(n,!0),document.cookie=d(e,t,this.domain,i,a),r=l(document.cookie,e),r||(e+=s,this.domain=f(n,!1),document.cookie=d(e,t,this.domain,i,a),r=l(document.cookie,e)),r||""},p._removeCookie=function(e){var t=u();l(document.cookie,e)?document.cookie=d(e,"",this.domain,t,a):(e+=s,l(document.cookie,e)&&(document.cookie=d(e,"",this.domain,t,a)))},p.getUid=function(){return c(document.cookie,r)},p.getReferer=function(){return c(document.cookie,i)},p.getProvidedId=function(e){return c(document.cookie,h(e))},p.setUid=function(e,t){return this._saveCookie(r,e,t)},p.setProvidedId=function(e,t,n){return this._saveCookie(h(t),e,n)},p.removeUid=function(){this._removeCookie(r)},p.removeReferer=function(){this._removeCookie(i)},p.removeProvidedId=function(e){this._removeCookie(h(e))},p.getValueFromCookie=c;function h(e){return o+"_"+e}t.exports=p},{}],68:[function(e,t,n){var r=e(123).Serializer,i=e(125),o=e(121),a=e(18).getTimestamp,s=e(69),u=e(31);t.exports=function(e,t,n){var c=[t.filename,t.message,t.lineno,t.colno,t.timeStamp,t.name,t.stack,JSON.stringify(n),t.status,t.statusText,t.responseText,t.response,t.timeElapsed,t.requestBody];t.error&&(c[1]=t.error.message||t.message,c[5]=t.error.name||t.name,c[6]=t.error.stack||t.stack),c=c.map(function(e){return e?e.toString():""});var l=s(c,r.DataType.StringList,!1,a(),r.Action.ERROR_OUR),d=i.build(l,e.mainFrame.windowId),f={error:JSON.stringify(u.values(d.asUint8Array())),apiToken:e.apiToken,state:{apiToken:e.apiToken,uid:e.uid,session:e.session,isRecording:e.isRecording,isInitialized:e.isInitialized,clientVersion:o,experiments:e.experiments}};return JSON.stringify(f)}},{121:121,123:123,125:125,18:18,31:31,69:69}],69:[function(e,t,n){var r=e(17);t.exports=function(e,t,n,i,o){return{data:e,dataType:t,isCensored:n,timestamp:i,action:o,sequenceIndex:r(o)}}},{17:17}],70:[function(e,t,n){var r={DELAYED_MUTATIONS:"delayedMutations",INTERVAL_MUTATIONS:"intervalMutations",NO_TRANSFERABLE_LIST:"noTransferableList"};function i(e,t){if(!e.state.experiments)return!1;return e.state.experiments.indexOf(t)!==-1}n.experimentNames=r,n.isExperimentSupported=i},{}],71:[function(e,t,n){var r=e(4).production,i=e(10);t.exports=function(e,t,n){if(!e)return;var i=JSON.stringify(n);e.forEach(function(e){o(r+"/integrations/"+e+".js",t,i)})};function o(e,t,n,r){var o=t.createElement("script");o.src=e,o.async=!0,o.setAttribute("class",i.JACO_INTEGRATION_SCRIPT_IDENTIFIER),o.setAttribute(i.JACO_INTEGRATION_SCRIPT_DATA_ATTRIBUTE,n),r&&(o.onreadystatechange=o.onload=function(){r.done||o.readyState&&!/loaded|complete/.test(o.readyState)||(r.done=!0,r())}),t.querySelector("head").appendChild(o)}},{10:10,4:4}],72:[function(e,t,n){var r=e(1),i=e(42),o=e(68);t.exports=function(e,t,n){n=n||{};var a=n.extraInformation||{},s=n.isBeacon||!1;t.preventDefault&&t.preventDefault();var u=o(e,t,a);s&&navigator&&navigator.sendBeacon?i.beaconRequest(r.logOurError,u):i.postRequest(r.logOurError,u)}},{1:1,42:42,68:68}],73:[function(e,t,n){var r=e(1),i=e(42),o=e(68);t.exports=function(e,t,n){t.preventDefault&&t.preventDefault();var a=o(e,t,n);i.postRequest(r.recordOurError,a)}},{1:1,42:42,68:68}],74:[function(e,t,n){t.exports=function(e,t,n){return e.requestIdleCallback?e.requestIdleCallback(t,n):e.setTimeout(t,50)}},{}],75:[function(e,t,n){var r=e(31);t.exports=function(e,t,n){var o=0,a=t.retries||1/0,s=t.retryCooldown||0,u=t.retryCallback||function(){},c=t.shouldDisableRetryPredicate||r.constant(!1);if(0===a&&s===1/0)throw new Error("Retry infinity times with 0 interval is dangerous and not supported");n=n||function(){};var l=function d(){e(function(e){if(e&&++o<a&&!c(e)){var r=i(t,o);u.call(this,e,o),setTimeout(d,r)}else{var s=Array.prototype.slice.call(arguments).concat(o);setTimeout(function(){n.apply(this,s)},0)}})};l()};function i(e,t){return e.retryCooldown instanceof Function?e.retryCooldown(t):e.retryCooldown}},{31:31}],76:[function(e,t,n){var r=e(77),i=e(31),o=e(1),a=e(127);function s(e,t,n,s){var c=!t,l=c?o.recordJSON:o.record,d=a.build(e,t),f=c?JSON.stringify(i.values(d.asUint8Array())):u(d);r(l,f,{rapiUrl:n},s)}function u(e){var t=e.dataBuffer(),n=t.bytes();return n.buffer.slice(t.position(),t.position()+e.offset())}t.exports=s},{1:1,127:127,31:31,77:77}],77:[function(e,t,n){var r=e(42),i=e(75);function o(e,t,n,o){n=n||{};var s=n.retryCallback,u=n.shouldDisableRetryPredicate;n.rapiUrl&&r.updateRapiUrl(n.rapiUrl);var c=function(n){r.postRequest(e,t,n)};i(c,{retryCooldown:a,retryCallback:s,shouldDisableRetryPredicate:u},o)}function a(e){return e<10?1e3:e<30?5e3:2e4}t.exports=o},{42:42,75:75}],78:[function(e,t,n){function r(e,t,n){var r="TrackEvent: ",i=null;return(e||t.length>0||n.length>0)&&(i=r,e&&(i+="a property with an empty string as a name is found and not saved because property names can't be empty.\n"),t.length>1&&(i+=t.length+" properties with a name longer than 200 characters found and weren't saved because property name's length should be no longer than 200 characters ("+t.join(",")+").\n"),1===t.length&&(i+="1 property with a name longer than 200 characters found and wasn't saved because property name's length should be no longer than 200 characters ("+t[0]+").\n"),n.length>1&&(i+=n.length+" properties with a string value longer than 1000 characters found and weren't saved because string property value should be no longer than 1000 characters ("+n.join(",")+").\n"),1===n.length&&(i+="1 property with a string value longer than 1000 characters found and wasn't saved because string property value should be no longer than 1000 characters ("+n[0]+").\n"),i=i.slice(0,-1)),i}function i(e,t){var n=null;return t&&(n="Invalid timestamp override provided #{"+e.timestamp+"}, please either omit the timestamp or provide a valid UNIX timestamp"),n}function o(t){var n,o,a=e(139),s=!1,u=[],c=[],l=!1,d={};return t&&Object.keys(t).forEach(function(e){e.length<1?s=!0:e.length>200?u.push(e):a(t[e])&&t[e].length>1e3?c.push(e):"timestamp"===e&&t[e]!==parseInt(t[e],10)?l=!0:d[e]=t[e]}),n=r(s,u,c),o=i(t,l),{validatedData:d,warning:n,error:o}}t.exports=o},{139:139}],79:[function(e,t,n){var r=e(76);function i(){}function o(e,t,n,i,o){r(t,n,i,o)}t.exports={start:i,sendMessage:o}},{76:76}],80:[function(e,t,n){var r=e(120),i=e(79);function o(e){return!!e.Worker&&!!e.MutationObserver}function a(){}a.get=function(){return o(window)?r:i},a.sendMessageToServer=function(e,t,n){var r=o(window),i=e.state.config.rapiUrl;return a.get().sendMessage(e,t,r,i,n)},a.load=function(){return a.get().load.apply(null,arguments)},a.start=function(){return a.get().start.apply(null,arguments)},t.exports=a},{120:120,79:79}],81:[function(e,t,n){var r=e(69);function i(e){this.document=e.window.document,this.window=e.window,this.nodeMap=e.nodeMap,this.element=e.element,this.beforeSnapshotDone=!0}i.prototype.shouldObserve=function(){throw Error("shouldObserve is not implemented")},i.prototype.observe=function(){},i.prototype.cleanUp=function(){this.document=void 0,this.window=void 0,this.nodeMap=void 0,this.element=void 0},i.prototype.setDomsnapshotDone=function(){this.beforeSnapshotDone=!1},i.createEvent=function(e,t,n,i,o){return r(e,t,n,i,o)},t.exports=i},{69:69}],82:[function(e,t,n){var r=e(81),i=e(123).Serializer.Action,o=e(45),a=e(18).getTimestamp,s=e(31).includes,u=e(123).Serializer,c={SNAPSHOT:"snapshot",RECORD:"record"},l=1,d=c.SNAPSHOT;e(22).extend(f,r);function f(){return this.lastSnapshots={},this.takenCanvasesIds={},this.snapshotTimeout=0,f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.CANVAS_UPDATE],f.prototype.observe=function(e,t){var n=e.state.config.canvasRecordingMode||d,r=e.state.config.canvasRecordingFPS||l,i=e.state.censorshipSettings,o={censorshipSettings:i,canvasRecordingMode:n,canvasRecordingFPS:r};p(this,t,o)},f.prototype.disconnect=function(){this.window.clearTimeout(this.snapshotTimeout)};function p(e,t,n){e.snapshotTimeout=e.window.setTimeout(function(){h(e,t,n)},1e3/n.canvasRecordingFPS)}function h(e,t,n){for(var s=e.window.document.getElementsByTagName("canvas"),c=0;c<s.length;c++){var l=s[c],d=o.get(l);if(g(e,d,n.canvasRecordingMode,n.censorshipSettings)){m(e,d);var f;try{f=l.toDataURL("image/png",.2)}catch(h){f=""}e.lastSnapshots[d]!==f&&(e.lastSnapshots[d]=f,t(r.createEvent([d,f],u.DataType.StringList,!1,a(),i.CANVAS_UPDATE)))}}p(e,t,n)}function g(e,t,n,r){return!s(r.tags,"canvas")&&(n==c.RECORD||n==c.SNAPSHOT&&!v(e,t))}function v(e,t){return!!e.takenCanvasesIds[t]}function m(e,t){e.takenCanvasesIds[t]=!0}t.exports=f},{123:123,18:18,22:22,31:31,45:45,81:81}],83:[function(e,t,n){var r=e(4).production,i=e(81),o=e(123).Serializer.Action,a=e(18).getTimestamp,s=e(73),u=e(123).Serializer;e(22).extend(c,i);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[o.ERROR],c.prototype.observe=function(e,t){this._onErrorListener=function(n){l(n,e,t)},this.window.addEventListener("error",this._onErrorListener,!1)},c.prototype.disconnect=function(){this.window.removeEventListener("error",this._onErrorListener,!1)};function l(e,t,n){var i=[e.filename,e.message,e.lineno,e.colno,e.timeStamp,void 0,void 0];return e.error&&(i[1]=e.error.message||e.message,i[5]=e.error.name,i[6]=e.error.stack),e.filename.indexOf(r)<0?(this.beforeSnapshotDone||n(d(i,!1,a(),o.ERROR)),!0):(s(t.state,e),e.stopPropagation(),e.preventDefault(),!1)}function d(e,t,n,r){return i.createEvent(e,u.DataType.StringList,t,n,r)}t.exports=c},{123:123,18:18,22:22,4:4,73:73,81:81}],84:[function(e,t,n){var r=e(123).Serializer.Action,i=e(81),o=e(18).getTimestamp,a=e(45),s=e(123).Serializer;e(22).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[r.FOCUS,r.FOCUS_IN,r.FOCUS_OUT],u.prototype.observe=function(e,t){var n=this;this._onBlur=function(){l(t)},this._onFocus=function(){c(t)},this._onFocusIn=function(e){d(e,n,t)},this._onFocusOut=function(e){f(e,n,t)},this.window.addEventListener("focus",this._onFocus,!1),this.window.addEventListener("focusin",this._onFocusIn,!1),this.window.addEventListener("focusout",this._onFocusOut,!1),this.window.addEventListener("blur",this._onBlur,!1)},u.prototype.disconnect=function(){this.window.removeEventListener("focus",this._onFocus,!1),this.window.removeEventListener("focusin",this._onFocusIn,!1),this.window.removeEventListener("focusout",this._onFocusOut,!1),this.window.removeEventListener("blur",this._onBlur,!1)};function c(e){return e(p([!0],!1,o(),r.FOCUS))}function l(e){return e(p([!1],!1,o(),r.FOCUS))}function d(e,t,n){var i=o(),s=a.get(e.target),u=a.get(e.relatedTarget);if(!t.beforeSnapshotDone||s||u){var c=[s,u,e.timeStamp];return n(p(c,!1,i,r.FOCUS_IN))}}function f(e,t,n){var i=o(),s=a.get(e.target),u=a.get(e.relatedTarget);if(!t.beforeSnapshotDone||s||u){var c=[s,u,e.timeStamp];n(p(c,!1,i,r.FOCUS_OUT))}}function p(e,t,n,r){return i.createEvent(e,s.DataType.StringList,t,n,r)}t.exports=u},{123:123,18:18,22:22,45:45,81:81}],85:[function(e,t,n){var r=e(31),i=e(96).OBSERVERS;function o(e,t){return e.emittedActions.every(function(e){return t.indexOf(e)>-1})&&!r.empty(e.emittedActions)}function a(e,t){return o(e,t)}function s(e){return r.values(i).reduce(function(t,n){return t.concat(a(n,e)?[n]:[])},[])}t.exports=s},{31:31,96:96}],86:[function(e,t,n){var r=e(123).Serializer.Action,i=e(81),o=e(15).getElementSelector,a=e(18).getTimestamp,s=e(41).throttle,u=e(45),c=e(37).once,l=e(9),d=e(7),f=e(123).Serializer,p=e(6).censorInput;e(22).extend(g,i);var h=1e4;function g(){g.__super__.constructor.apply(this,arguments),this.lastTarget=null,this._patchOnce=c(E)}g.emittedActions=[r.INPUT,r.INPUT_PROGRAMMATIC_CHANGE],g.prototype.observe=function(e,t){var n=this,r=e.state.censorshipSettings;this._onInput=s(function(e){m(e,n,r,t)},100),this._onChange=function(e){v(e,n,r,t)},this._patchActive=!1,this.window.addEventListener("input",this._onInput,!0),this.window.addEventListener("change",this._onChange,!0),this._patchOnce(this,function(e){_(e,n,r,t)}),this._patchActive=!0},g.prototype.disconnect=function(){this.window.removeEventListener("input",this._onInput,!0),this.window.removeEventListener("change",this._onChange,!0),this._patchActive=!1};function v(e,t,n,r){w(e)&&y(e.target,t,n,r)}function m(e,t,n,r){w(e)&&y(e.target,t,n,r)}function _(e,t,n,r){t._patchActive&&y(e,t,n,r,!0)}function y(e,t,n,i,o){var a=u.get(e);t.beforeSnapshotDone&&!e||(t.lastTarget!==e&&(t.lastTarget=e,o||i(b(e,a,r.INPUT,n))),i(b(e,a,r.INPUT_PROGRAMMATIC_CHANGE,n)))}function b(e,t,n,r){var s=l(e,r),u=e.value||"";u=s?p(u,e.type):u,u.length>=h&&(u=u.slice(0,h));var c="";e.labels&&e.labels.length>0&&(c=e.labels[0].textContent);var g=[];if("SELECT"===e.nodeName)for(var v=0,m=e.options,_=m.length;v<_;v++)m[v].selected&&g.push(m[v].index);var y=[t,u,e.type,e.name,c,e.checked,e.indeterminate,e.disabled,e.readOnly,g,o(e),d(location.href,r.urlRegex,r.urlReplaceText)];return i.createEvent(y,f.DataType.StringList,!1,a(),n)}function w(e){return u.hasId(e.target)||!!e.isTrusted}function E(e,t){var n=e.window;S()&&(O(n.HTMLInputElement,"value",t),O(n.HTMLInputElement,"checked",t),O(n.HTMLSelectElement,"value",t),O(n.HTMLTextAreaElement,"value",t))}function S(){var e=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");return e&&e.set}function O(e,t,n){var r=Object.getOwnPropertyDescriptor(e.prototype,t);Object.defineProperty(e.prototype,t,{set:function(e){var t=this;return setTimeout(function(){u.hasId(t)&&n(t)},0),r.set.call(this,e)},get:function(){return r.get.call(this)}})}t.exports=g},{123:123,15:15,18:18,22:22,37:37,41:41,45:45,6:6,7:7,81:81,9:9}],87:[function(e,t,n){var r=e(41).throttle,i=e(123).Serializer.Action,o=e(81),a=e(18).getTimestamp,s=e(14).getClickEventData,u=e(45),c=e(16).getMousePositionData,l=e(9),d=e(123).Serializer,f=e(19).getTouchEventData,p=e(73);e(22).extend(h,o);function h(){return h.__super__.constructor.apply(this,arguments)}h.emittedActions=[i.TOUCH_MOVE,i.TOUCH_START,i.TOUCH_END,i.TOUCH_CANCEL,i.MOUSE_POSITION,i.MOUSE_CLICK,i.MOUSE_OVER],h.prototype.observe=function(e,t){var n=e.state.censorshipSettings,o=this;this.state=e.state,this._moveEventCounter=0,this._onTouchMove=r(function(e){m(e,o,i.TOUCH_MOVE,n,t)},16),this._onTouchStart=function(e){_(o,i.TOUCH_START,n,t,e)},this._onTouchEnd=function(e){y(o,i.TOUCH_END,n,t,e)},this._onTouchCancel=function(e){y(o,i.TOUCH_CANCEL,n,t,e)},this._onMove=r(function(e){v(o,t,i.MOUSE_POSITION,e)},100),this._onClick=function(e){g(o,n,t,i.MOUSE_CLICK,e)},this._onMouseOver=function(e){b(o,t,e)},this.window.addEventListener("touchstart",this._onTouchStart,!0),this.window.addEventListener("touchmove",this._onTouchMove,!0),this.window.addEventListener("touchcancel",this._onTouchCancel,!0),this.window.addEventListener("touchend",this._onTouchEnd,!0),
this.window.addEventListener("mouseover",this._onMouseOver,!0),this.window.addEventListener("mousemove",this._onMove,!0),this.window.addEventListener("mouseup",this._onClick,!0)},h.prototype.disconnect=function(){this.window.removeEventListener("mouseup",this._onClick,!0),this.window.removeEventListener("mousemove",this._onMove,!0),this.window.removeEventListener("mouseover",this._onMouseOver,!0),this.window.removeEventListener("touchmove",this._onTouchMove,!0),this.window.removeEventListener("touchend",this._onTouchEnd,!0),this.window.removeEventListener("touchcancel",this._onTouchCancel,!0),this.window.removeEventListener("touchstart",this._onTouchStart,!0)};function g(e,t,n,r,i){if(e._isTouchMode)return void(e._isTouchMode=!1);if(e._moveEventCounter<2)return;var c=i.target,f=u.get(c);if(!e.beforeSnapshotDone||f){var h,g=l(c,t);try{h=s(i,g,f,t)}catch(v){return void p(e.state,v,{})}n(o.createEvent(h,d.DataType.StringList,g,a(),r))}}function v(e,t,n,r){if(e._isTouchMode)return;if(e._moveEventCounter<2)return void(e._moveEventCounter=e._moveEventCounter+1);var i=c(r);t(o.createEvent(i,d.DataType.StringList,!1,a(),n))}function m(e,t,n,r,i){var s=e.target,c=u.get(s);if(!t.beforeSnapshotDone||c){var p=l(s,r),h=f(e,p,c,r);i(o.createEvent(h,d.DataType.StringList,p,a(),n))}}function _(e,t,n,r,i){e._isTouchMode=!0,m(i,e,t,n,r)}function y(e,t,n,r,i){m(i,e,t,n,r)}function b(e,t,n){if(e._isTouchMode)return;var r=u.get(n.target),s=n.relatedTarget;if(!e.beforeSnapshotDone||r||u.get(s)){var c=[n.clientX,n.clientY,n.screenX,n.screenY,n.pageX,n.pageY,r,u.get(s)];t(o.createEvent(c,d.DataType.StringList,!1,a(),i.MOUSE_OVER))}}t.exports=h},{123:123,14:14,16:16,18:18,19:19,22:22,41:41,45:45,73:73,81:81,9:9}],88:[function(e,t,n){var r=e(57),i=e(92),o=e(46),a=e(123).Serializer.Action,s=e(81),u=e(45),c=e(9),l=e(6),d=e(8),f=e(125),p=e(126),h=e(123).Serializer,g=e(74),v=e(70),m=200;e(22).extend(_,s);function _(){return _.__super__.constructor.apply(this,arguments)}_.emittedActions=[a.MUTATION_EVENT];var y=_.prototype;y.observe=function(e,t){var n=e.state.censorshipSettings,r=v.isExperimentSupported(e,v.experimentNames.DELAYED_MUTATIONS),o=v.isExperimentSupported(e,v.experimentNames.INTERVAL_MUTATIONS),a=this;this.observer=new i({rootNode:this.document,supportIntervalMutations:o,callback:function(e,i){b(n,a.nodeMap,e,t,r,i)}})},y.disconnect=function(){this.observer.disconnect()};function b(e,t,n,r,i,o){for(var a,s=f.getBuilder(),c=Object.keys(n.attributeChanged).map(function(t){return n.attributeChanged[t].map(function(n){var r=u.get(n);return w(n,e),[r,t,n.getAttribute(t)]})}).reduce(function(e,t){return e.concat(t)},[]),l=C(s,n,t,e,i),d=new Array(n.characterDataChanged.length),p=0,h=n.characterDataChanged.length;p<h;p++)a=n.characterDataChanged[p],d[p]=[u.get(a),E(a,e)];var g,v=new Array(n.removed.length);for(p=0,h=n.removed.length;p<h;p++)a=n.removed[p],v[p]=u.get(a),g="IFRAME"===a.tagName,t.remove(a,g),u.unset(a);T(s,o,t,c,l,d,v,r,i)}function w(e,t){d.mark(e,c(e,t))}function E(e,t){return c(e,t)?l.censorString(e.textContent):e.textContent}function S(e){for(var t=new o,n=0,r=e.length;n<r;n++){var i=e[n],a=i.parentNode,s=t.get(a);s||(s=new o,t.set(a,s)),s.set(i,!0)}return t}function O(e,t,n,r,i){var o=c(e,t),a="IFRAME"===e.tagName&&!o,s=n.set(e,e,a);d.mark(e,o);var u=e.cloneNode(!1),l={domNode:u,nodeId:s,previousSiblingId:r,parentNodeId:i,shouldCensor:o};return n.set(u,l),l}function C(e,t,n,i,o){for(var a=t.added.concat(t.reparented,t.reordered),s=S(a),c=new Array(a.length),l=0,d=s.keys(),f=0,p=d.length;f<p;f++)for(var h=d[f],g=s.get(h),v=g.keys();v.length;){for(var m=v[0];m.previousSibling&&g.has(m.previousSibling);)m=m.previousSibling;for(;m&&g.has(m);){var _,y=m.previousSibling?u.get(m.previousSibling):null,b=m.parentNode?u.get(m.parentNode):null;_=o?O(m,i,n,y,b):r.serializeNodeWithCensorship(e,m,y,b,n,i),c[l++]=_,g.remove(m),m=m.nextSibling}v=g.keys()}return c}function N(e,t,n,r,i,o){return s.createEvent(p.build(e,t,n,r,i),h.DataType.MutationData,!1,o,a.MUTATION_EVENT)}function T(e,t,n,i,o,a,s,u,c){c?g(window,function(){for(var c=new Array(o.length),l=0,d=o.length;l<d;l++){var f=o[l],p=r.serializeNode(e,f.domNode,f.nodeId,f.previousSiblingId,f.parentNodeId,f.shouldCensor,n);c[l]=p}u(N(e,s,c,i,a,t))},{timeout:m}):u(N(e,s,o,i,a,t))}t.exports=_},{123:123,125:125,126:126,22:22,45:45,46:46,57:57,6:6,70:70,74:74,8:8,81:81,9:9,92:92}],89:[function(e,t,n){var r={};r[r.STAYED_OUT=0]="STAYED_OUT",r[r.ENTERED=1]="ENTERED",r[r.STAYED_IN=2]="STAYED_IN",r[r.REPARENTED=3]="REPARENTED",r[r.REORDERED=4]="REORDERED",r[r.EXITED=5]="EXITED",t.exports=r},{}],90:[function(e,t,n){var r;r="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver,t.exports=r},{}],91:[function(e,t,n){var r=e(95),i=e(46),o=e(89);function a(){this.added=new i,this.removed=new i,this.maybeMoved=new i,this.oldPrevious=new i,this.moved=void 0}function s(e,t){this.rootNode=e,this.mutations=t,this.calcReordered=!0,this.treeChanges=new r(e,t),this.entered=[],this.exited=[],this.stayedIn=new i,this.visited=new i,this.childListChangeMap=void 0,this.processMutations()}s.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;for(var e=this.treeChanges.keys(),t=0,n=e.length;t<n;t++)this.visitNode(e[t],void 0)},s.prototype.visitNode=function(e,t){if(this.visited.has(e))return;this.visited.set(e,!0);var n=this.treeChanges.get(e),r=t;if((n&&n.childList||void 0==r)&&(r=this.treeChanges.reachabilityChange(e)),r===o.STAYED_OUT)return;if(r===o.ENTERED)this.entered.push(e);else if(r===o.EXITED)this.exited.push(e);else if(r===o.STAYED_IN){var i=o.STAYED_IN;n&&n.childList&&(n.oldParentNode!==e.parentNode?i=o.REPARENTED:this.calcReordered&&this.wasReordered(e)&&(i=o.REORDERED)),this.stayedIn.set(e,i)}if(r===o.STAYED_IN)return;for(var a=e.firstChild;a;a=a.nextSibling)this.visitNode(a,r)},s.prototype.getChanged=function(e){var t=this;this.entered.forEach(function(t){e.added.push(t)});var n=this.stayedIn.keys();n.forEach(function(n){if(e.reparented||e.reordered){var r=t.stayedIn.get(n);e.reparented&&r===o.REPARENTED?e.reparented.push(n):e.reordered&&r===o.REORDERED&&e.reordered.push(n)}}),this.exited.forEach(function(t){e.removed.push(t)})},s.prototype.getOldParentNode=function(e){var t=this.treeChanges.get(e);if(t&&t.childList)return t.oldParentNode?t.oldParentNode:null;var n=this.treeChanges.reachabilityChange(e);if(n===o.STAYED_OUT||n===o.ENTERED)throw Error("getOldParentNode requested on invalid node.");return e.parentNode},s.prototype.getOldPreviousSibling=function(e){var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(e)},s.prototype.getOldAttribute=function(e,t){var n=this.treeChanges.get(e);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(t);if(void 0===r)throw Error("getOldAttribute requested for unchanged attribute name.");return r},s.prototype.attributeChangedNodes=function(){if(!this.treeChanges.anyAttributesChanged)return{};for(var e,t={},n=this.treeChanges.keys(),r=0,i=n.length;r<i;r++){var a=n[r],s=this.treeChanges.get(a);if(!s.attributes)continue;if(o.STAYED_IN!==this.treeChanges.reachabilityChange(a))continue;for(var u=a,c=s.getAttributeNamesMutated(),l=0,d=c.length;l<d;l++){var f=c[l];if(e&&!e[f]&&!s.isCaseInsensitive)continue;var p=s.getAttributeOldValue(f);if(p===u.getAttribute(f))continue;t[f]=t[f]||[],t[f].push(u)}}return t},s.prototype.getOldCharacterData=function(e){var t=this.treeChanges.get(e);if(!t||!t.characterData)throw Error("getOldCharacterData requested on invalid node.");return t.characterDataOldValue},s.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var e=this.treeChanges.keys(),t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(o.STAYED_IN!==this.treeChanges.reachabilityChange(i))continue;var a=this.treeChanges.get(i);if(!a.characterData||i.textContent===a.characterDataOldValue)continue;t.push(i)}return t},s.prototype.getChildlistChange=function(e){var t=this.childListChangeMap.get(e);return t||(t=new a,this.childListChangeMap.set(e,t)),t},s.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;function e(e,t,n){if(!e||n.oldPrevious.has(e)||n.added.has(e)||n.maybeMoved.has(e))return;if(t&&(n.added.has(t)||n.maybeMoved.has(t)))return;n.oldPrevious.set(e,t)}this.childListChangeMap=new i;for(var t=0;t<this.mutations.length;t++){var n=this.mutations[t];if("childList"!=n.type)continue;if(this.treeChanges.reachabilityChange(n.target)!==o.STAYED_IN)continue;var r,a,s=this.getChildlistChange(n.target),u=n.previousSibling;for(r=0;r<n.removedNodes.length;r++)a=n.removedNodes[r],e(a,u,s),s.added.has(a)?s.added.remove(a):(s.removed.set(a,!0),s.maybeMoved.remove(a)),u=a;for(e(n.nextSibling,u,s),r=0;r<n.addedNodes.length;r++)a=n.addedNodes[r],s.removed.has(a)?(s.removed.remove(a),s.maybeMoved.set(a,!0)):s.added.set(a,!0)}},s.prototype.wasReordered=function(e){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var t=e.parentNode,n=this.treeChanges.get(e);n&&n.oldParentNode&&(t=n.oldParentNode);var r=this.childListChangeMap.get(t);if(!r)return!1;if(r.moved)return r.moved.get(e);r.moved=new i;var o=new i;function a(e){if(!e)return!1;if(!r.maybeMoved.has(e))return!1;var t=r.moved.get(e);if(void 0!==t)return t;return o.has(e)?t=!0:(o.set(e,!0),t=l(e)!==u(e)),o.has(e)?(o.remove(e),r.moved.set(e,t)):t=r.moved.get(e),t}var s=new i;function u(e){var t=s.get(e);if(void 0!==t)return t;for(t=r.oldPrevious.get(e);t&&(r.removed.has(t)||a(t));)t=u(t);return void 0===t&&(t=e.previousSibling),s.set(e,t),t}var c=new i;function l(e){if(c.has(e))return c.get(e);for(var t=e.previousSibling;t&&(r.added.has(t)||a(t));)t=t.previousSibling;return c.set(e,t),t}return r.maybeMoved.keys().forEach(a),r.moved.get(e)},t.exports=s},{46:46,89:89,95:95}],92:[function(e,t,n){var r=e(91),i=e(94),o=e(90),a=["added","removed","reordered","reparented","valueChanged","characterDataChanged"],s=e(18).getTimestamp,u=250;function c(e){var t=this;this.connected=!1,this.options=c.validateOptions(e),this.observerOptions=c.createObserverOptions(),this.root=this.options.rootNode,this.callback=this.options.callback,this.calcReordered=!0,this.options.supportIntervalMutations?(this.mutationRecordsQueue=[],this.nextRecordsTimestamp=0,this.processing=!1,window.setInterval(function(){if(!t.processing&&t.mutationRecordsQueue.length>0){t.processing=!0;var e=t.mutationRecordsQueue,n=t.nextRecordsTimestamp;t.mutationRecordsQueue=[],t.nextRecordsTimestamp=0,t.observerCallback(e,n),t.processing=!1}},u),this.observer=new o(function(e){t.nextRecordsTimestamp||(t.nextRecordsTimestamp=s()),t.mutationRecordsQueue=t.mutationRecordsQueue.concat(e)})):this.observer=new o(function(e){t.observerCallback(e,s())}),this.reconnect()}c.createObserverOptions=function(){return{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}},c.validateOptions=function(e){for(var t in e)if(!(t in c.optionKeys))throw Error("Invalid option: "+t);if("function"!=typeof e.callback)throw Error("Invalid options: callback is required and must be a function");return{callback:e.callback,rootNode:e.rootNode||document,oldPreviousSibling:!!e.oldPreviousSibling,supportIntervalMutations:e.supportIntervalMutations}},c.prototype.createSummary=function(e){if(!e||!e.length)return[];var t=new r(this.root,e);return new i(t)},c.prototype.changesToReport=function(e){if(a.some(function(t){return e[t]&&e[t].length}))return!0;if(e.attributeChanged){var t=Object.keys(e.attributeChanged),n=t.some(function(t){return!!e.attributeChanged[t].length});if(n)return!0}return!1},c.prototype.observerCallback=function(e,t){this.observer.disconnect();var n=this.createSummary(e);this.changesToReport(n)&&this.callback(n,t),this.connected&&this.observer.observe(this.root,this.observerOptions)},c.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0},c.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var e=this.createSummary(this.observer.takeRecords());return this.changesToReport(e)?e:void 0},c.prototype.disconnect=function(){if(!this.connected)return[];var e=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,e},c.optionKeys={callback:!0,rootNode:!0,oldPreviousSibling:!0,supportIntervalMutations:!0},t.exports=c},{18:18,90:90,91:91,94:94}],93:[function(e,t,n){function r(e,t,n,r,i,o,a,s){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=e,this.childList=t,this.attributes=n,this.characterData=r,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}r.prototype.getAttributeOldValue=function(e){if(!this.attributeOldValues)return;return this.isCaseInsensitive&&(e=e.toLowerCase()),this.attributeOldValues[e]},r.prototype.getAttributeNamesMutated=function(){var e=[];if(!this.attributeOldValues)return e;return Object.keys(this.attributeOldValues)},r.prototype.attributeMutated=function(e,t){if(this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},e in this.attributeOldValues)return;this.attributeOldValues[e]=t},r.prototype.characterDataMutated=function(e){if(this.characterData)return;this.characterData=!0,this.characterDataOldValue=e},r.prototype.removedFromParent=function(e){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=e},r.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},r.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},t.exports=r},{}],94:[function(e,t,n){function r(e){this.projection=e,this.added=[],this.removed=[],this.reparented=[],this.reordered=[],e.getChanged(this),this.attributeChanged=e.attributeChangedNodes(),this.characterDataChanged=e.getCharacterDataChanged()}r.prototype.getOldParentNode=function(e){return this.projection.getOldParentNode(e)},r.prototype.getOldAttribute=function(e,t){return this.projection.getOldAttribute(e,t)},r.prototype.getOldCharacterData=function(e){return this.projection.getOldCharacterData(e)},t.exports=r},{}],95:[function(e,t,n){var r=e(46),i=e(93),o=e(89),a=this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r};a(s,r);function s(e,t){var n,i,o=this;r.call(this),this.rootNode=e,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var a=0,s=t.length;a<s;a++){var u=t[a];switch(u.type){case"childList":this.anyParentsChanged=!0;for(var c=0,l=u.removedNodes.length;c<l;++c)i=u.removedNodes[c],o.getChange(i).removedFromParent(u.target);for(var d=0,f=u.addedNodes.length;d<f;++d)i=u.addedNodes[d],o.getChange(i).insertedIntoParent(u.target);break;case"attributes":this.anyAttributesChanged=!0,n=this.getChange(u.target),n.attributeMutated(u.attributeName,u.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,n=this.getChange(u.target),n.characterDataMutated(u.oldValue)}}}s.prototype.getChange=function(e){var t=this.get(e);return t||(t=new i(e),this.set(e,t)),t},s.prototype.getOldParent=function(e){var t=this.get(e);return t?t.getOldParent():e.parentNode},s.prototype.getIsReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.reachableCache=this.reachableCache||new r;var t=this.reachableCache.get(e);return void 0===t&&(t=this.getIsReachable(e.parentNode),this.reachableCache.set(e,t)),t},s.prototype.getWasReachable=function(e){if(e===this.rootNode)return!0;if(!e)return!1;this.wasReachableCache=this.wasReachableCache||new r;var t=this.wasReachableCache.get(e);return void 0===t&&(t=this.getWasReachable(this.getOldParent(e)),this.wasReachableCache.set(e,t)),t},s.prototype.reachabilityChange=function(e){if(this.getIsReachable(e))return this.getWasReachable(e)?o.STAYED_IN:o.ENTERED;return this.getWasReachable(e)?o.EXITED:o.STAYED_OUT},t.exports=s},{46:46,89:89,93:93}],96:[function(e,t,n){var r=e(31),i={INPUT:e(86),WINDOW_CLOSE:e(104),VISIBILITY:e(103),URL:e(100),VIEWPORT:e(102),SCROLL:e(98),MUTATION:e(88),MOUSE_AND_TOUCH:e(87),TEXT_SELECTION:e(99),FOCUS:e(84),VIDEO:e(101),ERROR:e(83),CANVAS:e(82),PAGE_HIDE:e(97)};function o(e,t,n){this.data={window:e,nodeMap:n,element:t}}o.prototype.initObservers=function(e){var t=this.data,n=r.values(i).filter(function(t){return!r.includes(e,t)}).reduce(function(e,n){return e.concat([new n(t)])},[]);this.observers=n},o.prototype.startObservers=function(e,t){return this.observers.forEach(function(n){n.observe(e,t)}),this.observers},o.prototype.stop=function(){this.isObservedWindowClosed()||this.observers.forEach(function(e){e.disconnect(),e.cleanUp()}),this.observers=void 0},o.prototype.setDomSnapshotDone=function(){this.observers.forEach(function(e){e.setDomsnapshotDone()})},o.prototype.isObservedWindowClosed=function(){try{return this.data.window.document,this.data.window.closed||!this.data.window.addEventListener}catch(e){return!0}},o.OBSERVERS=i,t.exports=o},{100:100,101:101,102:102,103:103,104:104,31:31,82:82,83:83,84:84,86:86,87:87,88:88,97:97,98:98,99:99}],97:[function(e,t,n){var r=e(81);e(22).extend(i,r);function i(){return i.__super__.constructor.apply(this,arguments)}i.emittedActions=[],i.prototype.observe=function(e,t){return this._onPageHide=function(t){o(t,e)},this.window.addEventListener("pagehide",this._onPageHide,!0)},i.prototype.disconnect=function(){return this.window.removeEventListener("pagehide",this._onPageHide,!0)};function o(e,t){t.flush(t)}t.exports=i},{22:22,81:81}],98:[function(e,t,n){var r=e(41).throttle,i=e(123).Serializer.Action,o=e(81),a=e(18).getTimestamp,s=e(45),u=e(123).Serializer;e(22).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[i.SCROLL],c.prototype.observe=function(e,t){var n=this;this._onDocumentChange=function(e){l(e,n,t)},this._onWindowChange=function(e){d(e,n,t)},this._throttledOnWindowChange=r(this._onWindowChange,100),this._throttledOnDocumentChange=r(this._onDocumentChange,100),this.window.document.documentElement.addEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.addEventListener("scroll",this._throttledOnWindowChange,!0)},c.prototype.disconnect=function(){this.window.removeEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.removeEventListener("scroll",this._throttledOnWindowChange,!0)};function l(e,t,n){var r=a(),c=s.get(e.target);if(!t.beforeSnapshotDone||c){var l=e.target.scrollLeft,d=e.target.scrollTop;n(o.createEvent([l,d,c],u.DataType.StringList,!1,r,i.SCROLL))}}function d(e,t,n){var r=a(),c=t.window.document.body,l=s.get(c),d=0,f=0;t.beforeSnapshotDone&&!l||("pageXOffset"in t.window?(d=t.window.pageXOffset,f=t.window.pageYOffset):(d=t.rootElement.body.scrollLeft,f=t.rootElement.body.scrollTop),n(o.createEvent([d,f,l],u.DataType.StringList,!1,r,i.SCROLL)))}t.exports=c},{123:123,18:18,22:22,41:41,45:45,81:81}],99:[function(e,t,n){var r=e(123).Serializer.Action,i=e(81),o=e(18).getTimestamp,a=e(73),s=e(45),u=e(123).Serializer;e(22).extend(c,i);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[r.SELECTION],c.prototype.observe=function(e,t){var n=this;return this._onChange=function(){l(n,t)},this.window.document.addEventListener("selectionchange",this._onChange,!0)},c.prototype.disconnect=function(){return this.window.document.removeEventListener("selectionchange",this._onChange,!0)};function l(e,t){var n=e.document.getSelection();if(!n)return;var c,l;try{c=s.get(n.anchorNode),l=s.get(n.focusNode)}catch(d){return void(d.message.toLowerCase().indexOf("permission denied")<0&&a(e.state,d,{}))}if(!e.beforeSnapshotDone||c||l){var f=[c,n.anchorOffset,l,n.focusOffset];t(i.createEvent(f,u.DataType.StringList,!1,o(),r.SELECTION))}}t.exports=c},{123:123,18:18,22:22,45:45,73:73,81:81}],100:[function(e,t,n){var r=e(123).Serializer.Action,i=e(81),o=e(18).getTimestamp,a=e(7),s=e(123).Serializer;e(22).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[r.URL_CHANGED],u.prototype.observe=function(e,t){var n=this,r=e.state.censorshipSettings;return this._onHashChange=function(e){l(e,r,n,t)},this._onHistoryChange=function(e,i,o){c(e,i,o,r,n,t)},this.lastUrl=a(location.href,r.urlRegex,r.urlReplaceText),history.pushState&&(this.window.addEventListener("popstate",this._onHistoryChange,!0),this.oldPushState=history.pushState,history.pushState=function(){n.oldPushState.apply(this,arguments),n._onHistoryChange.apply(n,arguments)},this.oldReplaceState=history.replaceState,history.replaceState=function(){n.oldReplaceState.apply(this,arguments),n._onHistoryChange.apply(n,arguments)}),this.window.addEventListener("hashchange",this._onHashChange,!0)},u.prototype.disconnect=function(){return history.pushState=this.oldPushState,history.replaceState=this.oldReplaceState,this.window.removeEventListener("popstate",this._onHistoryChange,!0),this.window.removeEventListener("hashchange",this._onHashChange,!0)};function c(e,t,n,i,s,u){var c=a(location.href,i.urlRegex,i.urlReplaceText);return s.lastUrl!==c&&(u(d([s.lastUrl,c],!1,o(),r.URL_CHANGED)),s.lastUrl=c),s}function l(e,t,n,i){var s=a(location.href,t.urlRegex,t.urlReplaceText),u=[n.lastUrl,s];i(d(u,!1,o(),r.URL_CHANGED)),n.lastUrl=s}function d(e,t,n,r){return i.createEvent(e,s.DataType.StringList,t,n,r)}t.exports=u},{123:123,18:18,22:22,7:7,81:81}],101:[function(e,t,n){var r=e(123).Serializer.Action,i=e(41).throttle,o=e(81),a=e(18).getTimestamp,s=e(45),u=e(123).Serializer;e(22).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[r.VIDEO_PLAY,r.VIDEO_PAUSE,r.VIDEO_TIME_UPDATE,r.VIDEO_VOLUME_CHANGE],c.prototype.observe=function(e,t){var n=this;this._onPlay=function(e){l(e,n,t)},this._onPause=function(e){d(e,n,t)},this._onTimeupdate=i(function(e){f(e,n,t)},200),this._onVolumechange=function(e){p(e,n,t)},this.window.addEventListener("play",this._onPlay,!0),this.window.addEventListener("pause",this._onPause,!0),this.window.addEventListener("timeupdate",this._onTimeupdate,!0),this.window.addEventListener("volumechange",this._onVolumechange,!0)},c.prototype.disconnect=function(){this.window.removeEventListener("play",this._onPlay,!0),this.window.removeEventListener("pause",this._onPause,!0),this.window.removeEventListener("timeupdate",this._onTimeupdate,!0),this.window.removeEventListener("volumechange",this._onVolumechange,!0)};function l(e,t,n){return h(e,t.beforeSnapshotDone,r.VIDEO_PLAY,n)}function d(e,t,n){return h(e,t.beforeSnapshotDone,r.VIDEO_PAUSE,n)}function f(e,t,n){return h(e,t.beforeSnapshotDone,r.VIDEO_TIME_UPDATE,n)}function p(e,t,n){return h(e,t.beforeSnapshotDone,r.VIDEO_VOLUME_CHANGE,n)}function h(e,t,n,r){var i=a(),c=s.get(e.target);if(!t||c){var l=[c,e.target.currentTime,e.target.volume];r(o.createEvent(l,u.DataType.StringList,!1,i,n))}}t.exports=c},{123:123,18:18,22:22,41:41,45:45,81:81}],102:[function(e,t,n){var r=e(12).debounce,i=e(123).Serializer.Action,o=e(81),a=e(18).getTimestamp,s=e(123).Serializer,u=e(73);e(22).extend(d,o);function c(e){return e.innerWidth}function l(e){return e.innerHeight}function d(){return d.__super__.constructor.apply(this,arguments)}d.emittedActions=[i.VIEWPORT_CHANGED],d.prototype.observe=function(e,t){var n=this;this.state=e.state,this.windowX=this.windowY=0,this._onChange=r(function(e){f(e,n,t)},500),this.window.addEventListener("resize",this._onChange,!0)},d.prototype.disconnect=function(){this.window.removeEventListener("resize",this._onChange,!0)};function f(e,t,n){var r,d;try{r=c(t.window),d=l(t.window)}catch(f){return void("object expected"===f.message.toLowerCase()&&"permission denied"===f.message.toLowerCase()||u(t.state,f,{}))}var p=[t.windowX,t.windowY,r,d];n(o.createEvent(p,s.DataType.StringList,!1,a(),i.VIEWPORT_CHANGED))}t.exports=d},{12:12,123:123,18:18,22:22,73:73,81:81}],103:[function(e,t,n){var r=e(123).Serializer.Action,i=e(81),o=e(18).getTimestamp,a=e(123).Serializer;e(22).extend(s,i);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[r.VISIBILITY],s.prototype.observe=function(e,t){var n=this;this._onVisibilityChanged=function(e){u(n,t)},"undefined"!=typeof this.document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof this.document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.window.document.addEventListener(this.visibilityChange,this._onVisibilityChanged,!1)},s.prototype.disconnect=function(){this.window.document.removeEventListener(this.visibilityChange,this._onVisibilityChanged,!1)};function u(e,t){t(i.createEvent([!e.document[e.hidden]],a.DataType.StringList,!1,o(),r.VISIBILITY))}t.exports=s},{123:123,18:18,22:22,81:81}],104:[function(e,t,n){var r=e(81),i=e(18).getTimestamp,o=e(123).Serializer,a=e(123).Serializer.Action;e(22).extend(s,r);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[a.WINDOW_CLOSE],s.prototype.observe=function(e,t){this._onUnload=function(){u(t)},this.window.addEventListener("beforeunload",this._onUnload,!1)},s.prototype.disconnect=function(){this.window.removeEventListener("beforeunload",this._onUnload,!1)};function u(e){e(r.createEvent([],o.DataType.StringList,!1,i(),a.WINDOW_CLOSE))}t.exports=s},{123:123,18:18,22:22,81:81}],105:[function(e,t,n){"use strict";var r=e(57),i=e(125),o=e(123).Serializer,a=o.Action,s=e(69),u=e(13),c=e(39),l=e(7);function d(){}d.newPageEvents=function(e,t,n,r,i){var o=[h(t,e.urlRegex,e.urlReplaceText,i+1),v(t,i+2)];return u(c)&&o.push(f(n,r,e,i+3)),o.push(g(t,i+4)),o};function f(e,t,n,r){var u=i.getBuilder(),c=p(u,e,t,n);return s({offset:c,builder:u},o.DataType.Serializer_DOMNode,!1,r,a.DOM_SNAPSHOT)}function p(e,t,n,i){return t.clear(),r.serializeSubTree(e,n,null,null,t,i)}function h(e,t,n,r){var i=l(e.location.href,t,n),u=[null,i];return s(u,o.DataType.StringList,!1,r,a.URL_CHANGED)}function g(e,t){var n=[e.scrollX,e.scrollY,null];return s(n,o.DataType.StringList,!1,t,a.SCROLL)}function v(e,t){var n=[e.screenLeft-e.screen.availLeft,e.screenTop-e.screen.availTop,e.innerWidth,e.innerHeight];return s(n,o.DataType.StringList,!1,t,a.VIEWPORT_CHANGED)}t.exports=d},{123:123,125:125,13:13,39:39,57:57,69:69,7:7}],106:[function(e,t,n){function r(){this.__timeoutID=null,this.__lastBatchTimeInMS=0}r.prototype.watch=function(e,t,n){t.pollingIntervalInMS=void 0!==t.pollingIntervalInMS?t.pollingIntervalInMS:500,t.timeoutInMS=void 0!=t.timeoutInMS?t.timeoutInMS:2e3,t.batchSize=void 0!=t.batchSize?t.batchSize:50,this.__timeoutID&&clearTimeout(this.__timeoutID),this.__lastBatchTimeInMS=performance.now(),this.pollQueue(e,t,n)},r.prototype.stop=function(){clearTimeout(this.__timeoutID),this.__timeoutID=null},r.prototype.pollQueue=function(e,t,n){var r=!1;if(i(e,t.batchSize)||o(this.__lastBatchTimeInMS,t.timeoutInMS)){var u=a(e,t.batchSize);if(this.__lastBatchTimeInMS=performance.now(),u.length>0){r=!0;var c=this;n(u,function(){s(e,u.length),c.scheduleNextIteration(e,t,n)})}}r||this.scheduleNextIteration(e,t,n)},r.prototype.flushSync=function(e){return e.splice(0,e.length)},r.prototype.scheduleNextIteration=function(e,t,n){var r=this;clearTimeout(this.__timeoutID),this.__timeoutID=setTimeout(function(){r.pollQueue(e,t,n)},t.pollingIntervalInMS)};function i(e,t){return e.length>=t}function o(e,t){return 0!=e&&performance.now()-e>t}function a(e,t){return e.slice(0,t)}function s(e,t){return e.splice(0,t)}t.exports=r},{}],107:[function(e,t,n){var r=e(123).Serializer,i=e(123).Serializer.Action,o=e(18).getTimestamp,a=e(69);t.exports=function(e,t,n){var s=n.timestamp?1e3*n.timestamp:o(),u=[t,JSON.stringify(n)],c=a(u,r.DataType.StringList,!1,s,i.CUSTOM_EVENT);e.handleCustomEvent(c)}},{123:123,18:18,69:69}],108:[function(e,t,n){var r=e(121),i=e(139),o=e(23),a=e(26);function s(e,t,n){this.config={startRecordingOnInit:!0},this.__state=u(e,t,n),this.state=this.__state.client.state}s.prototype.__VERSION=r,s.prototype.push=function(){for(var e=Array.prototype.slice.call(arguments),t=0;t<e.length;t++){var n=e[t];this[n[0]].apply(this,n.slice(1))}return this},s.prototype.exec=function(){this.push.apply(this,arguments)},s.prototype["session.setAttribute"]=function(e,t){if(t=t||function(){},!i(e.attributeName))return t({errorMessage:"SetAttribute: invalid attribute name, expected 'String', received "+Object.prototype.toString.call(e.attributeName)});if(!(o(e.attributeValue)&&e.attributeValue.every(i)||i(e.attributeValue)))return t({errorMessage:"SetAttribute: invalid attribute value, expected 'Array of Strings'/'String', received "+Object.prototype.toString.call(e.attributeValue)});this.__state.client["session.setAttribute"](this.__state.client,e,t)},s.prototype["session.getAttributes"]=function(e){this.__state.client["session.getAttributes"](this.__state.client,e)},s.prototype.init=function(e,t,n){if(t instanceof Function&&(n=t,t={}),n=n||d,!i(e)||!e.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i))return n("Init: Invalid API Key, expected 'String' UUID, received "+Object.prototype.toString.call(e));if(this.__state.initCalled)return this;return this.__state.initCalled=!0,t=t?t:{},t.startRecordingOnInit=t.startRecordingOnInit||this.config.startRecordingOnInit,this.__state.initConfig=t,this.__state.client.init(this.__state.client,e,t,n),this},s.prototype.identify=function(e,t){var n=l(this,this.state.apiToken,e,t||d);this.__state.client.identify(this.__state.client,e,this.__state.initCalled,n)},s.prototype.trackEvent=function(e,t,n){var r=n||d;this.__state.client.trackEvent(this.__state.client,e,t,this.__state.initCalled,r)},s.prototype.removeUserTracking=function(e){return this.__state.client.removeUserTracking(this.__state.client,c(this,this.__state.windowObject,this.__state.rootElement,this.__state.ClientObject,e)),this},s.prototype.startRecording=function(){return this.__state.client.startRecording(this.__state.client),this},s.prototype.stopRecording=function(){return this.__state.client.stopRecording(this.__state.client),this},s.prototype.runQueuedMethods_=function(e){for(;e.length;){var t=e.shift();this.push(t)}};function u(e,t,n,r){return{windowObject:e,rootElement:t,ClientObject:n,client:new n(e,t),initCalled:!1,initConfig:r}}function c(e,t,n,r,i){return function(){e.__state=u(t,n,r,e.__state.initConfig),e.state=e.__state.client.state,i instanceof Function&&i()}}function l(e,t,n,r){return function(o){if(o&&i(o.message)&&o.message.indexOf("Already identified")>-1)return e.removeUserTracking(function(){return e.init(t,e.__state.initConfig,function(){return e.__state.client.identify(e.__state.client,n,e.__state.initCalled,r)})});r(o)}}function d(e){e&&a.log(e)}t.exports=s},{121:121,139:139,23:23,26:26}],109:[function(e,t,n){var r=e(46),i=e(96),o=e(110),a=e(117),s=e(111),u=e(73),c=e(71),l=e(38),d=e(67),f=e(115),p=e(116),h=e(112),g=e(40).get,v=e(114),m=e(113),_=e(106),y=e(125),b=e(18).getTimestamp,w=e(105),E=e(85),S=e(63)(window),O=e(119),C=e(128),N=e(119).getIFrameId,T=e(80),D=e(123).Serializer.Action,A=22,I=1014,R="access is denied";function x(e,t){this.state={mainFrame:{window:e,windowId:O.getWindowId(),rootElement:t},eventsQueue:[],eventsQueueWatcher:new _,isInitialized:!1,isRecording:!1,waitingForInit:[],apiToken:null,uid:null,worker:null,lastBatchTime:b(),observerManagers:{},crossOriginWindowsToIFrameIdMap:new S,
iframeStates:{}}}x.prototype.init=s,x.prototype.identify=o,x.prototype.trackEvent=a,x.prototype.startRecording=f,x.prototype.stopRecording=p,x.prototype.removeUserTracking=h,x.prototype["session.setAttribute"]=v,x.prototype["session.getAttributes"]=m,x.prototype.flush=ee,x.prototype.handleCustomEvent=Y,x.prototype.__observeWindow=k,x.prototype.__onInitDone=P,x.prototype.__onWorkerError=ae,x.prototype.__startQueueWatchers=L;function L(e){e.state.eventsQueueWatcher.watch(e.state.eventsQueue,{timeoutInMS:3e3,batchSize:50},function(t,n){K(e,t,function(t){t?u(e.state,t):n()})})}function M(e,t){t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n].asUint8Array();e.state.eventsQueue.push(r)}}function P(e,t,n){try{var r=t.cookieDomain;e.state.identityStorage.setUid(t.uid,r)||u(e.state,new Error("Failed to set UUID"),{cookieEnabled:navigator.cookieEnabled}),e.state.enabledIntegrations=t.enabledIntegrations,e.state.session=t.session,e.state.uid=t.uid,e.state.censorshipSettings=t.settings.censor,e.state.isInitialized=!0,e.state.initResponse=t,e.state.untrackedEvents=t.settings.untrackedEvents.map(C),e.state.experiments=t.settings.experiments||[],e.state.providedId=e.state.identityStorage.getProvidedId(e.state.apiToken);var i={session:e.state.session,apiToken:e.state.apiToken};c(t.enabledIntegrations,document,i),ne(e),e.state.config.startRecordingOnInit&&e.startRecording(e);var o=J(t,e.state.providedId);n(null,o),e.state.waitingForInit.forEach(function(t){t[0].apply(e,t[1])}),e.state.waitingForInit=[],U(e),d.removeReferer()}catch(a){u(e.state,a)}}function U(e){e.state.mainFrame.window.addEventListener("message",function(t){if("request-init-cross-origin-iframe"===t.data.type){var n=t.source,r=e.state.crossOriginWindowsToIFrameIdMap.get(n);r&&V(e,n,r)}})}function V(e,t,n){var r={type:"init-cross-origin-iframe",data:{initResponse:e.state.initResponse,iframeId:n,parentWindowId:e.state.mainFrame.windowId}};t.postMessage(r,"*")}function k(e,t){var n=new r({onNodeAdd:function(n){z(n)&&j(e,n,t.windowId)},onNodeRemove:function(t){z(t)&&B(e,t)}});t.nodeMap=n;var o=E(e.state.untrackedEvents);t.parentWindowId&&o.push(i.OBSERVERS.PAGE_HIDE);var a=new i(t.window,t.rootElement,n);if(a.initObservers(o),a.startObservers(e,l(q,e,t)),e.state.untrackedEvents.indexOf(D.PAGE_SNAPSHOT_EVENTS)<0){var s=Q(e.state.censorshipSettings,t);s.forEach(l(q,e,t))}a.setDomSnapshotDone(),e.state.observerManagers[t.windowId]=a}function j(e,t,n){if(n!==e.state.mainFrame.windowId)return;var r;t.__JACO_IFRAME_ID?r=t.__JACO_IFRAME_ID:(r=N(),t.__JACO_IFRAME_ID=r);var i=!H(t),o=!i&&W(t),a=i&&X(t)||o;a&&F(e,t,n),t.addEventListener("load",function(){var r=e.state.crossOriginWindowsToIFrameIdMap.has(t.contentWindow),i=H(t)&&t.contentWindow.__JACO_IFRAME_OBSERVED,o=r||i;o||F(e,t,n)})}function F(e,t,n){var r=t.__JACO_IFRAME_ID,i={windowId:r,parentWindowId:n,window:t.contentWindow};e.state.iframeStates[r]=i,H(t)?(t.contentWindow.__JACO_IFRAME_OBSERVED=!0,t.contentWindow.JacoRecorder=e.state.mainFrame.window.JacoRecorder,i.rootElement=t.contentDocument,k(e,i)):(e.state.crossOriginWindowsToIFrameIdMap.set(t.contentWindow,r),V(e,t.contentWindow,r))}function B(e,t){var n=t.__JACO_IFRAME_ID;if(e.state.observerManagers[n]&&(e.state.observerManagers[n].stop(),delete e.state.observerManagers[n]),e.state.iframeStates[n]){var r=e.state.iframeStates[n];e.state.crossOriginWindowsToIFrameIdMap["delete"](r.window),r.nodeMap&&r.nodeMap.clear(),delete e.state.iframeStates[n]}}function W(e){return e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement&&"about:blank"!=e.contentWindow.location.href}function X(e){return e.contentWindow}function z(e){return"IFRAME"===e.tagName}function H(e){try{var t=e.contentDocument||e.contentWindow.document}catch(n){return!1}return!!t}function q(e,t,n){if(G(e,n.action)){var r=y.build(n,t.windowId,t.parentWindowId);M(e,r)}}function G(e,t){if(e.state.untrackedEvents.indexOf(t)>-1)return!1;return!0}function Y(e){var t=this.state.mainFrame.windowId,n=y.build(e,t,null);M(this,n)}function Q(e,t){return w.newPageEvents(e,t.window,t.nodeMap,t.rootElement,b())}function J(e,t){var n={id:e.session.id,startTime:e.session.startTime,isNewSession:e.isNewSession,sessionUrl:g(e.session.id),providedId:t};return n}function K(e,t,n){var r=$(e,t);Z(e,r,n)}function $(e,t){var n=b(),r=n-e.state.lastBatchTime;return e.state.lastBatchTime=n,{uid:e.state.uid,sessionId:e.state.session.id,apiToken:e.state.apiToken,sessionStartTime:e.state.session.startTime.toString(),eventsUint8Array:t,batchDelta:r.toString()}}function Z(e,t,n){T.sendMessageToServer(e,t,n)}function ee(e){var t=e.state.eventsQueueWatcher.flushSync(e.state.eventsQueue).filter(te);if(t.length>0){var n=$(e,t),r=re(n);try{window.localStorage.setItem("__jaco."+b(),r)}catch(i){var o={};i.code===A||i.code===I||i.message.toLowerCase().indexOf(R)>-1||u(e.state,i,o),T.sendMessageToServer(e,n)}}}function te(e){return e.buffer.byteLength>0}function ne(e){Object.keys(localStorage).forEach(function(t){if("__jaco"===t.split(".")[0]){var n=localStorage.getItem(t);if(localStorage.removeItem(t),n){var r=oe(n);T.sendMessageToServer(e,r)}}})}function re(e){return JSON.stringify(e,function(e,t){if("eventsUint8Array"===e)return t.map(ie);return t})}function ie(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function oe(e){return JSON.parse(e,function(e,t){if("eventsUint8Array"===e)return t.map(function(e){return new Uint8Array(e)});return t})}function ae(e,t,n){u(t.state,n)}t.exports=x},{105:105,106:106,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,119:119,123:123,125:125,128:128,18:18,38:38,40:40,46:46,63:63,67:67,71:71,73:73,80:80,85:85,96:96}],110:[function(e,t,n){var r=e(139),i=e(107);t.exports=function(e,t,n,o){var a,s=e.state.identityStorage.getProvidedId(e.state.apiToken),u=r(t),c=""+t;u?c.length<1||c.length>100?a="Identify: user id should be between 1 and 100 characters":n?s&&s!==c&&(a="Identify: Already identified with "+s):a="Identify: Please call init before calling identify":a="Identify: invalid user id, expected 'String', received "+Object.prototype.toString.call(t);var l={isString:""+u,userId:""+t,oldId:""+s,errorMessage:""+a};if(i(e,"jaco-identify",l),a){var d=new Error(a);return o(d)}return e.state.identityStorage.setProvidedId(t,e.state.apiToken),o()}},{107:107,139:139}],111:[function(e,t,n){var r=e(21).getGUID,i=e(77),o=e(72),a=e(1),s=e(67),u=e(18).getTimestamp,c=e(80),l=e(20),d=e(13),f=e(39),p=e(26),h=e(121);function g(e){return 403===e.status}t.exports=function(e,t,n,o){var u=r();if(e.state.apiToken=t,e.state.identityStorage=n.identityStorage||s,e.state.config=n,n.crossOriginIFrame)v(e,n,o);else{var c=b(e.state),l=JSON.stringify(c);function d(t,n,r){_(t,n,{client:e,retryCount:r,initRequestId:u},o)}i(a.init,l,{shouldDisableRetryPredicate:g,rapiUrl:n.rapiUrl},d)}};function v(e,t,n){var r=t.allowedOrigin||"*";e.state.mainFrame.window.parent.postMessage({type:"request-init-cross-origin-iframe"},r),e.state.mainFrame.window.addEventListener("message",function(t){if("*"!==r&&t.origin!==r)return;var i=t.data.data,o=t.data.type;"init-cross-origin-iframe"===o&&(e.state.mainFrame.windowId=i.iframeId,e.state.mainFrame.parentWindowId=i.parentWindowId,m(e),e.__onInitDone(e,i.initResponse,n))})}function m(e){e.state.worker=c.start(function(t){e.__onWorkerError(e.state.worker,e,t)})}function _(e,t,n,r){var i,a=n.client,s=n.retryCount,u=n.initRequestId;if(e&&403===e.status)i="JacoRecorder: you're unauthorized to record this domain",r(new Error(i)),p.log(i);else if(e)o(a.state,e,{extraInformation:{errMessage:"failed to init session and retry stopped",retryCount:s,initRequestId:u}}),r(e);else{var c=JSON.parse(t);if(429===c.internalHttpStatusCode)return i="JacoRecorder: Rate limit exceeded",r();s>0&&o(a.state,new Error("init started with retries"),{extraInformation:{errMessage:"init started with retries",retryCount:s,initRequestId:u}}),m(a),a.__onInitDone(a,c,r)}}function y(e){if("none"===s.getReferer())return null;return s.getReferer()?s.getReferer():e.mainFrame.window.document.referrer}function b(e){var t=e.identityStorage.getUid();return t&&"undefined"!==t||(t=w(),e.identityStorage.setUid(t)),{apiToken:e.apiToken,uid:t,clientVersion:h,viewportWidth:e.mainFrame.window.innerWidth,viewportHeight:e.mainFrame.window.innerHeight,screenWidth:e.mainFrame.window.screen.width,screenHeight:e.mainFrame.window.screen.height,timestamp:u(),hostname:e.mainFrame.window.location.hostname,referer:y(e),untrackedEvents:d(f)?[]:l()}}function w(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}},{1:1,121:121,13:13,18:18,20:20,21:21,26:26,39:39,67:67,72:72,77:77,80:80}],112:[function(e,t,n){t.exports=function(e,t){e.stopRecording(e,r(t,e))};function r(e,t){return function(){t.state.identityStorage.removeUid(),t.state.identityStorage.removeProvidedId(t.state.apiToken),e()}}},{}],113:[function(e,t,n){var r=e(42),i=e(1),o=e(118);t.exports=function(e,t){return o(e,a(t))};function a(e){return function(t){var n=t.state.apiToken,o=t.state.session.id,a=i.sessionAttributes(o)+"?apiToken="+n;r.getRequest(a,e)}}},{1:1,118:118,42:42}],114:[function(e,t,n){var r=e(42),i=e(1),o=e(118);t.exports=function(e,t,n){return o(e,a(t,n))};function a(e,t){return function(n){var o=n.state.apiToken,a=n.state.session.id;e.apiToken=o;var s=i.sessionAttributes(a),u=JSON.stringify(e);r.postRequest(s,u,t)}}},{1:1,118:118,42:42}],115:[function(e,t,n){var r=e(118);t.exports=function(e){return r(e,i)};function i(e){if(e.state.isRecording)return this;e.state.isRecording=!0,e.__startQueueWatchers(e),e.__observeWindow(e,e.state.mainFrame)}},{118:118}],116:[function(e,t,n){var r=e(118);t.exports=function(e,t){return r(e,i(t))};function i(e){return function(t){if(t.state.isRecording){t.state.isRecording=!1;for(var n in t.state.observerManagers){var r=t.state.observerManagers[n];r.stop()}}if(e instanceof Function)return e()}}},{118:118}],117:[function(e,t,n){var r=e(139),i=e(107),o=e(78),a=e(73),s=e(72);t.exports=function(e,t,n,u,c){var l,d,f,p=""+t,h="TrackEvent: track failed - ";if(u?r(t)?p.length<1?l=h+"event name can't be empty":p.length>200?l=h+"event name's length should be no longer than 200 characters":n&&"[object Object]"!==Object.prototype.toString.call(n)?l=h+"event's properties are optional but if passed - must be an object":n&&Object.keys(n).length>500?l=h+"event can have up to 500 data parameters":(f=o(n),d=f.warning,f.error&&(l=h+f.error)):l=h+"event name must be a string":l=h+"please call init before calling trackEvent",l){var g=new Error(l);return g.requestBody=JSON.stringify(n),a(e.state,g),s(e.state,g),c(g)}return i(e,p,f.validatedData),d?c(new Error(d)):c()}},{107:107,139:139,72:72,73:73,78:78}],118:[function(e,t,n){var r=e(73);t.exports=function(e,t,n){if(e.state.isInitialized)return t.apply(e,[e]);n?r(e.state,new Error(t+" called before init, illegal")):e.state.waitingForInit.push([t,[e]])}},{73:73}],119:[function(e,t,n){var r,i=e(21).getGUID,o=window.sessionStorage,a="__jacoWindowId",s="__jacoUsedWindowId_";function u(){if(r)return r;var e=l();return e&&!h(e)||(e=i(),d(e)),f(e),window.addEventListener("beforeunload",function(){p(e)}),r=e,e}function c(){return i()}function l(){return o.getItem(a)}function d(e){v(o,a,e)}function f(e){var t=g(e);v(localStorage,t,!0)}function p(e){var t=g(e);localStorage.removeItem(t)}function h(e){var t=g(e);return!!localStorage.getItem(t)}function g(e){return s+"__"+e}function v(e,t,n){try{e.setItem(t,n)}catch(r){return!1}return!0}n.getWindowId=u,n.getIFrameId=c},{21:21}],120:[function(e,t,n){var r=e(21).getGUID,i=e(43),o=e(125),a=e(128),s=e(70),u=["customEvent","mouseClick","input","url","error"],c={};function l(t){var n=i(e(66));return n.addEventListener("message",function(e){var t=e.data.messageId,n=e.data.error;f(t)&&(p(n,t),delete c[t])}),n.addEventListener("error",t),n}function d(e,t,n,i,o){var a=r();c[a]=o,e.postMessage({command:t,params:n,messageId:a},i)}function f(e){return!!c[e]}function p(e,t){var n=c[t];n(e)}function h(e,t,n,r,i){var o=s.isExperimentSupported(e,s.experimentNames.NO_TRANSFERABLE_LIST),a=o?[]:t.eventsUint8Array.filter(g).map(function(e){return e.buffer});d(e.state.worker,"sendMessage",[t,n,r],a,i)}function g(e){var t=o.fromBuffer(e).action(),n=a(t);return u.indexOf(n)===-1}t.exports={start:l,sendToWorker:d,sendMessage:h}},{125:125,128:128,21:21,43:43,66:66,70:70}],121:[function(e,t,n){t.exports="4.0"},{}],122:[function(e,t,n){var r=r||{};r.DOMNodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLE_NODE:1e3,SVG_NODE:1001,IMG_NODE:1003,LINK_NODE:1004,VIDEO_NODE:1005,SOURCE_NODE:1006,IFRAME_NODE:1007,INPUT_NODE:1008,FORM_NODE:1009},r.KeyValue=function(){this.bb=null,this.bb_pos=0},r.KeyValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.KeyValue.getRootAsKeyValue=function(e,t){return(t||new r.KeyValue).__init(e.readInt32(e.position())+e.position(),e)},r.KeyValue.prototype.key=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},r.KeyValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},r.KeyValue.startKeyValue=function(e){e.startObject(2)},r.KeyValue.addKey=function(e,t){e.addFieldOffset(0,t,0)},r.KeyValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},r.KeyValue.endKeyValue=function(e){var t=e.endObject();return e.requiredField(t,4),e.requiredField(t,6),t},r.Vec3=function(){this.bb=null,this.bb_pos=0},r.Vec3.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.Vec3.prototype.x=function(){return this.bb.readFloat32(this.bb_pos)},r.Vec3.prototype.y=function(){return this.bb.readFloat32(this.bb_pos+4)},r.Vec3.prototype.z=function(){return this.bb.readFloat32(this.bb_pos+8)},r.Vec3.createVec3=function(e,t,n,r){return e.prep(4,12),e.writeFloat32(r),e.writeFloat32(n),e.writeFloat32(t),e.offset()},r.DOMNode=function(){this.bb=null,this.bb_pos=0},r.DOMNode.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.DOMNode.getRootAsDOMNode=function(e,t){return(t||new r.DOMNode).__init(e.readInt32(e.position())+e.position(),e)},r.DOMNode.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?(e||new r.DOMNodeData).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},r.DOMNode.prototype.children=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new r.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},r.DOMNode.prototype.childrenLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},r.DOMNode.startDOMNode=function(e){e.startObject(2)},r.DOMNode.addData=function(e,t){e.addFieldOffset(0,t,0)},r.DOMNode.addChildren=function(e,t){e.addFieldOffset(1,t,0)},r.DOMNode.createChildrenVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.DOMNode.startChildrenVector=function(e,t){e.startVector(4,t,4)},r.DOMNode.endDOMNode=function(e){var t=e.endObject();return t},r.DOMNode.finishDOMNodeBuffer=function(e,t){e.finish(t)},r.DOMNodeData=function(){this.bb=null,this.bb_pos=0},r.DOMNodeData.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.DOMNodeData.getRootAsDOMNodeData=function(e,t){return(t||new r.DOMNodeData).__init(e.readInt32(e.position())+e.position(),e)},r.DOMNodeData.prototype.nodeId=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0},r.DOMNodeData.prototype.attributes=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},r.DOMNodeData.prototype.attributesLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},r.DOMNodeData.prototype.style=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},r.DOMNodeData.prototype.styleLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},r.DOMNodeData.prototype.tagName=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},r.DOMNodeData.prototype.isCensored=function(){var e=this.bb.__offset(this.bb_pos,12);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},r.DOMNodeData.prototype.ns=function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null},r.DOMNodeData.prototype.extraData=function(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null},r.DOMNodeData.prototype.extraDataLength=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0},r.DOMNodeData.prototype.scrollPosition=function(e){var t=this.bb.__offset(this.bb_pos,18);return t?(e||new r.Vec3).__init(this.bb_pos+t,this.bb):null},r.DOMNodeData.prototype.nodeType=function(){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readInt16(this.bb_pos+e):r.DOMNodeType.ELEMENT_NODE},r.DOMNodeData.prototype.parentNodeId=function(){var e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt32(this.bb_pos+e):0},r.DOMNodeData.prototype.previousSiblingId=function(){var e=this.bb.__offset(this.bb_pos,24);return e?this.bb.readInt32(this.bb_pos+e):0},r.DOMNodeData.prototype.shadowRoot=function(e){var t=this.bb.__offset(this.bb_pos,26);return t?(e||new r.DOMNode).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},r.DOMNodeData.startDOMNodeData=function(e){e.startObject(12)},r.DOMNodeData.addNodeId=function(e,t){e.addFieldInt32(0,t,0)},r.DOMNodeData.addAttributes=function(e,t){e.addFieldOffset(1,t,0)},r.DOMNodeData.createAttributesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.DOMNodeData.startAttributesVector=function(e,t){e.startVector(4,t,4)},r.DOMNodeData.addStyle=function(e,t){e.addFieldOffset(2,t,0)},r.DOMNodeData.createStyleVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.DOMNodeData.startStyleVector=function(e,t){e.startVector(4,t,4)},r.DOMNodeData.addTagName=function(e,t){e.addFieldOffset(3,t,0)},r.DOMNodeData.addIsCensored=function(e,t){e.addFieldInt8(4,+t,0)},r.DOMNodeData.addNs=function(e,t){e.addFieldOffset(5,t,0)},r.DOMNodeData.addExtraData=function(e,t){e.addFieldOffset(6,t,0)},r.DOMNodeData.createExtraDataVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.DOMNodeData.startExtraDataVector=function(e,t){e.startVector(4,t,4)},r.DOMNodeData.addScrollPosition=function(e,t){e.addFieldStruct(7,t,0)},r.DOMNodeData.addNodeType=function(e,t){e.addFieldInt16(8,t,r.DOMNodeType.ELEMENT_NODE)},r.DOMNodeData.addParentNodeId=function(e,t){e.addFieldInt32(9,t,0)},r.DOMNodeData.addPreviousSiblingId=function(e,t){e.addFieldInt32(10,t,0)},r.DOMNodeData.addShadowRoot=function(e,t){e.addFieldOffset(11,t,0)},r.DOMNodeData.endDOMNodeData=function(e){var t=e.endObject();return t},n.Serializer=r},{}],123:[function(e,t,n){var r=r||{};r.Action={CSS_RULE_SNAPSHOT:0,FOCUS:1,FOCUS_IN:2,FOCUS_OUT:3,MOUSE_CLICK:4,MOUSE_OVER:5,MOUSE_POSITION:6,MUTATION_EVENT:7,VIDEO_PAUSE:8,VIDEO_PLAY:9,VIDEO_TIME_UPDATE:10,VIDEO_VOLUME_CHANGE:11,INPUT:12,INPUT_PROGRAMMATIC_CHANGE:13,SCROLL:14,SELECTION:15,URL_CHANGED:16,VISIBILITY:17,WINDOW_CLOSE:18,VIEWPORT_CHANGED:19,FINISHED_SNAPSHOT:20,DOM_SNAPSHOT:21,PAGE_SNAPSHOT_EVENTS:22,CANVAS_UPDATE:23,ERROR:24,ERROR_OUR:25,IDENTIFY:26,SET_USER_INFO:27,TOUCH_CANCEL:28,TOUCH_END:29,TOUCH_MOVE:30,TOUCH_START:31,PRESS:32,DOUBLE_TAP:33,SWIPE_RIGHT:34,SWIPE_LEFT:35,SWIPE_DOWN:36,SWIPE_UP:37,IDLE_TIME:38,CUSTOM_EVENT:39},r.DataType={NONE:0,StringList:1,Serializer_DOMNode:2,MutationData:3},r.StringList=function(){this.bb=null,this.bb_pos=0},r.StringList.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.StringList.getRootAsStringList=function(e,t){return(t||new r.StringList).__init(e.readInt32(e.position())+e.position(),e)},r.StringList.prototype.values=function(e,t){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null},r.StringList.prototype.valuesLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},r.StringList.startStringList=function(e){e.startObject(1)},r.StringList.addValues=function(e,t){e.addFieldOffset(0,t,0)},r.StringList.createValuesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.StringList.startValuesVector=function(e,t){e.startVector(4,t,4)},r.StringList.endStringList=function(e){var t=e.endObject();return t},r.MutationData=function(){this.bb=null,this.bb_pos=0},r.MutationData.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.MutationData.getRootAsMutationData=function(e,t){return(t||new r.MutationData).__init(e.readInt32(e.position())+e.position(),e)},r.MutationData.prototype.removed=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},r.MutationData.prototype.removedLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},r.MutationData.prototype.removedArray=function(){var e=this.bb.__offset(this.bb_pos,4);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},r.MutationData.prototype.moved=function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new r.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},r.MutationData.prototype.movedLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},r.MutationData.prototype.attributes=function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new r.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},r.MutationData.prototype.attributesLength=function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0},r.MutationData.prototype.text=function(e,t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new r.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},r.MutationData.prototype.textLength=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0},r.MutationData.startMutationData=function(e){e.startObject(4)},r.MutationData.addRemoved=function(e,t){e.addFieldOffset(0,t,0)},r.MutationData.createRemovedVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()},r.MutationData.startRemovedVector=function(e,t){e.startVector(4,t,4)},r.MutationData.addMoved=function(e,t){e.addFieldOffset(1,t,0)},r.MutationData.createMovedVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.MutationData.startMovedVector=function(e,t){e.startVector(4,t,4)},r.MutationData.addAttributes=function(e,t){e.addFieldOffset(2,t,0)},r.MutationData.createAttributesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.MutationData.startAttributesVector=function(e,t){e.startVector(4,t,4)},r.MutationData.addText=function(e,t){e.addFieldOffset(3,t,0)},r.MutationData.createTextVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.MutationData.startTextVector=function(e,t){e.startVector(4,t,4)},r.MutationData.endMutationData=function(e){var t=e.endObject();return t},r.Event=function(){this.bb=null,this.bb_pos=0},r.Event.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.Event.getRootAsEvent=function(e,t){return(t||new r.Event).__init(e.readInt32(e.position())+e.position(),e)},r.Event.prototype.action=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):r.Action.CSS_RULE_SNAPSHOT},r.Event.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):r.DataType.NONE},r.Event.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null},r.Event.prototype.shouldCensor=function(){var e=this.bb.__offset(this.bb_pos,10);return!!e&&!!this.bb.readInt8(this.bb_pos+e)},r.Event.prototype.windowId=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null},r.Event.prototype.sequence=function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},r.Event.prototype.sequenceIndex=function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readInt32(this.bb_pos+e):0},r.Event.prototype.parentWindowId=function(e){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__string(this.bb_pos+t,e):null},r.Event.startEvent=function(e){e.startObject(8)},r.Event.addAction=function(e,t){e.addFieldInt16(0,t,r.Action.CSS_RULE_SNAPSHOT)},r.Event.addDataType=function(e,t){e.addFieldInt8(1,t,r.DataType.NONE)},r.Event.addData=function(e,t){e.addFieldOffset(2,t,0)},r.Event.addShouldCensor=function(e,t){e.addFieldInt8(3,+t,0)},r.Event.addWindowId=function(e,t){e.addFieldOffset(4,t,0)},r.Event.addSequence=function(e,t){e.addFieldInt64(5,t,e.createLong(0,0))},r.Event.addSequenceIndex=function(e,t){e.addFieldInt32(6,t,0)},r.Event.addParentWindowId=function(e,t){e.addFieldOffset(7,t,0)},r.Event.endEvent=function(e){var t=e.endObject();return e.requiredField(t,8),e.requiredField(t,12),t},r.Event.finishEventBuffer=function(e,t){e.finish(t)},n.Serializer=r},{}],124:[function(e,t,n){var r=e(122).Serializer,i=e(137),o={};o.build=function(e,t){var n=c(e,t),i=r.DOMNode.createChildrenVector(e,n),o=u(e,t);return r.DOMNode.startDOMNode(e),r.DOMNode.addData(e,o),r.DOMNode.addChildren(e,i),r.DOMNode.endDOMNode(e)};function a(e,t){return t.reduce(function(t,n){var i=e.createString(n[0]),o=e.createString(n[1]);return r.KeyValue.startKeyValue(e),r.KeyValue.addKey(e,i),r.KeyValue.addValue(e,o),t.push(r.KeyValue.endKeyValue(e)),t},[])}function s(e,t){return t.reduce(function(t,n){var r;return r=n&&n.constructor===Array||null===n?JSON.stringify(n):n.toString(),t.push(e.createString(r)),t},[])}function u(e,t){var n,u,c=t[2],l=e.createString(c[2]||""),d=e.createString(c[3]||"");c[6]?(n=parseInt(c[6][0],10),u=parseInt(c[6][1],10)):(n=0,u=0);var f,p=c[0],h=p.filter(function(e){return i(e[0])}),g=a(e,h),v=r.DOMNodeData.createAttributesVector(e,g),m=a(e,c[1]),_=r.DOMNodeData.createStyleVector(e,m),y=s(e,c[5]),b=r.DOMNodeData.createExtraDataVector(e,y);return t[8]&&(f=o.build(e,t[8])),r.DOMNodeData.startDOMNodeData(e),r.DOMNodeData.addNodeId(e,t[0]),r.DOMNodeData.addNodeType(e,t[1]),r.DOMNodeData.addAttributes(e,v),r.DOMNodeData.addIsCensored(e,t[3]),r.DOMNodeData.addStyle(e,_),r.DOMNodeData.addTagName(e,l),r.DOMNodeData.addNs(e,d),r.DOMNodeData.addExtraData(e,b),r.DOMNodeData.addScrollPosition(e,r.Vec3.createVec3(e,n||0,u||0,0)),r.DOMNodeData.addPreviousSiblingId(e,t[6]),r.DOMNodeData.addParentNodeId(e,t[7]),f&&r.DOMNodeData.addShadowRoot(e,f),r.DOMNodeData.endDOMNodeData(e)}function c(e,t){var n=t[5];return n.reduce(function(t,n){return t.push(o.build(e,n)),t},[])}t.exports=o},{122:122,137:137}],125:[function(e,t,n){var r=e(136).flatbuffers,i=e(123).Serializer,o=e(131),a=e(132),s={};s.getBuilder=function(){return new r.Builder(0)},s.build=function(e,t,n){return o(u(e),e,t,n)},s.buildFromEventAttributes=function(e){var t={windowId:e.window_id,parentWindowId:e.parent_window_id,sequence:e.sequence,sequenceIndex:e.sequence_index,action:e.action,data:e.data,dataType:a(e.action)};return s.build(t)},s.fromBuffer=function(e){var t=new r.ByteBuffer(e);return i.Event.getRootAsEvent(t)};function u(e){if(e.data.builder)return e.data.builder;return new r.Builder(0)}t.exports=s},{123:123,131:131,132:132,136:136}],126:[function(e,t,n){var r=e(123).Serializer,i=e(124),o=e(130),a={};a.build=function(e,t,n,i,o){var a=r.MutationData,u=a.createRemovedVector(e,t),c=i.map(function(t){var n=e.createString(t[0].toString()),i=e.createString(""+t[1]),o=e.createString(""+t[2]),a=r.StringList.createValuesVector(e,[n,i,o]);return s(e,a)}),l=o.map(function(t){var n=e.createString(t[0].toString()),i=e.createString(t[1]||""),o=r.StringList.createValuesVector(e,[n,i]);return s(e,o)}),d=a.createTextVector(e,l),f=a.createAttributesVector(e,c),p=a.createMovedVector(e,n);a.startMutationData(e),a.addRemoved(e,u),a.addAttributes(e,f),a.addText(e,d),a.addMoved(e,p);var h=a.endMutationData(e);return{builder:e,offset:h}};function s(e,t){return r.StringList.startStringList(e),r.StringList.addValues(e,t),r.StringList.endStringList(e)}a.buildFromDataArray=function(e,t){var n=t[1].reduce(function(t,n){return t.push(i.build(e,n)),t},[]),a=r.MutationData.createRemovedVector(e,t[0]),s=r.MutationData.createMovedVector(e,n),u=r.MutationData.createAttributesVector(e,t[2].map(function(t){return o(e,t)})),c=r.MutationData.createTextVector(e,t[3].map(function(t){return o(e,t)}));return r.MutationData.startMutationData(e),r.MutationData.addRemoved(e,a),r.MutationData.addMoved(e,s),r.MutationData.addAttributes(e,u),r.MutationData.addText(e,c),r.MutationData.endMutationData(e)},t.exports=a},{123:123,124:124,130:130}],127:[function(e,t,n){var r=e(136).flatbuffers,i=e(135).RecordEvent,o=e(134),a=e(140),s={},u=4;s.build=function(e,t){var n=new r.Builder(0),s=e.eventsUint8Array.map(function(e){var r=t?a.gzip(e,{level:u,to:"string"}):JSON.stringify(o(e));return n.createString(r)}),c=i.createMessagesVector(n,s),l=n.createString(e.uid),d=n.createString(e.sessionId),f=n.createString(e.apiToken),p=n.createString(e.sessionStartTime),h=n.createString(e.batchDelta);return i.startRecordEvent(n),i.addUid(n,l),i.addSessionId(n,d),i.addApiToken(n,f),i.addSessionStartTime(n,p),i.addBatchDelta(n,h),i.addMessages(n,c),i.finishRecordEventBuffer(n,i.endRecordEvent(n)),n},s.fromBuffer=function(e){var t=new r.ByteBuffer(e);return i.getRootAsRecordEvent(t)},t.exports=s},{134:134,135:135,136:136,140:140}],128:[function(e,t,n){var r=e(123).Serializer.Action,i={};i[i.CSS_RULE_SNAPSHOT=r.CSS_RULE_SNAPSHOT]="CSS_RULE_SNAPSHOT",i[i.focus=r.FOCUS]="focus",i[i.focusIn=r.FOCUS_IN]="focusIn",i[i.focusOut=r.FOCUS_OUT]="focusOut",i[i.mouseClick=r.MOUSE_CLICK]="mouseClick",i[i.mouseOver=r.MOUSE_OVER]="mouseOver",i[i.mousePosition=r.MOUSE_POSITION]="mousePosition",i[i.mutationEvent=r.MUTATION_EVENT]="mutationEvent",i[i.videoPause=r.VIDEO_PAUSE]="videoPause",i[i.videoPlay=r.VIDEO_PLAY]="videoPlay",i[i.videoTimeUpdate=r.VIDEO_TIME_UPDATE]="videoTimeUpdate",i[i.videoVolumeChange=r.VIDEO_VOLUME_CHANGE]="videoVolumeChange",i[i.input=r.INPUT]="input",i[i.inputProgrammaticChange=r.INPUT_PROGRAMMATIC_CHANGE]="inputProgrammaticChange",i[i.scroll=r.SCROLL]="scroll",i[i.selection=r.SELECTION]="selection",i[i.url=r.URL_CHANGED]="url",i[i.visibility=r.VISIBILITY]="visibility",i[i.windowClose=r.WINDOW_CLOSE]="windowClose",i[i.viewport=r.VIEWPORT_CHANGED]="viewport",i[i.finishSnapshot=r.FINISHED_SNAPSHOT]="finishSnapshot",i[i.domSnapshot=r.DOM_SNAPSHOT]="domSnapshot",i[i.pageSnapshotEvents=r.PAGE_SNAPSHOT_EVENTS]="pageSnapshotEvents",i[i.canvasUpdate=r.CANVAS_UPDATE]="canvasUpdate",i[i.error=r.ERROR]="error",i[i.our_error=r.ERROR_OUR]="our_error",i[i.identify=r.IDENTIFY]="identify",i[i.setUserInfo=r.SET_USER_INFO]="setUserInfo",i[i.touchcancel=r.TOUCH_CANCEL]="touchcancel",i[i.touchend=r.TOUCH_END]="touchend",i[i.touchmove=r.TOUCH_MOVE]="touchmove",i[i.touchstart=r.TOUCH_START]="touchstart",
i[i.press=r.PRESS]="press",i[i.doubleTap=r.DOUBLE_TAP]="doubleTap",i[i.swipeRight=r.SWIPE_RIGHT]="swipeRight",i[i.swipeLeft=r.SWIPE_LEFT]="swipeLeft",i[i.swipeDown=r.SWIPE_DOWN]="swipeDown",i[i.swipeUp=r.SWIPE_UP]="swipeUp",i[i.idleTime=r.IDLE_TIME]="idleTime",i[i.customEvent=r.CUSTOM_EVENT]="customEvent",t.exports=function(e){return i[e]}},{123:123}],129:[function(e,t,n){var r=e(139),i=e(138);t.exports=function(e,t){for(var n=[],o=0,a=t.length;o<a;o++){var s,u=t[o];s=i(u)?"null":r(u)?u:JSON.stringify(u),s||("symbol"==typeof u?s=Symbol.keyFor(u):"function"==typeof u&&(s="")),n.push(e.createString(s))}return n}},{138:138,139:139}],130:[function(e,t,n){var r=e(123).Serializer,i=e(129);function o(e,t){var n=i(e,t),o=r.StringList.createValuesVector(e,n);return r.StringList.startStringList(e),r.StringList.addValues(e,o),r.StringList.endStringList(e)}t.exports=o},{123:123,129:129}],131:[function(e,t,n){var r=e(123).Serializer,i=e(124),o=e(126),a=e(132),s=e(133),u=e(128),c=e(139),l=e(130);function d(e,t,n){if(t.offset)return t.offset;var a;switch(n){case r.DataType.StringList:a=l(e,t);break;case r.DataType.Serializer_DOMNode:a=i.build(e,t);break;case r.DataType.MutationData:a=o.buildFromDataArray(e,t);break;default:a=null}return a}function f(e,t,n,i){var o=r.Event;n=t.windowId?t.windowId:n,i=t.parentWindowId?t.parentWindowId:i;var l,f=t.dataType?t.dataType:a(t.action),p=d(e,t.data,f),h=t.sequenceIndex;t.sequence?l=t.sequence:t.timestamp&&(l=t.timestamp);var g,v=e.createString(n);return i&&(g=e.createString(i)),o.startEvent(e),o.addAction(e,c(t.action)?u(t.action):t.action),o.addDataType(e,f),o.addData(e,p),o.addSequence(e,s(l)),o.addWindowId(e,v),i&&o.addParentWindowId(e,g),o.addSequenceIndex(e,h),o.addShouldCensor(e,t.shouldCensor),o.finishEventBuffer(e,o.endEvent(e)),e}t.exports=f},{123:123,124:124,126:126,128:128,130:130,132:132,133:133,139:139}],132:[function(e,t,n){var r=e(123).Serializer.DataType;t.exports=function(e){var t;switch(e){case"mutationEvent":t=r.MutationData;break;case"domSnapshot":t=r.Serializer_DOMNode;break;default:t=r.StringList}return t}},{123:123}],133:[function(e,t,n){var r=e(136).flatbuffers,i=65536,o=i*i,a=o*o,s=a/2;function u(e){if(e<=-s)return r.Long.create(0,-2147483648,!1);if(e+1>=s)return r.Long.create(-1,2147483647);return r.Long.create(e%o|0,e/o|0,!1)}t.exports=u},{136:136}],134:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{36:36}],135:[function(e,t,n){function r(){this.bb=null,this.bb_pos=0}r.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},r.getRootAsRecordEvent=function(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)},r.prototype.messages=function(e,t){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*e,t):null},r.prototype.messagesLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},r.prototype.uid=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},r.prototype.sessionId=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},r.prototype.apiToken=function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__string(this.bb_pos+t,e):null},r.prototype.sessionStartTime=function(e){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__string(this.bb_pos+t,e):null},r.prototype.batchDelta=function(e){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__string(this.bb_pos+t,e):null},r.startRecordEvent=function(e){e.startObject(6)},r.addMessages=function(e,t){e.addFieldOffset(0,t,0)},r.createMessagesVector=function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()},r.startMessagesVector=function(e,t){e.startVector(4,t,4)},r.addUid=function(e,t){e.addFieldOffset(1,t,0)},r.addSessionId=function(e,t){e.addFieldOffset(2,t,0)},r.addApiToken=function(e,t){e.addFieldOffset(3,t,0)},r.addSessionStartTime=function(e,t){e.addFieldOffset(4,t,0)},r.addBatchDelta=function(e,t){e.addFieldOffset(5,t,0)},r.endRecordEvent=function(e){var t=e.endObject();return t},r.finishRecordEventBuffer=function(e,t){e.finish(t)},n.RecordEvent=r},{}],136:[function(e,t,n){var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(e,t){this.low=0|e,this.high=0|t},r.Long.create=function(e,t){return 0==e&&0==t?r.Long.ZERO:new r.Long(e,t)},r.Long.prototype.toFloat64=function(){return this.low+4294967296*this.high},r.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(e){e||(e=1024),this.bb=r.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var n=~(this.bb.capacity()-this.space+t)+1&e-1;this.space<n+e+t;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},r.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},r.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},r.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},r.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},r.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},r.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},r.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},r.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},r.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},r.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},r.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},r.Builder.prototype.addFieldInt8=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))},r.Builder.prototype.addFieldInt16=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))},r.Builder.prototype.addFieldInt32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))},r.Builder.prototype.addFieldInt64=function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))},r.Builder.prototype.addFieldFloat32=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))},r.Builder.prototype.addFieldFloat64=function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))},r.Builder.prototype.addFieldOffset=function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))},r.Builder.prototype.addFieldStruct=function(e,t,n){t!=n&&(this.nested(t),this.slot(e))},r.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-t),i.bytes().set(e.bytes(),n-t),i},r.Builder.prototype.addOffset=function(e){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-e+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);var n=2;this.addInt16(e-this.object_start),this.addInt16((this.vtable_in_use+n)*r.SIZEOF_SHORT);var i=0;e:for(var t=0;t<this.vtables.length;t++){var o=this.bb.capacity()-this.vtables[t],a=this.space,s=this.bb.readInt16(o);if(s==this.bb.readInt16(a)){for(var u=r.SIZEOF_SHORT;u<s;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(a+u))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},r.Builder.prototype.finish=function(e,t){if(t){if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH),t.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var n=r.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(t.charCodeAt(n))}this.prep(this.minalign,r.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},r.Builder.prototype.requiredField=function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n),i=0!=this.bb.readInt16(r+t);if(!i)throw new Error("FlatBuffers: field "+t+" must be set")},r.Builder.prototype.startVector=function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(r.SIZEOF_INT,e*t),this.prep(n,e*t)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else for(var t=[],n=0;n<e.length;){var r,i=e.charCodeAt(n++);if(i<55296||i>=56320)r=i;else{var o=e.charCodeAt(n++);r=(i<<10)+o+-56613888}r<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var n=0,a=this.space,s=this.bb.bytes();n<t.length;n++)s[a++]=t[n];return this.endVector()},r.Builder.prototype.createLong=function(e,t){return r.Long.create(e,t)},r.ByteBuffer=function(e){this.bytes_=e,this.position_=0},r.ByteBuffer.allocate=function(e){return new r.ByteBuffer(new Uint8Array(e))},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(e){this.position_=e},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},r.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},r.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},r.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},r.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},r.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},r.ByteBuffer.prototype.readInt64=function(e){return new r.Long(this.readInt32(e),this.readInt32(e+4))},r.ByteBuffer.prototype.readUint64=function(e){return new r.Long(this.readUint32(e),this.readUint32(e+4))},r.ByteBuffer.prototype.readFloat32=function(e){return r.int32[0]=this.readInt32(e),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(e){return r.int32[r.isLittleEndian?0:1]=this.readInt32(e),r.int32[r.isLittleEndian?1:0]=this.readInt32(e+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},r.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},r.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},r.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},r.ByteBuffer.prototype.writeFloat32=function(e,t){r.float32[0]=t,this.writeInt32(e,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(e,t){r.float64[0]=t,this.writeInt32(e,r.int32[r.isLittleEndian?0:1]),this.writeInt32(e+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.__offset=function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0},r.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},r.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),i="",o=0;if(e+=r.SIZEOF_INT,t===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;o<n;){var a,s=this.readUint8(e+o++);if(s<192)a=s;else{var u=this.readUint8(e+o++);if(s<224)a=(31&s)<<6|63&u;else{var c=this.readUint8(e+o++);if(s<240)a=(15&s)<<12|(63&u)<<6|63&c;else{var l=this.readUint8(e+o++);a=(7&s)<<18|(63&u)<<12|(63&c)<<6|63&l}}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode((a>>10)+55296,(1023&a)+56320))}return i},r.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},r.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},r.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var t=0;t<r.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+r.SIZEOF_INT+t))return!1;return!0},r.ByteBuffer.prototype.createLong=function(e,t){return r.Long.create(e,t)},n.flatbuffers=r},{}],137:[function(e,t,n){function r(e){var t={"@role":!0,onabort:!0,onautocomplete:!0,onautocompleteerror:!0,onblur:!0,oncanplay:!0,oncanplaythrough:!0,oncancel:!0,onchange:!0,onclick:!0,onclose:!0,oncontextmenu:!0,oncuechange:!0,ondblclick:!0,ondrag:!0,ondragend:!0,ondragenter:!0,ondragexit:!0,ondragleave:!0,ondragover:!0,ondragstart:!0,ondragdrop:!0,ondrop:!0,ondurationchange:!0,onemptied:!0,onerror:!0,onended:!0,onfocus:!0,oninput:!0,oninvalid:!0,onkeydown:!0,onkeypress:!0,onkeyup:!0,onload:!0,onloadeddata:!0,onloadedmetadata:!0,onloadstart:!0,onmousedown:!0,onmousemove:!0,onmouseout:!0,onmouseover:!0,onmouseup:!0,onmouseleave:!0,onmousewheel:!0,onsubmit:!0,onpause:!0,onplay:!0,onplaying:!0,onprogress:!0,onratechange:!0,onreset:!0,onresize:!0,onscroll:!0,onseeked:!0,onseeking:!0,onselect:!0,onshow:!0,onsort:!0,onstalled:!0,onsuspend:!0,ontimeupdate:!0,ontoggle:!0,onvolumechange:!0,onwaiting:!0,onafterprint:!0,onbeforeprint:!0,onbeforeunload:!0,onhashchange:!0,onlanguagechange:!0,onmessage:!0,onoffline:!0,ononline:!0,onpagehide:!0,onpageshow:!0,onpopstate:!0,onrejectionhandled:!0,onstorage:!0,onunhandledrejection:!0,onunload:!0,integrity:!0},n="A-Za-z:_À-ÖØ-öø-ÿʻ-ˁͰ-ͽͿՙۥu06E6",r="\\-.0-9·̀-ͯ·‿-⁀",i=new RegExp("^["+n+"]["+n+r+"]*$");if(0===e.length||t[e.toLowerCase()])return!1;return i.test(e)}t.exports=r},{}],138:[function(e,t,n){function r(e){return null===e||void 0===e}t.exports=r},{}],139:[function(e,t,n){function r(e){return"string"==typeof e}t.exports=r},{}],140:[function(e,n,r){(function(t){!function(e){if("object"==typeof r&&"undefined"!=typeof n)n.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,i.pako=e()}}(function(){return function t(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){var t=n[s][1][e];return o(t?t:e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],2:[function(e,t,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var i=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,u=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(r=e.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(u),a=0,o=0;a<u;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(r=e.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,o,a,u=t||e.length,c=new Array(2*u);for(i=0,n=0;n<u;)if(o=e[n++],o<128)c[i++]=o;else if(a=s[o],a>4)c[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&e[n++],a--;a>1?c[i++]=65533:o<65536?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return r(c,i)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],4:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function i(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return e^-1}var o=r();t.exports=i},{}],5:[function(e,t,n){"use strict";function r(e,t){return e.msg=M[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(I.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){R._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function u(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,I.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=x(e.adler,t,i,n):2===e.state.wrap&&(e.adler=L(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function d(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,c=e.window,l=e.w_mask,d=e.prev,f=e.strstart+le,p=c[o+a-1],h=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,c[n+a]===h&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(r=le-(f-o),o=f-le,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[o+a-1],h=c[o+a]}}while((t=d[t&l])>u&&0!==--i);return a<=e.lookahead?a:e.lookahead}function f(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-de)){I.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do r=e.head[--t],e.head[t]=r>=a?r-a:0;while(--n);n=a,t=n;do r=e.prev[--t],e.prev[t]=r>=a?r-a:0;while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=ce)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ce-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function p(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===P)return be;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return be;if(e.strstart-e.block_start>=e.w_size-de&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===k?(s(e,!0),0===e.strm.avail_out?Ee:Se):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?be:be}function h(e,t){for(var n,r;;){if(e.lookahead<de){if(f(e),e.lookahead<de&&t===P)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=ce)if(r=R._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===k?(s(e,!0),0===e.strm.avail_out?Ee:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:we}function g(e,t){for(var n,r,i;;){if(e.lookahead<de){if(f(e),e.lookahead<de&&t===P)return be;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===q||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-ce,r=R._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return be}else if(e.match_available){if(r=R._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=R._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===k?(s(e,!0),0===e.strm.avail_out?Ee:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:we}function v(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=le){if(f(e),e.lookahead<=le&&t===P)return be;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+le;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=le-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=R._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===k?(s(e,!0),0===e.strm.avail_out?Ee:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:we}function m(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===P)return be;break}if(e.match_length=0,n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return be}return e.insert=0,t===k?(s(e,!0),0===e.strm.avail_out?Ee:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?be:we}function _(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=A[e.level].max_lazy,e.good_match=A[e.level].good_length,e.nice_match=A[e.level].nice_length,e.max_chain_length=A[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new I.Buf16(2*se),this.dyn_dtree=new I.Buf16(2*(2*oe+1)),this.bl_tree=new I.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new I.Buf16(ue+1),this.heap=new I.Buf16(2*ie+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new I.Buf16(2*ie+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=K,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?pe:_e,e.adler=2===t.wrap?0:1,t.last_flush=P,R._tr_init(t),F):r(e,W)}function E(e){var t=w(e);return t===F&&y(e.state),t}function S(e,t){return e&&e.state?2!==e.state.wrap?W:(e.state.gzhead=t,F):W}function O(e,t,n,i,o,a){if(!e)return W;var s=1;if(t===H&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>Z||n!==$||i<8||i>15||t<0||t>9||a<0||a>Q)return r(e,W);8===i&&(i=9);var u=new b;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ce-1)/ce),u.window=new I.Buf8(2*u.w_size),u.head=new I.Buf16(u.hash_size),u.prev=new I.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new I.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,E(e)}function C(e,t){return O(e,t,$,ee,te,J)}function N(e,t){var n,s,l,d;if(!e||!e.state||t>j||t<0)return e?r(e,W):W;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ye&&t!==k)return r(e,0===e.avail_out?z:W);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===pe)if(2===s.wrap)e.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=L(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=he):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),u(s,Oe),s.status=_e);else{var f=$+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=p<<6,0!==s.strstart&&(f|=fe),f+=31-f%31,s.status=_e,c(s,f),0!==s.strstart&&(c(s,e.adler>>>16),c(s,65535&e.adler)),e.adler=1}if(s.status===he)if(s.gzhead.extra){for(l=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>l&&(e.adler=L(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>l&&(e.adler=L(e.adler,s.pending_buf,s.pending-l,l)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.name){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(e.adler=L(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>l&&(e.adler=L(e.adler,s.pending_buf,s.pending-l,l)),0===d&&(s.gzindex=0,s.status=ve)}else s.status=ve;if(s.status===ve)if(s.gzhead.comment){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(e.adler=L(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>l&&(e.adler=L(e.adler,s.pending_buf,s.pending-l,l)),0===d&&(s.status=me)}else s.status=me;if(s.status===me&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(u(s,255&e.adler),u(s,e.adler>>8&255),e.adler=0,s.status=_e)):s.status=_e),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,F}else if(0===e.avail_in&&i(t)<=i(n)&&t!==k)return r(e,z);if(s.status===ye&&0!==e.avail_in)return r(e,z);if(0!==e.avail_in||0!==s.lookahead||t!==P&&s.status!==ye){var h=s.strategy===G?m(s,t):s.strategy===Y?v(s,t):A[s.level].func(s,t);if(h!==Ee&&h!==Se||(s.status=ye),h===be||h===Ee)return 0===e.avail_out&&(s.last_flush=-1),F;if(h===we&&(t===U?R._tr_align(s):t!==j&&(R._tr_stored_block(s,0,0,!1),
t===V&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,F}return t!==k?F:s.wrap<=0?B:(2===s.wrap?(u(s,255&e.adler),u(s,e.adler>>8&255),u(s,e.adler>>16&255),u(s,e.adler>>24&255),u(s,255&e.total_in),u(s,e.total_in>>8&255),u(s,e.total_in>>16&255),u(s,e.total_in>>24&255)):(c(s,e.adler>>>16),c(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?F:B)}function T(e){var t;return e&&e.state?(t=e.state.status,t!==pe&&t!==he&&t!==ge&&t!==ve&&t!==me&&t!==_e&&t!==ye?r(e,W):(e.state=null,t===_e?r(e,X):F)):W}function D(e,t){var n,r,i,a,s,u,c,l,d=t.length;if(!e||!e.state)return W;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==pe||n.lookahead)return W;for(1===a&&(e.adler=x(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new I.Buf8(n.w_size),I.arraySet(l,t,d-n.w_size,n.w_size,0),t=l,d=n.w_size),s=e.avail_in,u=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,f(n);n.lookahead>=ce;){r=n.strstart,i=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+ce-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--i);n.strstart=r,n.lookahead=ce-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=s,n.wrap=a,F}var A,I=e("../utils/common"),R=e("./trees"),x=e("./adler32"),L=e("./crc32"),M=e("./messages"),P=0,U=1,V=3,k=4,j=5,F=0,B=1,W=-2,X=-3,z=-5,H=-1,q=1,G=2,Y=3,Q=4,J=0,K=2,$=8,Z=9,ee=15,te=8,ne=29,re=256,ie=re+1+ne,oe=30,ae=19,se=2*ie+1,ue=15,ce=3,le=258,de=le+ce+1,fe=32,pe=42,he=69,ge=73,ve=91,me=103,_e=113,ye=666,be=1,we=2,Ee=3,Se=4,Oe=3;A=[new _(0,0,0,0,p),new _(4,4,8,4,h),new _(4,5,16,8,h),new _(4,6,32,32,h),new _(4,4,16,16,g),new _(8,16,32,32,g),new _(8,16,128,128,g),new _(8,32,128,256,g),new _(32,128,258,1024,g),new _(32,258,258,4096,g)],n.deflateInit=C,n.deflateInit2=O,n.deflateReset=E,n.deflateResetKeep=w,n.deflateSetHeader=S,n.deflate=N,n.deflateEnd=T,n.deflateSetDictionary=D,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?ue[e]:ue[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>Q-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>Q-e.bi_valid,e.bi_valid+=n-Q):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){u(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function f(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,g=0;for(o=0;o<=Y;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<G;n++)r=e.heap[n],o=u[2*u[2*r+1]+1]+1,o>h&&(o=h,g++),u[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=u[2*r],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==g){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)i=e.heap[--n],i>c||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function p(e,t,n){var r,i,o=new Array(Y+1),a=0;for(r=1;r<=Y;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=l(o[s]++,s))}}function h(){var e,t,n,r,o,a=new Array(Y+1);for(n=0,r=0;r<W-1;r++)for(le[r]=n,e=0;e<1<<te[r];e++)ce[n++]=r;for(ce[n-1]=r,o=0,r=0;r<16;r++)for(de[r]=o,e=0;e<1<<ne[r];e++)ue[o++]=r;for(o>>=7;r<H;r++)for(de[r]=o<<7,e=0;e<1<<ne[r]-7;e++)ue[256+o++]=r;for(t=0;t<=Y;t++)a[t]=0;for(e=0;e<=143;)ae[2*e+1]=8,e++,a[8]++;for(;e<=255;)ae[2*e+1]=9,e++,a[9]++;for(;e<=279;)ae[2*e+1]=7,e++,a[7]++;for(;e<=287;)ae[2*e+1]=8,e++,a[8]++;for(p(ae,z+1,a),e=0;e<H;e++)se[2*e+1]=5,se[2*e]=l(e,5);fe=new i(ae,te,X+1,z,Y),pe=new i(se,ne,0,H,Y),he=new i(new Array(0),re,0,q,J)}function g(e){var t;for(t=0;t<z;t++)e.dyn_ltree[2*t]=0;for(t=0;t<H;t++)e.dyn_dtree[2*t]=0;for(t=0;t<q;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*K]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function v(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m(e,t,n,r){v(e),r&&(s(e,n),s(e,~n)),x.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function _(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function y(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&_(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!_(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function b(e,t,n){var r,i,o,s,l=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?c(e,i,t):(o=ce[i],c(e,o+X+1,t),s=te[o],0!==s&&(i-=le[o],u(e,i,s)),r--,o=a(r),c(e,o,n),s=ne[o],0!==s&&(r-=de[o],u(e,r,s)));while(l<e.last_lit);c(e,K,t)}function w(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=G,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=c<2?++c:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)y(e,o,n);i=u;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,y(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],f(e,t),p(o,c,e.bl_count)}function E(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*$]++):s<=10?e.bl_tree[2*Z]++:e.bl_tree[2*ee]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function S(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,d=4;for(0===a&&(l=138,d=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<d){do c(e,i,e.bl_tree);while(0!==--s)}else 0!==i?(i!==o&&(c(e,i,e.bl_tree),s--),c(e,$,e.bl_tree),u(e,s-3,2)):s<=10?(c(e,Z,e.bl_tree),u(e,s-3,3)):(c(e,ee,e.bl_tree),u(e,s-11,7));s=0,o=i,0===a?(l=138,d=3):i===a?(l=6,d=3):(l=7,d=4)}}function O(e){var t;for(E(e,e.dyn_ltree,e.l_desc.max_code),E(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=q-1;t>=3&&0===e.bl_tree[2*ie[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function C(e,t,n,r){var i;for(u(e,t-257,5),u(e,n-1,5),u(e,r-4,4),i=0;i<r;i++)u(e,e.bl_tree[2*ie[i]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}function N(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return M;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return P;for(t=32;t<X;t++)if(0!==e.dyn_ltree[2*t])return P;return M}function T(e){ge||(h(),ge=!0),e.l_desc=new o(e.dyn_ltree,fe),e.d_desc=new o(e.dyn_dtree,pe),e.bl_desc=new o(e.bl_tree,he),e.bi_buf=0,e.bi_valid=0,g(e)}function D(e,t,n,r){u(e,(V<<1)+(r?1:0),3),m(e,t,n,!0)}function A(e){u(e,k<<1,3),c(e,K,ae),d(e)}function I(e,t,n,r){var i,o,a=0;e.level>0?(e.strm.data_type===U&&(e.strm.data_type=N(e)),w(e,e.l_desc),w(e,e.d_desc),a=O(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?D(e,t,n,r):e.strategy===L||o===i?(u(e,(k<<1)+(r?1:0),3),b(e,ae,se)):(u(e,(j<<1)+(r?1:0),3),C(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),b(e,e.dyn_ltree,e.dyn_dtree)),g(e),r&&v(e)}function R(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+X+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var x=e("../utils/common"),L=4,M=0,P=1,U=2,V=0,k=1,j=2,F=3,B=258,W=29,X=256,z=X+1+W,H=30,q=19,G=2*z+1,Y=15,Q=16,J=7,K=256,$=16,Z=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(z+2));r(ae);var se=new Array(2*H);r(se);var ue=new Array(oe);r(ue);var ce=new Array(B-F+1);r(ce);var le=new Array(W);r(le);var de=new Array(H);r(de);var fe,pe,he,ge=!1;n._tr_init=T,n._tr_stored_block=D,n._tr_flush_block=I,n._tr_tally=R,n._tr_align=A},{"../utils/common":1}],8:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],"/lib/deflate.js":[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=u.assign({level:_,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==g)throw new Error(l[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===f.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,i),n!==g)throw new Error(l[n]);this._dict_set=!0}}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,i(e,t)}function a(e,t){return t=t||{},t.gzip=!0,i(e,t)}var s=e("./zlib/deflate"),u=e("./utils/common"),c=e("./utils/strings"),l=e("./zlib/messages"),d=e("./zlib/zstream"),f=Object.prototype.toString,p=0,h=4,g=0,v=1,m=2,_=-1,y=0,b=8;r.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:t===!0?h:p,"string"==typeof e?i.input=c.string2buf(e):"[object ArrayBuffer]"===f.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),n=s.deflate(i,r),n!==v&&n!==g)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||r!==h&&r!==m)||("string"===this.options.to?this.onData(c.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==v);return r===h?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===g):r!==m||(this.onEnd(g),i.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=o,n.gzip=a},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[5])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(e,t,n){t.exports={_args:[[{raw:"wm-plugin-visions-recorder@1.16.0",scope:null,escapedName:"wm-plugin-visions-recorder",name:"wm-plugin-visions-recorder",rawSpec:"1.16.0",spec:"1.16.0",type:"version"},"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\c529914fda874189ad9a87f3d93411b9\\724"]],_from:"wm-plugin-visions-recorder@1.16.0",_id:"wm-plugin-visions-recorder@1.16.0",_inCache:!0,_location:"/wm-plugin-visions-recorder",_nodeVersion:"8.9.1",_npmUser:{},_npmVersion:"5.5.1",_phantomChildren:{},_requested:{raw:"wm-plugin-visions-recorder@1.16.0",scope:null,escapedName:"wm-plugin-visions-recorder",name:"wm-plugin-visions-recorder",rawSpec:"1.16.0",spec:"1.16.0",type:"version"},_requiredBy:["#USER","/"],_resolved:"https://npm.walkmedev.com/wm-plugin-visions-recorder/-/wm-plugin-visions-recorder-1.16.0.tgz",_shasum:"4be1f31e5ece6de9112835c1433bd9d3f34c6bf1",_shrinkwrap:null,_spec:"wm-plugin-visions-recorder@1.16.0",_where:"C:\\Users\\DEPLOY~1\\AppData\\Local\\Temp\\c529914fda874189ad9a87f3d93411b9\\724",dependencies:{"wm-lib-env-provider":"^1.0.0","wm-prelib-plugin-entry-manager":"^0.1.0"},description:"Visions recorder",devDependencies:{browserify:"^13.0.1",grunt:"~0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"1.2.0","grunt-concurrent":"^2.3.1","grunt-contrib-watch":"^0.6.1","grunt-git":"^0.3.7","grunt-karma":"0.10.1","grunt-release":"^0.13.0","grunt-serve":"^0.1.6","jasmine-core":"git://github.com/WalkMe/jasmine.git#v2.2.0-wm-0.0.1","jasmine-jquery":"git://github.com/WalkMe/jasmine-jquery.git#v2.1.0-wm-0.0.1",karma:"1.7.1","karma-browserify":"^5.0.5","karma-chrome-launcher":"0.1.8","karma-firefox-launcher":"0.1.4","karma-ie-launcher":"0.1.5","karma-jasmine":"git://github.com/WalkMe/karma-jasmine.git#v0.3.5-wm-0.0.4","karma-junit-reporter":"git://github.com/WalkMe/karma-junit-reporter.git#v0.2.2-wm-0.0.1","karma-phantomjs-launcher":"0.2.0","test-page-loader":"git://github.com/WalkMe/test-page-loader.git#wm-0.0.1",watchify:"^3.7.0","wm-plugins-core":"git+https://bf8d95b2f02f4f1847987ca081e9781f6949237f:x-oauth-basic@github.com/getjaco/wm-plugins-core.git#b4215c5c57a33262e3d82268e925c30efd67112e","wm-tests-helper":"^0.1.8"},dist:{integrity:"sha512-X2CTapNA8JyvAOBuNp+a0qjfqZYBu8o0ZCoV30bFgmDhQDs4ug16mfSGjHP4TnxlRoYf7i9pV/oocSEyYNo+sg==",shasum:"4be1f31e5ece6de9112835c1433bd9d3f34c6bf1",tarball:"https://npm.walkmedev.com/wm-plugin-visions-recorder/-/wm-plugin-visions-recorder-1.16.0.tgz"},legoDirectoryName:"C:\\Temp\\plugin-example",main:"src/main.js",name:"wm-plugin-visions-recorder",optionalDependencies:{},peerDependencies:{},pluginType:"delivery-general",publishConfig:{registry:"https://npm.walkmedev.com"},readme:"ERROR: No README data found!",readmeFilename:"README.md",scripts:{build:"grunt build",publish:"npm publish",test:"grunt test"},version:"1.16.0"}},{}],54:[function(e,t,n){var r=43200,i="wm-v-uid",o="wm-v-pid";function a(e){return{getUid:function(){return e.getData(i)},getProvidedId:function(t){return e.getData(o)},setUid:function(t,n){return e.saveData(i,t,r),!0},setProvidedId:function(t,n){return e.saveData(o,t,r)},removeUid:function(){return e.removeData(i)},removeProvidedId:function(){return e.removeData(o)}}}t.exports=a},{}],55:[function(e,t,n){function r(e){var t=e!==e.parent;if(t){var n=null;try{n=e.parent.document.body.innerHTML}catch(r){}return null===n}return!1}t.exports=r},{}],56:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=r().get("PrelibLogger");function o(){var e=Array().slice.call(arguments);e.unshift("[ VisionsRecorder ]"),i.write.apply(i,e)}n.log=o},{"wm-prelib-plugin-entry-manager":59}],57:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").createPluginEntry;t.exports=r(function(t){var n=e("./visions_recorder_plugin").VisionsPlugin;t(new n)})},{"./visions_recorder_plugin":58,"wm-prelib-plugin-entry-manager":59}],58:[function(e,t,n){var r=e("wm-prelib-plugin-entry-manager").getCtx,i=e("./logger").log,o=e("../package"),a=(e("wm-lib-env-provider")["default"],e("./get_wm_identity_storage")),s=e("./is_cross_origin_iframe"),u=["name","type","role","status","info"];e("../dist-no-ugly/recorder_v2");function c(){var e=r();this._jacoInitializedPromise=e.get("PromiseManager").defer(),this._jacoIdentifiedPromise=e.get("PromiseManager").defer(),w(e),e.register("Jaco").asInstance(S(this._jacoInitializedPromise))}c.prototype.run=function(){var e=r();if(O())return void i("Visions will be loaded only in publish mode (not in editor and not in preview)");if(window.JacoRecorder.state&&window.JacoRecorder.state.recordingDisabled)return void i("recording is disabled");var t=p();if(t){var n=this._jacoInitializedPromise,o=this._jacoIdentifiedPromise,u=l();d(o),e.get("EventsListener").once("StorageLoaded",function(){var r=e.get("ClientStorageManager"),c=a(r),l=h();i("rapiUrl:"+l);var d=s(window),p={identityStorage:c,crossOriginIFrame:d,rapiUrl:l};f(t,p,function(e,t){e?n.reject(e):n.resolve(t)}),u.promise.then(function(){i("first event arrived, start collecting events");var t=e.get("SiteConfigManager").get().Settings.analyticsProperties;return t=t||[],t.forEach(y.bind(null,e)),m(v(e)).promise.then(function(){i("visions identify done"),o.resolve()})["catch"](function(e){i("Visions identify fail",e),o.reject()})})})}else i("Visions API key is not available")};function l(){var e=r().get("PromiseManager").defer();return wmjQuery(window._walkmeInternals).one("AnalyticsEventSent",function(){e.resolve()}),e}function d(e){var t=function(t,n){i("wm event received",n),n.handled=!0,e.promise.then(function(){i("wm event send",n),_(n)})};wmjQuery(window._walkmeInternals).bind("AnalyticsEventSent",t),wmjQuery(window._walkmeInternals).bind("removeWalkMe",function(e,n){i("remove walkMe raised"),wmjQuery(window._walkmeInternals).unbind("AnalyticsEventSent",t)})}function f(e,t,n){i("init:"+e),window.JacoRecorder.init(e,t,n),i("post init")}function p(){return g("VisionsGuid")}function h(){return g("RapiServer")}function g(e){var t=wmSnippet.getSettingsFile();if(t)return t[e];return}function v(e){var t=e.get("EndUsersManager").getEndUserGuid();return t instanceof Object&&(t=void 0),C(t)&&(t=t.toString()),t}function m(e){i("identifyJaco: "+e);var t=r().get("PromiseManager").defer();return e?window.JacoRecorder.identify(e,function(e){if(e)return t.reject(e);t.resolve()}):(i("identity is not valid"),t.resolve()),t}function _(e){i("sendToJaco: time = "+e.eventData.time),window.JacoRecorder.trackEvent(e.eventName||"walkmeEvent",e.eventData),i("post JacoRecorder.trackEvent")}function y(e,t){var n=t.name;if(u.indexOf(n)>=0){var r=e.get("AnalyticsPropertiesManager").getPropertyValue(n);r&&b(n,r)}}function b(e,t){i("setSessionAttribute: attributeName="+e+", attributeValue="+t),window.JacoRecorder.push(["session.setAttribute",{attributeName:e,attributeValue:[t]},function(e){e&&i("Setting session attribute failed",e)}]),i("post setSessionAttribute")}function w(e){e.decorate("EventCollectorEventSender",function(e){var t=e.postEvent;return e.postEvent=function(e,n){if("[object Function]"===Object.prototype.toString.call(n)){var r=function(){var e=n();return E(e)};return t(e,r)}return n=E(n),t(e,n)},e})}function E(e){if(null!=e&&"[object Object]"!==Object.prototype.toString.call(e))return e;return e=e||{},e.pluginVer=o.version,e.libVer=_walkMe.LibVersion,e}function S(e){return{get:function(){return PromiseManager.resolve(window.JacoRecorder)},getInitialized:function(){return e.promise.then(function(){return window.JacoRecorder})},getSessionInfo:function(){return e.promise}}}function O(){return void 0!=window.wmPreviewSnippet||void 0==window.wmSnippet}function C(e){return"number"==typeof e}n.VisionsPlugin=c},{"../dist-no-ugly/recorder_v2":52,"../package":53,"./get_wm_identity_storage":54,"./is_cross_origin_iframe":55,"./logger":56,"wm-lib-env-provider":6,"wm-prelib-plugin-entry-manager":59}],59:[function(e,t,n){"use strict";var r,i={createPluginEntry:o,getCtx:a};function o(e){return function(t){r=t(),e(s)}}function a(){return r.ctx}function s(e){r.plugin(e)}n.__esModule=!0,n["default"]=i,n.createPluginEntry=i.createPluginEntry,n.getCtx=i.getCtx},{}],60:[function(e,t,n){!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=n:e.sfLightningInitContext=n}(this,function(t,n,r){if(t._walkmeInternals&&t._walkmeInternals.sfLightningInitUserContext)return t._walkmeInternals.sfLightningInitUserContext.result;var i=e("wm-client-server-logger")(n),o=i.ConstsLogLevel,a=(n.get("PromiseManager"),n.get("EventsListener"),n.get("EventsTrigger"),n.get("PrelibLogger")),s=[];function u(){var e=null;return c()||(n.decorate("LibInitializer",function(e){return e.originalStartInitializer=e.startInitializer,e.startInitializer=function(){try{p()}catch(t){}e.originalStartInitializer.apply(e,arguments)},e}),e=d().then(function(e){l(e)})["catch"](function(e){if(e instanceof Error&&e.extraData)f(e.message,e.extraData);else{var t="UserContext plugin internal error: "+e,n={sfUCCode:"Plugin.InternalError",sfUCError:""+e,logLevel:o.ALWAYS};f(t,n)}})),t._walkmeInternals&&(t._walkmeInternals.sfLightningInitUserContext={result:e}),e}function c(){return t.UserContext&&t.UserContext.userId&&t.UserContext.userName&&t.UserContext.vfDomainPattern}function l(e){try{var n="while(1);",r=e.indexOf(n);r>=0&&r<8?e=e.substr(r+n.length):f("UserContextServlet response does not start with while(1)",{sfUCCode:"UserContextServlet.NoSecurityPrefix",sfUCServletResponse:e,logLevel:o.ALWAYS}),c()||(t.UserContext=t.UserContext||{},wmjQuery.extend(t.UserContext,JSON.parse(e)),t.UserContext.initializeFromServlet=t.UserContext.initializeFromServlet||function(){},t.UserContext.getUrl=t.UserContext.getUrl||function(e){return e}),f("UserContext OK",{sfUCCode:"OK",logLevel:o.WEEKLY})}catch(i){var a=new Error("Failed to parse UserContextServlet response");throw a.extraData={sfUCCode:"UserContextServlet.ParseResponseFailed",sfUCServletResponse:e,logLevel:o.DAILY},a}}function d(){return a.write("UserContext: none found in Lightning - requesting UserContextServlet..."),n.create("Promise",function(e,t){wmjQuery.ajax({type:"GET",url:"/_ui/system/context/UserContextServlet",dataType:"text",success:e,error:function(e){var n=new Error("Request to UserContextServlet failed.");n.extraData={sfUCCode:"UserContextServlet.RequestFailed",sfUCServletResponse:e.status,logLevel:o.DAILY},t(n)}})})}function f(e,t){s.push({message:e,extraData:t}),a.write(e)}function p(){for(var e=h(),t=e&&e.UserGuids&&e.UserGuids[0],n=0;n<s.length;n++){var o=s[n];o.extraData?o.extraData.uId=t:o.extraData={uId:t},r&&r.push(o),i.sendLog(o)}}function h(){return g("wmSnippet")||g("wmPlaySnippet")||g("wmPreviewSnippet")}function g(e){if(t[e]&&t[e].getSettingsFile)return t[e].getSettingsFile()}return u()})},{"wm-client-server-logger":5}]},{},[4]);